var Gk=Object.create;var Hn=Object.defineProperty,Vk=Object.defineProperties,zk=Object.getOwnPropertyDescriptor,Qk=Object.getOwnPropertyDescriptors,Kk=Object.getOwnPropertyNames,cy=Object.getOwnPropertySymbols,Xk=Object.getPrototypeOf,py=Object.prototype.hasOwnProperty,Zk=Object.prototype.propertyIsEnumerable;var my=(e,t,r)=>t in e?Hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,E=(e,t)=>{for(var r in t||(t={}))py.call(t,r)&&my(e,r,t[r]);if(cy)for(var r of cy(t))Zk.call(t,r)&&my(e,r,t[r]);return e},re=(e,t)=>Vk(e,Qk(t)),gy=e=>Hn(e,"__esModule",{value:!0});var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Jk=(e,t)=>{gy(e);for(var r in t)Hn(e,r,{get:t[r],enumerable:!0})},eR=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Kk(t))!py.call(e,i)&&i!=="default"&&Hn(e,i,{get:()=>t[i],enumerable:!(r=zk(t,i))||r.enumerable});return e},M=e=>eR(gy(Hn(e!=null?Gk(Xk(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var hy=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var vy=(e,t,r)=>(hy(e,t,"read from private field"),r?r.call(e):t.get(e)),xy=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},yy=(e,t,r,i)=>(hy(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r);var sm=p(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.sum=ki.compactI=void 0;var tR=e=>e.filter(t=>t!=null);ki.compactI=tR;var rR=e=>e.reduce((t,r)=>t+r);ki.sum=rR});var mo=p(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.isTest=ze.isLinux=ze.isMacintosh=ze.isWindows=ze.isWebpack=void 0;ze.isWebpack=typeof __webpack_require__=="function";ze.isWindows=process.platform==="win32";ze.isMacintosh=process.platform==="darwin";ze.isLinux=process.platform==="linux";ze.isTest=process.env.NODE_ENV==="test"});var um=p(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.displayHeight=Qe.displayWidth=Qe.byteLength=Qe.byteIndex=Qe.generateUri=void 0;var iR=require("coc.nvim"),nR=sm(),aR=mo();function oR(e,t="file"){return t==="file"&&aR.isWindows&&/^[A-Za-z]:/.test(e)&&(e="/"+e),t+"://"+e}Qe.generateUri=oR;function sR(e,t){let r=e.slice(0,t);return Buffer.byteLength(r)}Qe.byteIndex=sR;function uR(e){return Buffer.byteLength(e)}Qe.byteLength=uR;async function wy(e){return await iR.workspace.nvim.call("strdisplaywidth",[e])}Qe.displayWidth=wy;async function lR(e,t,r,i="n"){let n=await Promise.all(t.map(async(a,o)=>{let s=await wy(a);return i==="i"&&r&&r[0]-1===o&&r[1]+1>=s&&(s+=1),Math.ceil(s/e)}));return(0,nR.sum)(n)}Qe.displayHeight=lR});var by=p(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.getConfigLocal=void 0;var _y=require("coc.nvim"),dR=um(),fR=e=>(t=(0,dR.generateUri)(_y.workspace.cwd))=>_y.workspace.getConfiguration(e,t);go.getConfigLocal=fR});var Ty=p($e=>{"use strict";var cR=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0});$e.prettyPrint=$e.prettyObject=$e.helperLogger=$e.HelperLogger=void 0;var ho=require("coc.nvim"),pR=cR(require("util")),Oy=mo(),vo=["trace","debug","info","warn","error","fatal","off"],mR=vo.indexOf("error");function My(e){return`${e.toLocaleString()} ${e.getMilliseconds().toString().padStart(3,"0")}`}var lm=class{constructor(t){this.channelName=t,this.timeMarkers=new Map,this.levelStatus="trace",this.levelNumber=vo.indexOf(this.levelStatus),this.appendLine=this.appendLine.bind(this),this.log=this.log.bind(this),this.trace=this.trace.bind(this),this.debug=this.debug.bind(this),this.info=this.info.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this),this.fatal=this.fatal.bind(this)}set level(t){this.levelStatus=t,this.levelNumber=vo[t]}get level(){return this.levelStatus}dispose(){var t;(t=this.outputChannel_)===null||t===void 0||t.dispose()}get outputChannel(){return this.outputChannel_||(this.outputChannel_=ho.window.createOutputChannel(this.channelName)),this.outputChannel_}appendLine(t){this.outputChannel.appendLine(t)}log(t,r){var i,n;let a=vo[t];if(a<this.levelNumber)return;let o=`[${My(new Date)}] [${t}]: `;if(r instanceof Error){this.appendLine(`${o}${(i=r.stack)!==null&&i!==void 0?i:r.toString()}`),ho.window.showMessage(r.message,"error"),Oy.isTest&&console.error((n=r.stack)!==null&&n!==void 0?n:r.toString());return}this.appendLine(`${o}${r}`),a>mR&&(ho.window.showMessage(r,"error"),Oy.isTest&&console.error(r))}trace(t){this.log("trace",t)}debug(t){this.log("debug",t)}info(t){this.log("info",t)}warn(t){this.log("warn",t)}error(t){t instanceof Error||(t=new Error(t)),this.log("error",t)}fatal(t){this.log("fatal",t)}time(t="default"){this.timeMarkers.set(t,new Date().valueOf())}timeElapsed(t="default"){let r=this.timeMarkers.get(t);if(r!==void 0)return new Date().valueOf()-r}timeLog(t="default"){let r=this.timeElapsed(t);r!==void 0&&this.appendLine(`${t}: ${r} ms`)}measureTime(t){let r=new Date().valueOf(),i=t();return"then"in i?i.then(n=>[n,new Date().valueOf()-r]):[i,new Date().valueOf()-r]}measureTask(t,r="default",i="info"){let n=this.measureTime(t);if(!("then"in n)){let[a,o]=n;return this.log(i,`[measureTask] ${r}: ${o} ms`),a}return n.then(([a,o])=>(this.log(i,`${r}: ${o} ms`),a))}asyncCatch(t){return async(...r)=>{try{return await t(...r)}catch(i){this.error(i)}}}prettyPrint(...t){this.info(dm(...t)),ho.window.showMessage(`[${My(new Date)}] ${dm(...t)}`)}};$e.HelperLogger=lm;$e.helperLogger=new lm("coc-helper");function dm(...e){return e.map(t=>pR.default.inspect(t)).join(" ")}$e.prettyObject=dm;function gR(...e){$e.helperLogger.prettyPrint(...e)}$e.prettyPrint=gR});var jy=p((Que,hR)=>{hR.exports={name:"coc-helper",version:"0.12.0",description:"Helpers for coc.nvim",module:"lib/esm/index.js",main:"lib/cjs/index.js",homepage:"https://github.com/weirongxu/coc-helper",repository:"git@github.com:weirongxu/coc-helper.git",author:"Weirong Xu <weirongxu.raidou@gmail.com>",license:"MIT",files:["lib","tests","jest.config.js","JestHelper.js","JestHelper.d.ts"],scripts:{clean:"rimraf lib","copy:pkg":"cpy --rename=_package.json package.json src/","build:esm":"tsc -p ./tsconfig.prod.json --module es2020 --outDir lib/esm","build:cjs":"tsc -p ./tsconfig.prod.json --module commonjs --outDir lib/cjs",build:"npm-run-all clean copy:pkg build:esm build:cjs",lint:"eslint src --ext ts","setup:test-env":"node ./tests/setup.js",prepare:"run-s clean setup:test-env build",unittest:"jest --runInBand --detectOpenHandles --forceExit",test:"npm-run-all copy:pkg lint unittest"},engines:{coc:"^0.0.77"},activationEvents:["*"],prettier:{singleQuote:!0,printWidth:80,semi:!0,trailingComma:"all"},peerDependencies:{"coc.nvim":"*"},devDependencies:{"@chemzqm/neovim":"^5.4.0","@types/eslint":"^7.28.0","@types/jest":"^27.0.1","@types/node":"^16.9.1","@types/rimraf":"^3.0.2","@types/uuid":"^8.3.1","@typescript-eslint/eslint-plugin":"^4.31.1","@typescript-eslint/parser":"^4.31.1","coc.nvim":"0.0.81-next.0","cpy-cli":"^3.1.1",eslint:"^7.32.0",jest:"^27.2.0",log4js:"^6.3.0","npm-run-all":"^4.1.5","ts-jest":"^27.0.5","type-fest":"^2.3.2",typescript:"^4.4.3"},dependencies:{rimraf:"^3.0.2",uuid:"^8.3.2"}}});var Sy=p(Nt=>{"use strict";var vR=Nt&&Nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.versionName=Nt.version=void 0;var xR=vR(jy());Nt.version=xR.default.version;Nt.versionName=Nt.version.replace(/[.-]/g,"_")});var sr=p(We=>{"use strict";var yR=We&&We.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),Ri=We&&We.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yR(t,e,r)};Object.defineProperty(We,"__esModule",{value:!0});We.sleep=void 0;Ri(sm(),We);Ri(by(),We);Ri(mo(),We);Ri(Ty(),We);Ri(um(),We);Ri(Sy(),We);function wR(e){return new Promise(t=>{setTimeout(t,e)})}We.sleep=wR});var Un=p(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.Notifier=void 0;var qy=require("coc.nvim"),_R=sr(),Jr=class{constructor(t){this.notifyFns=[],this.notifyFns.push(t)}static async run(t){if(!!t)if("then"in t){let r=await t;if(r)return r.run()}else return t.run()}static notifyAll(t){for(let r of t)r&&r.notify()}static async runAll(t){let r=await Promise.all(t);return qy.workspace.nvim.pauseNotification(),this.notifyAll(r),qy.workspace.nvim.resumeNotification()}static combine(t){let r=(0,_R.compactI)(t);return r.length<1?Jr.noop():r.length===1?r[0]:r.reduce((i,n)=>i.concat(n),Jr.noop())}static noop(){return this.create(()=>{})}static create(t){return new Jr(t)}async run(){return Jr.runAll([this])}notify(){for(let t of this.notifyFns)t()}concat(t){return this.notifyFns.push(...t.notifyFns),this}};xo.Notifier=Jr});var fm=p(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.getModuleId=void 0;var bR="__coc_helper_module_max_id";function OR(e){let t=`${bR}_${e}`;return t in global||(global[t]=0),global[t]+=1,global[t]}yo.getModuleId=OR});var ei=p(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.VimModule=void 0;var wo=require("coc.nvim"),Iy=Un(),Pt=sr(),Dy=fm(),cm=(0,Dy.getModuleId)("VimModule"),MR=`coc_helper_module_m${cm}_v${Pt.versionName}`,ht=`g:${MR}`,Yn=`CocHelperCallFn_m${cm}_v${Pt.versionName}`,$n=`CocHelperCallVar_m${cm}_v${Pt.versionName}`;function Gn(e){return e.replace(/\n\s*\\/g,"")}var Et=class{constructor(t){this.moduleKey=t}static async init(t){this.inited=!0,await wo.workspace.nvim.call("execute",`
        if !exists('${ht}')
          let ${ht} = {}
        endif

        function! ${Yn}(module_key, method_name, args)
          try
            return call(${ht}[a:module_key][a:method_name], a:args)
          catch
            let ex = v:exception
            let msg = printf('error when call %s.%s.%s, args: [%s]', '${ht}', a:module_key, a:method_name, join(a:args, ','))
            echom msg
            echom ex
            throw msg . ' ' . ex
          endtry
        endfunction

        function! ${$n}(module_key, var_name, expression)
          try
            let ${ht}[a:module_key][a:var_name] = eval(a:expression)
          catch
            let ex = v:exception
            let msg = printf('error when declare %s.%s.%s, expression: %s', '${ht}', a:module_key, a:var_name, a:expression)
            echom msg
            echom ex
            throw msg . ' ' . ex
          endtry
        endfunction
      `);let r=[...this.initQueue];for(;r.length;){let i=r.shift();try{await i.fn(t)}catch(n){Pt.helperLogger.error(n)}this.initAfterQueue.length&&(r.push(...this.initAfterQueue),this.initAfterQueue=[])}}static registerInit(t,r){this.inited?this.initAfterQueue.push({description:t,fn:r}):this.initQueue.push({description:t,fn:r})}static create(t,r){let n=`${(0,Dy.getModuleId)("VimModule.module")}_${t}`,a=new Et(n),o;function s(){return o||(o=r(a)),o}return Et.registerInit(`module ${n}`,async()=>{await wo.workspace.nvim.call("execute",`
          if !exists('${ht}.${n}')
            let ${ht}.${n} = {}
          endif
        `),s()}),new Proxy({},{get(u,l){return Reflect.get(s(),l)},has(u,l){return l in s()},ownKeys(){return Object.keys(s())}})}registerInit(t,r){return typeof t=="string"?Et.registerInit(t,r):this.registerInit("",t)}fn(t,r){let{nvim:i}=wo.workspace,n=`${ht}.${this.moduleKey}.${t}`,a=r({name:n});return this.registerInit(`fn ${n}`,async()=>{Pt.helperLogger.debug(`declare fn ${n}`),await i.call("execute",[Gn(a)])}),{name:n,inlineCall:(o="")=>`${Yn}('${this.moduleKey}', '${t}', [${o}])`,call:(...o)=>(Pt.helperLogger.debug(`call ${n}`),i.call(Yn,[this.moduleKey,t,o])),callNotify:(...o)=>(Pt.helperLogger.debug(`callNotify ${n}`),i.call(Yn,[this.moduleKey,t,o],!0)),callNotifier:(...o)=>(Pt.helperLogger.debug(`callNotifier ${n}`),Iy.Notifier.create(()=>{i.call(Yn,[this.moduleKey,t,o],!0)}))}}var(t,r){let{nvim:i}=wo.workspace,n=`${ht}.${this.moduleKey}.${t}`;return this.registerInit(`var ${n}`,async()=>{Pt.helperLogger.debug(`declare var ${n}`),await i.call($n,[this.moduleKey,t,Gn(r)])}),{name:n,inline:n,get:()=>i.eval(n),set:async a=>{await i.call($n,[this.moduleKey,t,Gn(a)])},setNotify:a=>{i.call($n,[this.moduleKey,t,Gn(a)],!0)},setNotifier:a=>Iy.Notifier.create(()=>{i.call($n,[this.moduleKey,t,Gn(a)],!0)})}}};_o.VimModule=Et;Et.inited=!1;Et.initQueue=[];Et.initAfterQueue=[]});var Vn=p(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.utilModule=void 0;var TR=ei(),jR=require("coc.nvim");bo.utilModule=TR.VimModule.create("util",e=>{let t=jR.workspace.isNvim;return{globalCursorPosition:e.fn("global_cursor_position",({name:r})=>`
        function! ${r}()
          let nr = winnr()
          let [row, col] = win_screenpos(nr)
          return [row + winline() - 2, col + wincol() - 2]
        endfunction
      `),isFloat:e.fn("is_float",({name:r})=>t?`
          function! ${r}(winnr) abort
            if !exists('*nvim_win_get_config')
              return v:false
            endif
            let winid = win_getid(a:winnr)
            return nvim_win_get_config(winid)['relative'] != ''
          endfunction
        `:`
          function! ${r}(winnr) abort
            return v:false
          endfunction
        `),closeWinByBufnr:e.fn("close_win_by_bufnr",({name:r})=>`
        if exists('*nvim_win_close')
          function! ${r}(bufnrs) abort
            for bufnr in a:bufnrs
              try
                let winid = bufwinid(bufnr)
                if winid >= 0
                  call nvim_win_close(winid, v:true)
                endif
              catch
              endtry
            endfor
          endfunction
        else
          function! ${r}(bufnrs) abort
            for bufnr in a:bufnrs
              try
                let winnr = bufwinnr(bufnr)
                if winnr >= 0
                  execute winnr . 'wincmd c'
                endif
              catch
              endtry
            endfor
          endfunction
        endif
      `),runCocCmd:e.fn("run_coc_cmd",({name:r})=>`
      function! ${r}(name, ...) abort
        return call('CocAction', extend(['runCommand', a:name], a:000))
      endfunction
    `),runCocCmdAsync:e.fn("run_coc_cmd_async",({name:r})=>`
      function! ${r}(name, ...) abort
        return call('CocActionAsync', extend(['runCommand', a:name], a:000))
      endfunction
    `)}})});var hm=p(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.eventsModule=Ee.helperEvents=Ee.helperVimEvents=Ee.HelperVimEvents=Ee.HelperEventEmitter=void 0;var Oo=require("coc.nvim"),Ny=Vn(),pm=sr(),Py=fm(),SR=ei(),qR=(0,Py.getModuleId)("events"),Ey=`m${qR}_v${pm.versionName}`,mm=class{constructor(t,r=!1){this.helperLogger=t,this.concurrent=r,this.listenersMap=new Map}listeners(t){if(!this.listenersMap.has(t)){let r=[];return this.listenersMap.set(t,r),r}return this.listenersMap.get(t)}once(t,r,i){this.listeners(t).push(async(...a)=>{let o=await r(...a);return n.dispose(),o});let n=Oo.Disposable.create(()=>this.off(t,r));return i&&i.push(n),n}on(t,r,i){this.listeners(t).push(r);let n=Oo.Disposable.create(()=>this.off(t,r));return i&&i.push(n),n}off(t,r){typeof r.cancel=="function"&&r.cancel();let i=this.listeners(t),n=i.indexOf(r);n!==-1&&i.splice(n,1)}async fire(t,...r){if(this.concurrent)await Promise.all(this.listeners(t).map(async i=>{try{await i(...r)}catch(n){this.helperLogger.error(n)}}));else for(let i of this.listeners(t))try{await i(...r)}catch(n){this.helperLogger.error(n)}}};Ee.HelperEventEmitter=mm;var gm=class{constructor(t,r,i={}){var n;this.vimEvents=t,this.helperLogger=r,this.options=i,this.id=(0,Py.getModuleId)("events.id"),this.augroupName=`CocHelperInternal_${Ey}_${i.name?`${i.name}_`:""}${this.id}`,this.commandName=`coc-helper.internal.didVimEvent_${Ey}_${i.name?`${i.name}_`:""}${this.id}`,this.events=new mm(this.helperLogger,(n=i.concurrent)!==null&&n!==void 0?n:!1)}async register(t){await Ee.eventsModule.activate.call(this.augroupName,this.commandName,Object.entries(this.vimEvents).map(([r,i])=>Object.assign({event:r},i))),t.subscriptions.push(Oo.Disposable.create(async()=>{await Ee.eventsModule.deactivate.call(this.augroupName)})),t.subscriptions.push(Oo.commands.registerCommand(this.commandName,pm.helperLogger.asyncCatch((r,...i)=>this.events.fire(r,...i)),void 0,!0))}};Ee.HelperVimEvents=gm;Ee.helperVimEvents=new gm({BufDelete:{eventExpr:"BufDelete *",argExprs:["+expand('<abuf>')"]},BufWipeout:{eventExpr:"BufWipeout *",argExprs:["+expand('<abuf>')"]}},pm.helperLogger,{name:"coc_helper"});Ee.helperEvents=Ee.helperVimEvents.events;Ee.eventsModule=SR.VimModule.create("events",e=>{let t=e.fn("activate",({name:i})=>`
      function! ${i}(augroup_name, autocmd_events) abort
        execute 'augroup ' . a:augroup_name
          autocmd!
          for autocmd_event in a:autocmd_events
            execute autocmd_event
          endfor
        augroup END
      endfunction
    `);function r(i,n){return n.map(a=>{var o;let s=`${[`'${i}'`,`'${a.event}'`,...(o=a.argExprs)!==null&&o!==void 0?o:[]].join(", ")}`;return`autocmd ${a.eventExpr} call ${a.async===!1?Ny.utilModule.runCocCmd.inlineCall(s):Ny.utilModule.runCocCmdAsync.inlineCall(s)}`})}return{activate:{call:(i,n,a)=>t.call(i,r(n,a)),callNotify:(i,n,a)=>t.callNotify(i,r(n,a)),callNotifier:(i,n,a)=>t.callNotifier(i,r(n,a))},deactivate:e.fn("deactivate",({name:i})=>`
        function! ${i}(augroup_name) abort
          execute 'augroup ' . a:augroup_name
            autocmd!
          augroup END
        endfunction
      `),doAutocmd:e.fn("do_autocmd",({name:i})=>`
        function! ${i}(name) abort
          if exists('#User#'.a:name)
            exe 'doautocmd <nomodeline> User '.a:name
          endif
        endfunction
      `)}})});var vm=p(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.bufModule=void 0;var IR=ei(),DR=require("coc.nvim");Mo.bufModule=IR.VimModule.create("buf",e=>{let t=DR.workspace.isNvim,r=e.fn("create_by_name",({name:i})=>`
      function! ${i}(name) abort
        return bufadd(a:name)
      endfunction
    `);return{createByName:r,create:e.fn("create",({name:i})=>t?`
          function! ${i}(...) abort
            let name = get(a:000, 0, '')
            if name is ''
              return nvim_create_buf(v:false, v:true)
            else
              return ${r.inlineCall("name")}
            endif
          endfunction
        `:`
          function! ${i}(...) abort
            let name = get(a:000, 0, '')
            return ${r.inlineCall("name")}
          endfunction
        `)}})});var xm=p(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.floatingModule=void 0;var NR=require("coc.nvim"),PR=ei(),Cy=vm();To.floatingModule=PR.VimModule.create("float",e=>{let t=NR.workspace.isNvim,r=e.fn("init_execute",({name:n})=>`
      function! ${n}(ctx, inited_execute) abort
        execute a:inited_execute
      endfunction
    `),i=e.fn("open_win",({name:n})=>t?`
        function! ${n}(bufnr, focus, win_config, win_hl, inited_execute) abort
          noau let winid = nvim_open_win(a:bufnr, a:focus, a:win_config)
          if !empty(a:win_hl)
            call nvim_win_set_option(winid, 'winhl', a:win_hl)
          endif
          if !empty(a:inited_execute)
            call ${r.inlineCall("{'bufnr': a:bufnr, 'winid': winid}, a:inited_execute")}
          endif
          return winid
        endfunction
      `:`
        function! ${n}(bufnr, focus, win_config, win_hl, inited_execute) abort
          let winid = popup_create(a:bufnr, a:win_config)
          call ${r.inlineCall("{'bufnr': a:bufnr, 'winid': winid}, a:inited_execute")}

          return winid
        endfunction
      `);return{create:e.fn("create",({name:n})=>t?`
            function! ${n}(name, inited_execute, has_border_buf, border_inited_execute) abort
              let bufnr = ${Cy.bufModule.create.inlineCall("a:name")}
              call ${r.inlineCall("{'bufnr': bufnr}, a:inited_execute")}

              let border_bufnr = v:null
              if a:has_border_buf
                let border_bufnr = nvim_create_buf(v:false, v:true)
                call ${r.inlineCall("{'bufnr': border_bufnr}, a:border_inited_execute")}
              endif
              return [bufnr, border_bufnr]
            endfunction
          `:`
            function! ${n}(name, inited_execute, has_border_buf, border_inited_execute) abort
              let bufnr = ${Cy.bufModule.create.inlineCall("a:name")}
              call ${r.inlineCall("{'bufnr': bufnr}, a:inited_execute")}
              return [bufnr, v:null]
            endfunction
          `),open:e.fn("open",({name:n})=>`
        function! ${n}(bufnr, win_config, inited_execute, border_bufnr, border_win_config, border_inited_execute, focus, win_hl) abort
          let winid = ${i.inlineCall("a:bufnr, a:focus, a:win_config, a:win_hl, a:inited_execute")}
          call setbufvar(a:bufnr, 'coc_helper_winid', winid)

          if a:border_bufnr
            let border_winid = ${i.inlineCall("a:border_bufnr, v:false, a:border_win_config, a:win_hl, a:border_inited_execute")}
            call setbufvar(a:bufnr, 'coc_helper_border_winid', border_winid)
          endif
        endfunction
      `),resume:e.fn("resume",({name:n})=>`
        function! ${n}(bufnr, win_config, border_bufnr, border_win_config, focus, win_hl) abort
          let winid = ${i.inlineCall("a:bufnr, a:focus, a:win_config, a:win_hl, ''")}
          call setbufvar(a:bufnr, 'coc_helper_winid', winid)

          if a:border_bufnr
            let border_winid = ${i.inlineCall("border_bufnr, v:false, a:border_win_config, a:win_hl, ''")}
            call setbufvar(a:bufnr, 'coc_helper_border_winid', border_winid)
          endif
        endfunction
      `),update:e.fn("update",({name:n})=>t?`
          function! ${n}(bufnr, win_config, border_bufnr, border_win_config, win_hl) abort
            let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)
            if !winid
              return
            endif
            call nvim_win_set_config(winid, a:win_config)
            if !empty(a:win_hl)
              call nvim_win_set_option(winid, 'winhl', a:win_hl)
            endif
            if has('nvim')
              redraw!
            endif

            if a:border_bufnr
              let border_winid = getbufvar(a:bufnr, 'coc_helper_border_winid', v:null)
              if border_winid
                call nvim_win_set_config(border_winid, a:border_win_config)
                if !empty(a:win_hl)
                  call nvim_win_set_option(border_winid, 'winhl', a:win_hl)
                endif
                if has('nvim')
                  redraw!
                endif
              endif
            endif
          endfunction
        `:`
          function! ${n}(bufnr, win_config, border_bufnr, border_win_config, win_hl) abort
            let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)
            if !winid
              return
            endif
            call popup_setoptions(winid, a:win_config)
          endfunction
        `),winid:e.fn("winid",({name:n})=>`
        function! ${n}(bufnr) abort
          let id = getbufvar(a:bufnr, 'coc_helper_winid', v:null)
          let nr = win_id2win(id)
          return nr is 0 ? v:null : id
        endfunction
      `),borderWinid:e.fn("border_winid",({name:n})=>`
        function! ${n}(bufnr) abort
          return getbufvar(a:bufnr, 'coc_helper_border_winid', v:null)
        endfunction
      `),close:e.fn("close",({name:n})=>t?`
            function! ${n}(bufnr) abort
              let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)
              let border_winid = getbufvar(a:bufnr, 'coc_helper_border_winid', v:null)
              try
                if winid
                  call nvim_win_close(winid, v:true)
                endif
                if border_winid
                  call nvim_win_close(border_winid, v:true)
                endif
              catch
              endtry
            endfunction
          `:`
            function! ${n}(bufnr) abort
              let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)
              try
                if winid
                  call popup_close(winid)
                endif
              catch
              endtry
            endfunction
          `)}})});var ym=p(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.FloatingUtil=void 0;var Li=require("coc.nvim"),ER=Vn(),Ay=Un(),CR=sr(),ky=["\u2500","\u2502","\u2500","\u2502","\u250C","\u2510","\u2518","\u2514"],Ry="CocHelperNormalFloat",AR="CocHelperNormalFloatNC",Ly="CocHelperNormalFloatBorder",Wy=class{constructor(t){this.srcId=t}async createContext(t){var r,i;return(r=t.context)!==null&&r!==void 0?r:{lines:Li.workspace.env.lines,columns:Li.workspace.env.columns-Li.workspace.env.cmdheight-1,globalCursorPosition:await ER.utilModule.globalCursorPosition.call(),title:t.title?{text:t.title,width:await(0,CR.displayWidth)(t.title)}:{text:"",width:0},borderEnabled:!!t.border,border:this.extendEdges((i=t.border)===null||i===void 0?void 0:i.map(n=>typeof n=="boolean"?1:n)),paddingEnabled:!!t.padding,padding:this.extendEdges(t.padding)}}getCenterPos(t,r){let[,,i,n]=r,a=Math.floor((t.lines-n)/2),o=Math.floor((t.columns-i)/2);return[a,o]}getPosForAround(t,r,i,n=!1){let a=t.columns,o=t.lines-1,[s,u]=r,[l,d]=i;return n?l-u<0?l+=1:l-=u:l+u>=o?l-=u:l+=1,d+s>=a&&(d-=s-1),[l,d]}extendEdges(t){var r,i,n,a;if(!t)return[0,0,0,0];let o=(r=t[0])!==null&&r!==void 0?r:1,s=(i=t[1])!==null&&i!==void 0?i:o,u=(n=t[2])!==null&&n!==void 0?n:o,l=(a=t[3])!==null&&a!==void 0?a:s;return[o,s,u,l]}changeBoxByEdgesList(t,r){let i=[...t];for(let n of r)i=this.changeBoxByEdges(i,n);return i}changeBoxByEdges(t,r){if(!r)return t;let[i,n,a,o]=r,[s,u,l,d]=t;return s-=i,u-=o,l+=o+n,d+=i+a,[s,u,l,d]}getBoxSizes(t,r,i){var n,a;let[o,s]=[(n=r.top)!==null&&n!==void 0?n:0,(a=r.left)!==null&&a!==void 0?a:0],u=Math.max(r.width,t.title.width),l=[0,0,u,r.height],d=this.changeBoxByEdges(l,t.padding),f=this.changeBoxByEdges(d,t.border),c;if(r.relative==="center")c=this.getCenterPos(t,f);else{let m=!i&&this.storeCursorPosition?this.storeCursorPosition:t.globalCursorPosition;r.relative==="cursor"?c=m:r.relative==="cursor-around"?c=this.getPosForAround(t,[f[2],f[3]],m):c=[o,s],this.storeCursorPosition=m}return[f[0],f[1]]=[c[0],c[1]],[d[0],d[1]]=[f[0]+t.border[0],f[1]+t.border[3]],[l[0],l[1]]=[d[0]+t.padding[0],d[1]+t.padding[3]],{contentBox:l,paddingBox:d,borderBox:f}}vimWinConfig(t,r,i){var n,a,o,s,u,l,d,f;let[c,m,g,y]=[(n=r.top)!==null&&n!==void 0?n:0,(a=r.left)!==null&&a!==void 0?a:0,r.width,r.height],w={line:0,col:0,zindex:((o=r.borderOnly)!==null&&o!==void 0?o:!1)?1:100,minwidth:g,minheight:y,maxwidth:g,maxheight:y};if(r.relative==="center")w.pos="center";else{let q=!i&&this.storeCursorPosition?this.storeCursorPosition:t.globalCursorPosition;if(r.relative==="cursor")[w.line,w.col]=q;else if(r.relative==="cursor-around"){let P=this.changeBoxByEdgesList([c,m,g,y],[t.padding,t.border]);[w.line,w.col]=this.getPosForAround(t,[P[2],P[3]],q)}else[w.line,w.col]=[c,m];this.storeCursorPosition=q,w.line+=1,w.col+=1}let O=(s=r.topOffset)!==null&&s!==void 0?s:0,T=(u=r.leftOffset)!==null&&u!==void 0?u:0;return w.line+=O,w.col+=T,r.maxWidth&&(w.maxwidth=r.maxWidth),r.maxHeight&&(w.maxheight=r.maxHeight),w.highlight=(l=r.winHl)!==null&&l!==void 0?l:Ry,r.padding&&(w.padding=r.padding),t.borderEnabled&&(w.border=t.border,w.border[0]&&(t.title.width&&(w.title=t.title.text),w.close="button"),w.borderchars=(d=r.borderChars)!==null&&d!==void 0?d:ky,w.borderhighlight=[(f=r.borderWinHl)!==null&&f!==void 0?f:Ly]),w}nvimWinConfig(t,r,i){var n,a,o;let{contentBox:s,borderBox:u}=this.getBoxSizes(t,r,i),l=(n=r.topOffset)!==null&&n!==void 0?n:0,d=(a=r.leftOffset)!==null&&a!==void 0?a:0,f={relative:"editor",row:s[0]+l,col:s[1]+d,width:s[2],height:s[3],focusable:(o=r.focusable)!==null&&o!==void 0?o:!0},c;return u&&(c={relative:"editor",row:u[0]+l,col:u[1]+d,width:u[2],height:u[3],focusable:!1}),[f,c]}winConfig(t,r,i=!0){return Li.workspace.isVim?[this.vimWinConfig(t,r,i),void 0]:this.nvimWinConfig(t,r,i)}getRenderBorderData(t,r,i){var n,a,o,s,u,l;let d=(a=(n=t.title)===null||n===void 0?void 0:n.text)!==null&&a!==void 0?a:"",f=(s=(o=t.title)===null||o===void 0?void 0:o.width)!==null&&s!==void 0?s:0;if(!t.borderEnabled)return;let[c,m,g,y]=t.border,[w,O,T,q,P,L,Ie,je]=(u=r.borderChars)!==null&&u!==void 0?u:ky;c||(w=""),m||(O=""),g||(T=""),y||(q=""),(!c||!y)&&(P=""),(!c||!m)&&(L=""),(!g||!y)&&(je=""),(!g||!m)&&(Ie="");let de=i[0],be=i[1],Ue=de-y-m,qt=be-c-g,tt=[];c&&tt.push(P+d+w.repeat(Ue-f)+L),tt.push(...Array.from({length:qt},()=>q+" ".repeat(Ue)+O)),g&&tt.push(je+T.repeat(Ue)+Ie);let Se=[],gt=(l=r.borderWinHl)!==null&&l!==void 0?l:Ly;if(gt){Se.push({srcId:this.srcId,hlGroup:gt,line:0,colStart:0,colEnd:de});for(let Le=0,It=qt;Le<It;Le++)y&&Se.push({srcId:this.srcId,hlGroup:gt,line:Le+1,colStart:0,colEnd:y}),m&&Se.push({srcId:this.srcId,hlGroup:gt,line:Le+1,colStart:y+Ue,colEnd:de});g&&Se.push({srcId:this.srcId,hlGroup:gt,line:be-1,colStart:0,colEnd:de})}return{lines:tt,highlights:Se}}renderBorderNotifier(t,r,i,n){let a=this.getRenderBorderData(r,i,"width"in n?[n.width,n.height]:[n.minwidth,n.minheight]);if(!a)return Ay.Notifier.noop();let{lines:o,highlights:s}=a;return Ay.Notifier.create(()=>{t.setOption("modifiable",!0,!0),t.setOption("readonly",!1,!0),t.setLines(o,{start:0,end:-1},!0),t.setOption("modifiable",!1,!0),t.setOption("readonly",!0,!0),this.addHighlightsNotify(t,s)})}nvimWinHl(t){var r,i;if(Li.workspace.isVim)return"";let n=[];return n.push("Normal:"+((r=t.winHl)!==null&&r!==void 0?r:Ry)),n.push("NormalNC:"+((i=t.winHlNC)!==null&&i!==void 0?i:AR)),n.join(",")}addHighlightsNotify(t,r){for(let i of r)!i.srcId||!i.hlGroup||i.line===void 0||i.colStart===void 0||i.colEnd===void 0||t.highlightRanges(this.srcId,i.hlGroup,[Li.Range.create(i.line,i.colStart,i.line,i.colEnd)])}};jo.FloatingUtil=Wy});var qo=p(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.FloatingWindow=void 0;var rt=require("coc.nvim"),ti=Un(),Ct=xm(),kR=Vn(),RR=sr(),LR=ym(),ie=class{constructor(t,r,i,n,a){this.bufnr=t,this.borderBufnr=r,this.createOptions=i,this.mode=n,this.util=a,this.nvim=rt.workspace.nvim,this.disposables=[],this.nvim=rt.workspace.nvim,this.buffer=this.nvim.createBuffer(t),r&&(this.borderBuffer=rt.workspace.nvim.createBuffer(r),this.disposables.push(rt.events.on("BufWinLeave",RR.helperLogger.asyncCatch(async o=>{this.borderBufnr&&o===this.bufnr&&await kR.utilModule.closeWinByBufnr.call([this.borderBufnr])}))))}static getInitedExecute(t,r){var i,n,a,o;let s=(n=(i=r.initedExecute)===null||i===void 0?void 0:i.call(r,ie.initedContextVars.create))!==null&&n!==void 0?n:"";s=ie.modePresets[t].createInitedExecute(ie.initedContextVars.create)+`
`+s;let u=(o=(a=r.borderInitedExecute)===null||a===void 0?void 0:a.call(r,ie.initedContextVars.create))!==null&&o!==void 0?o:ie.modePresets.show.createInitedExecute(ie.initedContextVars.create);return[s,u]}static async create(t={}){var r,i,n;let a=(r=t.mode)!==null&&r!==void 0?r:"default",[o,s]=this.getInitedExecute(a,t),[u,l]=await Ct.floatingModule.create.call((i=t.name)!==null&&i!==void 0?i:"",o,(n=t.hasBorderBuf)!==null&&n!==void 0?n:!0,s),d=new LR.FloatingUtil(this.srcId);return new ie(u,l!=null?l:void 0,t,a,d)}getInitedExecute(t){var r,i,n,a;let o=(i=(r=t.initedExecute)===null||r===void 0?void 0:r.call(t,ie.initedContextVars.open))!==null&&i!==void 0?i:"";o=ie.modePresets[this.mode].openInitedExecute(ie.initedContextVars.open)+`
`+o;let s=(a=(n=t.borderInitedExecute)===null||n===void 0?void 0:n.call(t,ie.initedContextVars.open))!==null&&a!==void 0?a:ie.modePresets.show.openInitedExecute(ie.initedContextVars.open);return[o,s]}getFocus(t){var r,i;return(i=(r=t.focus)!==null&&r!==void 0?r:this.mode?ie.modePresets[this.mode].focus:void 0)!==null&&i!==void 0?i:!1}getModifiable(t){var r,i;return(i=(r=t.modifiable)!==null&&r!==void 0?r:this.mode?ie.modePresets[this.mode].modifiable:void 0)!==null&&i!==void 0?i:!1}setLinesNotifier(t){return ti.Notifier.create(()=>{if(!t.lines&&!t.modifiable)return;let r=this.getModifiable(t);if(this.buffer.setOption("modifiable",!0,!0),this.buffer.setOption("readonly",!1,!0),t.lines&&this.buffer.setLines(t.lines,{start:0,end:-1},!0),r||(this.buffer.setOption("modifiable",!1,!0),this.buffer.setOption("readonly",!0,!0)),t.highlights)for(let i of t.highlights)(i.srcId===void 0||i.srcId===-1||i.srcId===0)&&(i.srcId=ie.srcId),this.util.addHighlightsNotify(this.buffer,[i]);rt.workspace.isVim&&this.nvim.command("redraw!",!0)})}async setLines(t){await this.setLinesNotifier(t).run()}async opened(){return!!await this.win()}async openNotifier(t){var r;if(t.width<=0||t.height<=0)return ti.Notifier.noop();let i=[];i.push(this.closeNotifier());let n=await this.util.createContext(t),[a,o]=this.getInitedExecute(t),[s,u]=this.util.winConfig(n,t);return t.borderOnly&&u?(i.push(Ct.floatingModule.open.callNotifier(this.bufnr,u,o,null,null,"",!1,this.util.nvimWinHl(t))),i.push(this.util.renderBorderNotifier(this.buffer,n,t,u))):i.push(Ct.floatingModule.open.callNotifier(this.bufnr,s,a,(r=this.borderBufnr)!==null&&r!==void 0?r:null,u!=null?u:null,o,this.getFocus(t),this.util.nvimWinHl(t))),rt.workspace.isNvim&&this.borderBuffer&&u&&i.push(this.util.renderBorderNotifier(this.borderBuffer,n,t,u)),i.push(this.setLinesNotifier(t),ti.Notifier.create(()=>{t.filetype&&this.buffer.setOption("filetype",t.filetype,!0)})),ti.Notifier.combine(i)}async open(t){await(await this.openNotifier(t)).run()}async resumeNotifier(t){let r=await this.util.createContext(t),[i,n]=this.util.winConfig(r,t);return ti.Notifier.create(()=>{var a;Ct.floatingModule.resume.callNotify(this.bufnr,i,(a=this.borderBufnr)!==null&&a!==void 0?a:null,n!=null?n:null,this.getFocus(t),this.util.nvimWinHl(t)),this.borderBuffer&&n&&this.util.renderBorderNotifier(this.borderBuffer,r,t,n).notify(),rt.workspace.isVim&&this.nvim.command("redraw!",!0)})}async resume(t){await(await this.resumeNotifier(t)).run()}async resizeNotifier(t){var r;let i=await this.util.createContext(t),[n,a]=this.util.winConfig(i,t,!1),o=[];return t.borderOnly&&a?(o.push(Ct.floatingModule.update.callNotifier(this.bufnr,a,null,null,this.util.nvimWinHl(t))),o.push(this.util.renderBorderNotifier(this.buffer,i,t,a))):o.push(Ct.floatingModule.update.callNotifier(this.bufnr,n,(r=this.borderBufnr)!==null&&r!==void 0?r:null,a!=null?a:null,this.util.nvimWinHl(t))),rt.workspace.isNvim&&this.borderBuffer&&a&&o.push(this.util.renderBorderNotifier(this.borderBuffer,i,t,a)),o.push(ti.Notifier.create(()=>{rt.workspace.isVim&&this.nvim.command("redraw!",!0)})),ti.Notifier.combine(o)}async resize(t){await(await this.resizeNotifier(t)).run()}async win(){let t=await Ct.floatingModule.winid.call(this.bufnr);return t?this.nvim.createWindow(t):void 0}async borderWin(){let t=await Ct.floatingModule.winid.call(this.bufnr);return t?this.nvim.createWindow(t):void 0}closeNotifier(){return Ct.floatingModule.close.callNotifier(this.bufnr)}async close(){await this.closeNotifier().run()}dispose(){(0,rt.disposeAll)(this.disposables),this.disposables.forEach(t=>t.dispose())}};So.FloatingWindow=ie;ie.modePresets={default:{modifiable:!1,focus:!1,createInitedExecute:()=>"",openInitedExecute:()=>""},base:{createInitedExecute:e=>`
        call setbufvar(${e.bufnr}, '&buftype', 'nofile')
        call setbufvar(${e.bufnr}, '&bufhidden', 'hide')
        call setbufvar(${e.bufnr}, '&buflisted', 0)

        call setbufvar(${e.bufnr}, '&wrap', 1)

        call setbufvar(${e.bufnr}, '&swapfile', 0)

        call setbufvar(${e.bufnr}, '&modeline', 0)
      `,openInitedExecute:e=>`
        call setbufvar(${e.bufnr}, '&list', 0)

        call setbufvar(${e.bufnr}, '&listchars', '')
        if has('nvim')
          call setbufvar(${e.bufnr}, '&fillchars', 'eob: ')
        endif

        call setbufvar(${e.bufnr}, '&signcolumn', 'no')
        call setbufvar(${e.bufnr}, '&number', 0)
        call setbufvar(${e.bufnr}, '&relativenumber', 0)
        call setbufvar(${e.bufnr}, '&foldenable', 0)
        call setbufvar(${e.bufnr}, '&foldcolumn', 0)

        call setbufvar(${e.bufnr}, '&spell', 0)

        call setbufvar(${e.bufnr}, '&cursorcolumn', 0)
        call setbufvar(${e.bufnr}, '&cursorline', 0)
        call setbufvar(${e.bufnr}, '&colorcolumn', '')
      `},show:{modifiable:!1,createInitedExecute:e=>`
        ${ie.modePresets.base.createInitedExecute(e)}
        " call setbufvar(${e.bufnr}, '&undofile', 0)
        " call setbufvar(${e.bufnr}, '&undolevels', -1)

        call setbufvar(${e.bufnr}, '&modifiable', 0)
        call setbufvar(${e.bufnr}, '&modified', 0)
        call setbufvar(${e.bufnr}, '&readonly', 1)
      `,openInitedExecute:e=>`
        ${ie.modePresets.base.openInitedExecute(e)}
      `}};ie.initedContextVars={create:{bufnr:"a:ctx.bufnr"},open:{bufnr:"a:ctx.bufnr",winid:"a:ctx.winid"}};ie.srcId=rt.workspace.createNameSpace("coc-helper-floatwin")});var _m=p(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.MultiFloatingWindow=void 0;var zn=require("coc.nvim"),Fy=pe(),WR=ym(),wm=qo(),Io=class{constructor(t,r,i){this.borderFloatWin=t,this.floatWinDict=r,this.util=i,this.disposables=[],this.floatWins=Object.values(this.floatWinDict),this.nvim=zn.workspace.nvim,this.bufnrs=[t.bufnr,...this.floatWins.map(n=>n.bufnr)],this.disposables.push(zn.events.on("BufWinLeave",async n=>{this.bufnrs.includes(n)&&await this.close()}),zn.Disposable.create(()=>{t.dispose(),(0,zn.disposeAll)(this.floatWins)}))}static async create(t){let r=await wm.FloatingWindow.create(Object.assign({hasBorderBuf:!1,mode:"show"},t)),n=(await Promise.all(Object.entries(t.wins).map(async([o,s])=>[o,await wm.FloatingWindow.create(Object.assign({hasBorderBuf:!1},s))]))).reduce((o,[s,u])=>(o[s]=u,o),{}),a=new WR.FloatingUtil(wm.FloatingWindow.srcId);return new Io(r,n,a)}async opened(){return this.borderFloatWin.opened()}async sizeByWinsOptions(t){var r,i;let n=0,a=0;for(let o of t){let s=await this.util.createContext(o),u=this.util.getBoxSizes(s,o,!1),l=((r=o.left)!==null&&r!==void 0?r:0)+u.borderBox[2];l>n&&(n=l);let d=((i=o.top)!==null&&i!==void 0?i:0)+u.borderBox[3];d>a&&(a=d)}return[n,a]}async batchAction(t,r,{reverse:i=!1,updateCursorPosition:n=!0}={}){var a,o;let[s,u]=await this.sizeByWinsOptions(Object.values(r.wins)),l=Object.assign({width:s,height:u},r),d=await this.util.createContext(l),{contentBox:f}=this.util.getBoxSizes(d,l,n),c=[];for(let[m,g]of Object.entries(this.floatWinDict)){let y=r.wins[m];!y||c.push(await g[t](Object.assign(Object.assign({},y),{relative:"editor",top:f[0]+((a=y.top)!==null&&a!==void 0?a:0),left:f[1]+((o=y.left)!==null&&o!==void 0?o:0)})))}c.push(await this.borderFloatWin[t](Object.assign(Object.assign({},l),{borderOnly:!0}))),i&&c.reverse(),await Fy.Notifier.runAll(c)}async open(t){return this.batchAction("openNotifier",t)}async resume(t){return this.batchAction("resumeNotifier",t)}resize(t){return this.batchAction("resizeNotifier",t,{updateCursorPosition:!1})}async win(){return{borderWin:await this.borderFloatWin.win(),wins:await this.wins()}}async wins(){return await Promise.all(this.floatWins.map(t=>t.win()))}async close(){let t=[];t.push(this.borderFloatWin.closeNotifier()),t.push(...this.floatWins.map(r=>r.closeNotifier())),await Fy.Notifier.runAll(t)}dispose(){(0,zn.disposeAll)(this.disposables)}};Do.MultiFloatingWindow=Io});var Hy=p(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.WinLayoutFinder=void 0;var FR=require("coc.nvim"),By=class{constructor(t){this.root=t}static convertVimLayoutNode(t,r){if(t[0]==="leaf")return{type:t[0],winid:t[1],parent:r};{let i={type:t[0],children:[]};return i.children=t[1].map((n,a)=>this.convertVimLayoutNode(n,{group:i,indexInParent:a})),i}}static async create(){let t=await FR.workspace.nvim.call("winlayout",[]);return new this(this.convertVimLayoutNode(t))}static getFirstLeafWinid(t){return t.type==="leaf"?t.winid:this.getFirstLeafWinid(t.children[0])}findWinid(t,r=this.root){if(r.type==="leaf")return r.winid===t?r:void 0;for(let i of r.children){let n=this.findWinid(t,i);if(n)return n}}findClosest(t,r){let i=new Set([t]),n=[t];for(;n.length;){let a=n.shift();if(a.type==="leaf"){if(r.includes(a.winid))return a}else for(let o of a.children)if(!i.has(o)){n.push(o),i.add(o);continue}a.parent&&!i.has(a.parent.group)&&(n.push(a.parent.group),i.add(a.parent.group))}}};No.WinLayoutFinder=By});var pe=p(me=>{"use strict";var BR=me&&me.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),vt=me&&me.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&BR(t,e,r)};Object.defineProperty(me,"__esModule",{value:!0});me.activate=me.activateHelper=void 0;var At=require("coc.nvim"),Uy=hm(),HR=qo(),UR=_m(),ur=sr(),YR=ei();vt(hm(),me);vt(qo(),me);vt(vm(),me);vt(xm(),me);vt(Vn(),me);vt(_m(),me);vt(Un(),me);vt(sr(),me);vt(ei(),me);vt(Hy(),me);async function Yy(e,t={}){var r,i,n;((i=(r=t.vimModule)!==null&&r!==void 0?r:t.events)!==null&&i!==void 0?i:!0)&&await YR.VimModule.init(e),((n=t.events)!==null&&n!==void 0?n:!0)&&await Uy.helperVimEvents.register(e);try{await At.workspace.nvim.command("hi default link CocHelperNormalFloatNC CocHelperNormalFloat")}catch(a){At.window.showMessage(a.toString(),"error")}}me.activateHelper=Yy;async function $R(e){await Yy(e,{events:!0}),Uy.helperEvents.on("BufDelete",t=>{At.window.showMessage("buffer delete "+t)}),await ur.helperLogger.measureTask(async()=>{await At.workspace.nvim.command("hi CocHelperNormalFloat ctermbg=Red guibg=#aa0000"),await At.workspace.nvim.command("hi CocHelperNormalFloatNC ctermbg=Red guibg=#aa0000"),await At.workspace.nvim.command("hi CocHelperNormalFloatBorder ctermbg=Black ctermfg=Grey guibg=#0000aa guifg=#ffffff")},"highlight commands"),await ur.helperLogger.measureTask(async()=>{let t=await HR.FloatingWindow.create({mode:"base"});At.commands.registerCommand("testHelper-floating",async()=>{let r="hello";await t.open({relative:"cursor-around",lines:[r],top:0,left:0,title:"test",width:5,height:5,border:[1,1,1,0],padding:[],modifiable:!0,focus:!0,filetype:"test",highlights:[{line:0,srcId:0,colStart:0,colEnd:r.length,hlGroup:"Question"}]}),await(0,ur.sleep)(2e3),await t.resize({relative:"cursor-around",top:0,left:0,title:"test",width:10,height:10,border:[],padding:[],winHl:"Pmenu",winHlNC:"Pmenu",modifiable:!0,focus:!1,filetype:"test"}),await(0,ur.sleep)(2e3),await t.resize({relative:"cursor-around",top:0,left:0,title:"test",width:5,height:5,border:[1,1,1,0],padding:[],modifiable:!0,focus:!1,filetype:"test"})})},"register floatWin"),await ur.helperLogger.measureTask(async()=>{let t=await UR.MultiFloatingWindow.create({wins:{prompt:{mode:"show"},input:{mode:"base"}}});At.commands.registerCommand("testHelper-multi-floating",async()=>{let r=10,i="input your path:",n=await(0,ur.displayHeight)(r,[i]),a="/home/users/repos",o=await(0,ur.displayHeight)(r,[a]);At.events.on("TextChangedI",async l=>{let d=t.floatWinDict.input;if(d.bufnr!==l)return;let f=await d.win();if(!f)return;let c=await f.cursor,m=await f.width,g=await f.height,y=await d.buffer.getLines(),w=await(0,ur.displayHeight)(m,y,c,"i");w!==g&&(o=w,await u())});let s=()=>({relative:"cursor-around",top:0,left:0,title:"test",border:[],padding:[],modifiable:!0,filetype:"test",wins:{prompt:{top:0,left:0,width:r,height:n,highlights:[{line:0,srcId:0,colEnd:i.length,colStart:0,hlGroup:"Question"}],lines:[i]},input:{top:n,left:0,width:r,height:o,lines:[a],focus:!0,modifiable:!0,initedExecute:()=>`
            if has('nvim')
              call feedkeys('A')
            endif
          `}}}),u=async()=>{await t.resize(s())};await t.open(s())})},"register multiFloatWin")}me.activate=$R});var Cb=p((R,Eb)=>{R=Eb.exports=W;var G;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?G=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:G=function(){};R.SEMVER_SPEC_VERSION="2.0.0";var Dm=256,fs=Number.MAX_SAFE_INTEGER||9007199254740991,Nm=16,$=R.re=[],j=R.src=[],b=R.tokens={},Ib=0;function F(e){b[e]=Ib++}F("NUMERICIDENTIFIER");j[b.NUMERICIDENTIFIER]="0|[1-9]\\d*";F("NUMERICIDENTIFIERLOOSE");j[b.NUMERICIDENTIFIERLOOSE]="[0-9]+";F("NONNUMERICIDENTIFIER");j[b.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";F("MAINVERSION");j[b.MAINVERSION]="("+j[b.NUMERICIDENTIFIER]+")\\.("+j[b.NUMERICIDENTIFIER]+")\\.("+j[b.NUMERICIDENTIFIER]+")";F("MAINVERSIONLOOSE");j[b.MAINVERSIONLOOSE]="("+j[b.NUMERICIDENTIFIERLOOSE]+")\\.("+j[b.NUMERICIDENTIFIERLOOSE]+")\\.("+j[b.NUMERICIDENTIFIERLOOSE]+")";F("PRERELEASEIDENTIFIER");j[b.PRERELEASEIDENTIFIER]="(?:"+j[b.NUMERICIDENTIFIER]+"|"+j[b.NONNUMERICIDENTIFIER]+")";F("PRERELEASEIDENTIFIERLOOSE");j[b.PRERELEASEIDENTIFIERLOOSE]="(?:"+j[b.NUMERICIDENTIFIERLOOSE]+"|"+j[b.NONNUMERICIDENTIFIER]+")";F("PRERELEASE");j[b.PRERELEASE]="(?:-("+j[b.PRERELEASEIDENTIFIER]+"(?:\\."+j[b.PRERELEASEIDENTIFIER]+")*))";F("PRERELEASELOOSE");j[b.PRERELEASELOOSE]="(?:-?("+j[b.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+j[b.PRERELEASEIDENTIFIERLOOSE]+")*))";F("BUILDIDENTIFIER");j[b.BUILDIDENTIFIER]="[0-9A-Za-z-]+";F("BUILD");j[b.BUILD]="(?:\\+("+j[b.BUILDIDENTIFIER]+"(?:\\."+j[b.BUILDIDENTIFIER]+")*))";F("FULL");F("FULLPLAIN");j[b.FULLPLAIN]="v?"+j[b.MAINVERSION]+j[b.PRERELEASE]+"?"+j[b.BUILD]+"?";j[b.FULL]="^"+j[b.FULLPLAIN]+"$";F("LOOSEPLAIN");j[b.LOOSEPLAIN]="[v=\\s]*"+j[b.MAINVERSIONLOOSE]+j[b.PRERELEASELOOSE]+"?"+j[b.BUILD]+"?";F("LOOSE");j[b.LOOSE]="^"+j[b.LOOSEPLAIN]+"$";F("GTLT");j[b.GTLT]="((?:<|>)?=?)";F("XRANGEIDENTIFIERLOOSE");j[b.XRANGEIDENTIFIERLOOSE]=j[b.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";F("XRANGEIDENTIFIER");j[b.XRANGEIDENTIFIER]=j[b.NUMERICIDENTIFIER]+"|x|X|\\*";F("XRANGEPLAIN");j[b.XRANGEPLAIN]="[v=\\s]*("+j[b.XRANGEIDENTIFIER]+")(?:\\.("+j[b.XRANGEIDENTIFIER]+")(?:\\.("+j[b.XRANGEIDENTIFIER]+")(?:"+j[b.PRERELEASE]+")?"+j[b.BUILD]+"?)?)?";F("XRANGEPLAINLOOSE");j[b.XRANGEPLAINLOOSE]="[v=\\s]*("+j[b.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+j[b.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+j[b.XRANGEIDENTIFIERLOOSE]+")(?:"+j[b.PRERELEASELOOSE]+")?"+j[b.BUILD]+"?)?)?";F("XRANGE");j[b.XRANGE]="^"+j[b.GTLT]+"\\s*"+j[b.XRANGEPLAIN]+"$";F("XRANGELOOSE");j[b.XRANGELOOSE]="^"+j[b.GTLT]+"\\s*"+j[b.XRANGEPLAINLOOSE]+"$";F("COERCE");j[b.COERCE]="(^|[^\\d])(\\d{1,"+Nm+"})(?:\\.(\\d{1,"+Nm+"}))?(?:\\.(\\d{1,"+Nm+"}))?(?:$|[^\\d])";F("COERCERTL");$[b.COERCERTL]=new RegExp(j[b.COERCE],"g");F("LONETILDE");j[b.LONETILDE]="(?:~>?)";F("TILDETRIM");j[b.TILDETRIM]="(\\s*)"+j[b.LONETILDE]+"\\s+";$[b.TILDETRIM]=new RegExp(j[b.TILDETRIM],"g");var O5="$1~";F("TILDE");j[b.TILDE]="^"+j[b.LONETILDE]+j[b.XRANGEPLAIN]+"$";F("TILDELOOSE");j[b.TILDELOOSE]="^"+j[b.LONETILDE]+j[b.XRANGEPLAINLOOSE]+"$";F("LONECARET");j[b.LONECARET]="(?:\\^)";F("CARETTRIM");j[b.CARETTRIM]="(\\s*)"+j[b.LONECARET]+"\\s+";$[b.CARETTRIM]=new RegExp(j[b.CARETTRIM],"g");var M5="$1^";F("CARET");j[b.CARET]="^"+j[b.LONECARET]+j[b.XRANGEPLAIN]+"$";F("CARETLOOSE");j[b.CARETLOOSE]="^"+j[b.LONECARET]+j[b.XRANGEPLAINLOOSE]+"$";F("COMPARATORLOOSE");j[b.COMPARATORLOOSE]="^"+j[b.GTLT]+"\\s*("+j[b.LOOSEPLAIN]+")$|^$";F("COMPARATOR");j[b.COMPARATOR]="^"+j[b.GTLT]+"\\s*("+j[b.FULLPLAIN]+")$|^$";F("COMPARATORTRIM");j[b.COMPARATORTRIM]="(\\s*)"+j[b.GTLT]+"\\s*("+j[b.LOOSEPLAIN]+"|"+j[b.XRANGEPLAIN]+")";$[b.COMPARATORTRIM]=new RegExp(j[b.COMPARATORTRIM],"g");var T5="$1$2$3";F("HYPHENRANGE");j[b.HYPHENRANGE]="^\\s*("+j[b.XRANGEPLAIN]+")\\s+-\\s+("+j[b.XRANGEPLAIN]+")\\s*$";F("HYPHENRANGELOOSE");j[b.HYPHENRANGELOOSE]="^\\s*("+j[b.XRANGEPLAINLOOSE]+")\\s+-\\s+("+j[b.XRANGEPLAINLOOSE]+")\\s*$";F("STAR");j[b.STAR]="(<|>)?=?\\s*\\*";for(_r=0;_r<Ib;_r++)G(_r,j[_r]),$[_r]||($[_r]=new RegExp(j[_r]));var _r;R.parse=oi;function oi(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if(typeof e!="string"||e.length>Dm)return null;var r=t.loose?$[b.LOOSE]:$[b.FULL];if(!r.test(e))return null;try{return new W(e,t)}catch(i){return null}}R.valid=j5;function j5(e,t){var r=oi(e,t);return r?r.version:null}R.clean=S5;function S5(e,t){var r=oi(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}R.SemVer=W;function W(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>Dm)throw new TypeError("version is longer than "+Dm+" characters");if(!(this instanceof W))return new W(e,t);G("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?$[b.LOOSE]:$[b.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>fs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>fs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>fs||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(i){if(/^[0-9]+$/.test(i)){var n=+i;if(n>=0&&n<fs)return n}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};W.prototype.toString=function(){return this.version};W.prototype.compare=function(e){return G("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)};W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),si(this.major,e.major)||si(this.minor,e.minor)||si(this.patch,e.patch)};W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(G("prerelease compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return si(r,i)}while(++t)};W.prototype.compareBuild=function(e){e instanceof W||(e=new W(e,this.options));var t=0;do{var r=this.build[t],i=e.build[t];if(G("prerelease compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return si(r,i)}while(++t)};W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};R.inc=q5;function q5(e,t,r,i){typeof r=="string"&&(i=r,r=void 0);try{return new W(e,r).inc(t,i).version}catch(n){return null}}R.diff=I5;function I5(e,t){if(Pm(e,t))return null;var r=oi(e),i=oi(t),n="";if(r.prerelease.length||i.prerelease.length){n="pre";var a="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==i[o])return n+o;return a}R.compareIdentifiers=si;var Db=/^[0-9]+$/;function si(e,t){var r=Db.test(e),i=Db.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1}R.rcompareIdentifiers=D5;function D5(e,t){return si(t,e)}R.major=N5;function N5(e,t){return new W(e,t).major}R.minor=P5;function P5(e,t){return new W(e,t).minor}R.patch=E5;function E5(e,t){return new W(e,t).patch}R.compare=Ft;function Ft(e,t,r){return new W(e,r).compare(new W(t,r))}R.compareLoose=C5;function C5(e,t){return Ft(e,t,!0)}R.compareBuild=A5;function A5(e,t,r){var i=new W(e,r),n=new W(t,r);return i.compare(n)||i.compareBuild(n)}R.rcompare=k5;function k5(e,t,r){return Ft(t,e,r)}R.sort=R5;function R5(e,t){return e.sort(function(r,i){return R.compareBuild(r,i,t)})}R.rsort=L5;function L5(e,t){return e.sort(function(r,i){return R.compareBuild(i,r,t)})}R.gt=ta;function ta(e,t,r){return Ft(e,t,r)>0}R.lt=cs;function cs(e,t,r){return Ft(e,t,r)<0}R.eq=Pm;function Pm(e,t,r){return Ft(e,t,r)===0}R.neq=Nb;function Nb(e,t,r){return Ft(e,t,r)!==0}R.gte=Em;function Em(e,t,r){return Ft(e,t,r)>=0}R.lte=Cm;function Cm(e,t,r){return Ft(e,t,r)<=0}R.cmp=ps;function ps(e,t,r,i){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Pm(e,r,i);case"!=":return Nb(e,r,i);case">":return ta(e,r,i);case">=":return Em(e,r,i);case"<":return cs(e,r,i);case"<=":return Cm(e,r,i);default:throw new TypeError("Invalid operator: "+t)}}R.Comparator=Ke;function Ke(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ke){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof Ke))return new Ke(e,t);G("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===un?this.value="":this.value=this.operator+this.semver.version,G("comp",this)}var un={};Ke.prototype.parse=function(e){var t=this.options.loose?$[b.COMPARATORLOOSE]:$[b.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new W(r[2],this.options.loose):this.semver=un};Ke.prototype.toString=function(){return this.value};Ke.prototype.test=function(e){if(G("Comparator.test",e,this.options.loose),this.semver===un||e===un)return!0;if(typeof e=="string")try{e=new W(e,this.options)}catch(t){return!1}return ps(e,this.operator,this.semver,this.options)};Ke.prototype.intersects=function(e,t){if(!(e instanceof Ke))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new oe(e.value,t),ms(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new oe(this.value,t),ms(e.semver,r,t));var i=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),n=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),a=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),s=ps(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=ps(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return i||n||a&&o||s||u};R.Range=oe;function oe(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof Ke)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}oe.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};oe.prototype.toString=function(){return this.range};oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?$[b.HYPHENRANGELOOSE]:$[b.HYPHENRANGE];e=e.replace(r,z5),G("hyphen replace",e),e=e.replace($[b.COMPARATORTRIM],T5),G("comparator trim",e,$[b.COMPARATORTRIM]),e=e.replace($[b.TILDETRIM],O5),e=e.replace($[b.CARETTRIM],M5),e=e.split(/\s+/).join(" ");var i=t?$[b.COMPARATORLOOSE]:$[b.COMPARATOR],n=e.split(" ").map(function(a){return F5(a,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(n=n.filter(function(a){return!!a.match(i)})),n=n.map(function(a){return new Ke(a,this.options)},this),n};oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some(function(r){return Pb(r,t)&&e.set.some(function(i){return Pb(i,t)&&r.every(function(n){return i.every(function(a){return n.intersects(a,t)})})})})};function Pb(e,t){for(var r=!0,i=e.slice(),n=i.pop();r&&i.length;)r=i.every(function(a){return n.intersects(a,t)}),n=i.pop();return r}R.toComparators=W5;function W5(e,t){return new oe(e,t).set.map(function(r){return r.map(function(i){return i.value}).join(" ").trim().split(" ")})}function F5(e,t){return G("comp",e,t),e=U5(e,t),G("caret",e),e=B5(e,t),G("tildes",e),e=$5(e,t),G("xrange",e),e=V5(e,t),G("stars",e),e}function ke(e){return!e||e.toLowerCase()==="x"||e==="*"}function B5(e,t){return e.trim().split(/\s+/).map(function(r){return H5(r,t)}).join(" ")}function H5(e,t){var r=t.loose?$[b.TILDELOOSE]:$[b.TILDE];return e.replace(r,function(i,n,a,o,s){G("tilde",e,i,n,a,o,s);var u;return ke(n)?u="":ke(a)?u=">="+n+".0.0 <"+(+n+1)+".0.0":ke(o)?u=">="+n+"."+a+".0 <"+n+"."+(+a+1)+".0":s?(G("replaceTilde pr",s),u=">="+n+"."+a+"."+o+"-"+s+" <"+n+"."+(+a+1)+".0"):u=">="+n+"."+a+"."+o+" <"+n+"."+(+a+1)+".0",G("tilde return",u),u})}function U5(e,t){return e.trim().split(/\s+/).map(function(r){return Y5(r,t)}).join(" ")}function Y5(e,t){G("caret",e,t);var r=t.loose?$[b.CARETLOOSE]:$[b.CARET];return e.replace(r,function(i,n,a,o,s){G("caret",e,i,n,a,o,s);var u;return ke(n)?u="":ke(a)?u=">="+n+".0.0 <"+(+n+1)+".0.0":ke(o)?n==="0"?u=">="+n+"."+a+".0 <"+n+"."+(+a+1)+".0":u=">="+n+"."+a+".0 <"+(+n+1)+".0.0":s?(G("replaceCaret pr",s),n==="0"?a==="0"?u=">="+n+"."+a+"."+o+"-"+s+" <"+n+"."+a+"."+(+o+1):u=">="+n+"."+a+"."+o+"-"+s+" <"+n+"."+(+a+1)+".0":u=">="+n+"."+a+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(G("no pr"),n==="0"?a==="0"?u=">="+n+"."+a+"."+o+" <"+n+"."+a+"."+(+o+1):u=">="+n+"."+a+"."+o+" <"+n+"."+(+a+1)+".0":u=">="+n+"."+a+"."+o+" <"+(+n+1)+".0.0"),G("caret return",u),u})}function $5(e,t){return G("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return G5(r,t)}).join(" ")}function G5(e,t){e=e.trim();var r=t.loose?$[b.XRANGELOOSE]:$[b.XRANGE];return e.replace(r,function(i,n,a,o,s,u){G("xRange",e,i,n,a,o,s,u);var l=ke(a),d=l||ke(o),f=d||ke(s),c=f;return n==="="&&c&&(n=""),u=t.includePrerelease?"-0":"",l?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&c?(d&&(o=0),s=0,n===">"?(n=">=",d?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):n==="<="&&(n="<",d?a=+a+1:o=+o+1),i=n+a+"."+o+"."+s+u):d?i=">="+a+".0.0"+u+" <"+(+a+1)+".0.0"+u:f&&(i=">="+a+"."+o+".0"+u+" <"+a+"."+(+o+1)+".0"+u),G("xRange return",i),i})}function V5(e,t){return G("replaceStars",e,t),e.trim().replace($[b.STAR],"")}function z5(e,t,r,i,n,a,o,s,u,l,d,f,c){return ke(r)?t="":ke(i)?t=">="+r+".0.0":ke(n)?t=">="+r+"."+i+".0":t=">="+t,ke(u)?s="":ke(l)?s="<"+(+u+1)+".0.0":ke(d)?s="<"+u+"."+(+l+1)+".0":f?s="<="+u+"."+l+"."+d+"-"+f:s="<="+s,(t+" "+s).trim()}oe.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new W(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(Q5(this.set[t],e,this.options))return!0;return!1};function Q5(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(G(e[i].semver),e[i].semver!==un&&e[i].semver.prerelease.length>0){var n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}R.satisfies=ms;function ms(e,t,r){try{t=new oe(t,r)}catch(i){return!1}return t.test(e)}R.maxSatisfying=K5;function K5(e,t,r){var i=null,n=null;try{var a=new oe(t,r)}catch(o){return null}return e.forEach(function(o){a.test(o)&&(!i||n.compare(o)===-1)&&(i=o,n=new W(i,r))}),i}R.minSatisfying=X5;function X5(e,t,r){var i=null,n=null;try{var a=new oe(t,r)}catch(o){return null}return e.forEach(function(o){a.test(o)&&(!i||n.compare(o)===1)&&(i=o,n=new W(i,r))}),i}R.minVersion=Z5;function Z5(e,t){e=new oe(e,t);var r=new W("0.0.0");if(e.test(r)||(r=new W("0.0.0-0"),e.test(r)))return r;r=null;for(var i=0;i<e.set.length;++i){var n=e.set[i];n.forEach(function(a){var o=new W(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||ta(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+a.operator)}})}return r&&e.test(r)?r:null}R.validRange=J5;function J5(e,t){try{return new oe(e,t).range||"*"}catch(r){return null}}R.ltr=e3;function e3(e,t,r){return Am(e,t,"<",r)}R.gtr=t3;function t3(e,t,r){return Am(e,t,">",r)}R.outside=Am;function Am(e,t,r,i){e=new W(e,i),t=new oe(t,i);var n,a,o,s,u;switch(r){case">":n=ta,a=Cm,o=cs,s=">",u=">=";break;case"<":n=cs,a=Em,o=ta,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ms(e,t,i))return!1;for(var l=0;l<t.set.length;++l){var d=t.set[l],f=null,c=null;if(d.forEach(function(m){m.semver===un&&(m=new Ke(">=0.0.0")),f=f||m,c=c||m,n(m.semver,f.semver,i)?f=m:o(m.semver,c.semver,i)&&(c=m)}),f.operator===s||f.operator===u||(!c.operator||c.operator===s)&&a(e,c.semver))return!1;if(c.operator===u&&o(e,c.semver))return!1}return!0}R.prerelease=r3;function r3(e,t){var r=oi(e,t);return r&&r.prerelease.length?r.prerelease:null}R.intersects=i3;function i3(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)}R.coerce=n3;function n3(e,t){if(e instanceof W)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match($[b.COERCE]);else{for(var i;(i=$[b.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||i.index+i[0].length!==r.index+r[0].length)&&(r=i),$[b.COERCERTL].lastIndex=i.index+i[1].length+i[2].length;$[b.COERCERTL].lastIndex=-1}return r===null?null:oi(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});var Fb=p((Jxe,km)=>{"use strict";var gs=require("fs"),Bt=require("path"),{promisify:Ab}=require("util"),a3=Cb(),kb=a3.satisfies(process.version,">=10.12.0"),Rb=e=>{if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(Bt.parse(e).root,""))){let r=new Error(`Path contains invalid characters: ${e}`);throw r.code="EINVAL",r}},Lb=e=>E(E({},{mode:511,fs:gs}),e),Wb=e=>{let t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t},o3=async(e,t)=>{Rb(e),t=Lb(t);let r=Ab(t.fs.mkdir),i=Ab(t.fs.stat);if(kb&&t.fs.mkdir===gs.mkdir){let a=Bt.resolve(e);return await r(a,{mode:t.mode,recursive:!0}),a}let n=async a=>{try{return await r(a,t.mode),a}catch(o){if(o.code==="EPERM")throw o;if(o.code==="ENOENT"){if(Bt.dirname(a)===a)throw Wb(a);if(o.message.includes("null bytes"))throw o;return await n(Bt.dirname(a)),n(a)}try{if(!(await i(a)).isDirectory())throw new Error("The path is not a directory")}catch(s){throw o}return a}};return n(Bt.resolve(e))};km.exports=o3;km.exports.sync=(e,t)=>{if(Rb(e),t=Lb(t),kb&&t.fs.mkdirSync===gs.mkdirSync){let i=Bt.resolve(e);return gs.mkdirSync(i,{mode:t.mode,recursive:!0}),i}let r=i=>{try{t.fs.mkdirSync(i,t.mode)}catch(n){if(n.code==="EPERM")throw n;if(n.code==="ENOENT"){if(Bt.dirname(i)===i)throw Wb(i);if(n.message.includes("null bytes"))throw n;return r(Bt.dirname(i)),r(i)}try{if(!t.fs.statSync(i).isDirectory())throw new Error("The path is not a directory")}catch(a){throw n}}return i};return r(Bt.resolve(e))}});var Bb=p(Rm=>{var ui=require("path"),br=process.platform==="win32",Or=require("fs"),s3=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function u3(){var e;if(s3){var t=new Error;e=r}else e=i;return e;function r(n){n&&(t.message=n.message,n=t,i(n))}function i(n){if(n){if(process.throwDeprecation)throw n;if(!process.noDeprecation){var a="fs: missing callback "+(n.stack||n.message);process.traceDeprecation?console.trace(a):console.error(a)}}}}function l3(e){return typeof e=="function"?e:u3()}var eye=ui.normalize;br?Ht=/(.*?)(?:[\/\\]+|$)/g:Ht=/(.*?)(?:[\/]+|$)/g;var Ht;br?ra=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:ra=/^[\/]*/;var ra;Rm.realpathSync=function(t,r){if(t=ui.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var i=t,n={},a={},o,s,u,l;d();function d(){var w=ra.exec(t);o=w[0].length,s=w[0],u=w[0],l="",br&&!a[u]&&(Or.lstatSync(u),a[u]=!0)}for(;o<t.length;){Ht.lastIndex=o;var f=Ht.exec(t);if(l=s,s+=f[0],u=l+f[1],o=Ht.lastIndex,!(a[u]||r&&r[u]===u)){var c;if(r&&Object.prototype.hasOwnProperty.call(r,u))c=r[u];else{var m=Or.lstatSync(u);if(!m.isSymbolicLink()){a[u]=!0,r&&(r[u]=u);continue}var g=null;if(!br){var y=m.dev.toString(32)+":"+m.ino.toString(32);n.hasOwnProperty(y)&&(g=n[y])}g===null&&(Or.statSync(u),g=Or.readlinkSync(u)),c=ui.resolve(l,g),r&&(r[u]=c),br||(n[y]=g)}t=ui.resolve(c,t.slice(o)),d()}}return r&&(r[i]=t),t};Rm.realpath=function(t,r,i){if(typeof i!="function"&&(i=l3(r),r=null),t=ui.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(i.bind(null,null,r[t]));var n=t,a={},o={},s,u,l,d;f();function f(){var w=ra.exec(t);s=w[0].length,u=w[0],l=w[0],d="",br&&!o[l]?Or.lstat(l,function(O){if(O)return i(O);o[l]=!0,c()}):process.nextTick(c)}function c(){if(s>=t.length)return r&&(r[n]=t),i(null,t);Ht.lastIndex=s;var w=Ht.exec(t);return d=u,u+=w[0],l=d+w[1],s=Ht.lastIndex,o[l]||r&&r[l]===l?process.nextTick(c):r&&Object.prototype.hasOwnProperty.call(r,l)?y(r[l]):Or.lstat(l,m)}function m(w,O){if(w)return i(w);if(!O.isSymbolicLink())return o[l]=!0,r&&(r[l]=l),process.nextTick(c);if(!br){var T=O.dev.toString(32)+":"+O.ino.toString(32);if(a.hasOwnProperty(T))return g(null,a[T],l)}Or.stat(l,function(q){if(q)return i(q);Or.readlink(l,function(P,L){br||(a[T]=L),g(P,L)})})}function g(w,O,T){if(w)return i(w);var q=ui.resolve(d,O);r&&(r[T]=q),y(q)}function y(w){t=ui.resolve(w,t.slice(s)),f()}}});var Bm=p((rye,$b)=>{$b.exports=Mr;Mr.realpath=Mr;Mr.sync=Fm;Mr.realpathSync=Fm;Mr.monkeypatch=f3;Mr.unmonkeypatch=c3;var ln=require("fs"),Lm=ln.realpath,Wm=ln.realpathSync,d3=process.version,Hb=/^v[0-5]\./.test(d3),Ub=Bb();function Yb(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function Mr(e,t,r){if(Hb)return Lm(e,t,r);typeof t=="function"&&(r=t,t=null),Lm(e,t,function(i,n){Yb(i)?Ub.realpath(e,t,r):r(i,n)})}function Fm(e,t){if(Hb)return Wm(e,t);try{return Wm(e,t)}catch(r){if(Yb(r))return Ub.realpathSync(e,t);throw r}}function f3(){ln.realpath=Mr,ln.realpathSync=Fm}function c3(){ln.realpath=Lm,ln.realpathSync=Wm}});var Vb=p((iye,Gb)=>{Gb.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var n=t(e[i],i);p3(n)?r.push.apply(r,n):r.push(n)}return r};var p3=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var Zb=p((nye,Xb)=>{"use strict";Xb.exports=zb;function zb(e,t,r){e instanceof RegExp&&(e=Qb(e,r)),t instanceof RegExp&&(t=Qb(t,r));var i=Kb(e,t,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+e.length,i[1]),post:r.slice(i[1]+t.length)}}function Qb(e,t){var r=t.match(e);return r?r[0]:null}zb.range=Kb;function Kb(e,t,r){var i,n,a,o,s,u=r.indexOf(e),l=r.indexOf(t,u+1),d=u;if(u>=0&&l>0){for(i=[],a=r.length;d>=0&&!s;)d==u?(i.push(d),u=r.indexOf(e,d+1)):i.length==1?s=[i.pop(),l]:(n=i.pop(),n<a&&(a=n,o=l),l=r.indexOf(t,d+1)),d=u<l&&u>=0?u:l;i.length&&(s=[a,o])}return s}});var o0=p((aye,a0)=>{var m3=Vb(),Jb=Zb();a0.exports=v3;var e0="\0SLASH"+Math.random()+"\0",t0="\0OPEN"+Math.random()+"\0",Hm="\0CLOSE"+Math.random()+"\0",r0="\0COMMA"+Math.random()+"\0",i0="\0PERIOD"+Math.random()+"\0";function Um(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function g3(e){return e.split("\\\\").join(e0).split("\\{").join(t0).split("\\}").join(Hm).split("\\,").join(r0).split("\\.").join(i0)}function h3(e){return e.split(e0).join("\\").split(t0).join("{").split(Hm).join("}").split(r0).join(",").split(i0).join(".")}function n0(e){if(!e)return[""];var t=[],r=Jb("{","}",e);if(!r)return e.split(",");var i=r.pre,n=r.body,a=r.post,o=i.split(",");o[o.length-1]+="{"+n+"}";var s=n0(a);return a.length&&(o[o.length-1]+=s.shift(),o.push.apply(o,s)),t.push.apply(t,o),t}function v3(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),dn(g3(e),!0).map(h3)):[]}function x3(e){return"{"+e+"}"}function y3(e){return/^-?0\d/.test(e)}function w3(e,t){return e<=t}function _3(e,t){return e>=t}function dn(e,t){var r=[],i=Jb("{","}",e);if(!i||/\$$/.test(i.pre))return[e];var n=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),o=n||a,s=i.body.indexOf(",")>=0;if(!o&&!s)return i.post.match(/,.*\}/)?(e=i.pre+"{"+i.body+Hm+i.post,dn(e)):[e];var u;if(o)u=i.body.split(/\.\./);else if(u=n0(i.body),u.length===1&&(u=dn(u[0],!1).map(x3),u.length===1)){var d=i.post.length?dn(i.post,!1):[""];return d.map(function(qt){return i.pre+u[0]+qt})}var l=i.pre,d=i.post.length?dn(i.post,!1):[""],f;if(o){var c=Um(u[0]),m=Um(u[1]),g=Math.max(u[0].length,u[1].length),y=u.length==3?Math.abs(Um(u[2])):1,w=w3,O=m<c;O&&(y*=-1,w=_3);var T=u.some(y3);f=[];for(var q=c;w(q,m);q+=y){var P;if(a)P=String.fromCharCode(q),P==="\\"&&(P="");else if(P=String(q),T){var L=g-P.length;if(L>0){var Ie=new Array(L+1).join("0");q<0?P="-"+Ie+P.slice(1):P=Ie+P}}f.push(P)}}else f=m3(u,function(Ue){return dn(Ue,!1)});for(var je=0;je<f.length;je++)for(var de=0;de<d.length;de++){var be=l+f[je]+d[de];(!t||o||be)&&r.push(be)}return r}});var fn=p((oye,c0)=>{c0.exports=Xe;Xe.Minimatch=Me;var ia={sep:"/"};try{ia=require("path")}catch(e){}var Ym=Xe.GLOBSTAR=Me.GLOBSTAR={},b3=o0(),s0={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},$m="[^/]",Gm=$m+"*?",O3="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",M3="(?:(?!(?:\\/|^)\\.).)*?",u0=T3("().*{}+?[]^$\\!");function T3(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var l0=/\/+/;Xe.filter=j3;function j3(e,t){return t=t||{},function(r,i,n){return Xe(r,e,t)}}function d0(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach(function(i){r[i]=t[i]}),Object.keys(e).forEach(function(i){r[i]=e[i]}),r}Xe.defaults=function(e){if(!e||!Object.keys(e).length)return Xe;var t=Xe,r=function(n,a,o){return t.minimatch(n,a,d0(e,o))};return r.Minimatch=function(n,a){return new t.Minimatch(n,d0(e,a))},r};Me.defaults=function(e){return!e||!Object.keys(e).length?Me:Xe.defaults(e).Minimatch};function Xe(e,t,r){if(typeof t!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new Me(t,r).match(e)}function Me(e,t){if(!(this instanceof Me))return new Me(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),ia.sep!=="/"&&(e=e.split(ia.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}Me.prototype.debug=function(){};Me.prototype.make=S3;function S3(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(i){return i.split(l0)}),this.debug(this.pattern,r),r=r.map(function(i,n,a){return i.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(i){return i.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}Me.prototype.parseNegate=q3;function q3(){var e=this.pattern,t=!1,r=this.options,i=0;if(!r.nonegate){for(var n=0,a=e.length;n<a&&e.charAt(n)==="!";n++)t=!t,i++;i&&(this.pattern=e.substr(i)),this.negate=t}}Xe.braceExpand=function(e,t){return f0(e,t)};Me.prototype.braceExpand=f0;function f0(e,t){if(t||(this instanceof Me?t=this.options:t={}),e=typeof e=="undefined"?this.pattern:e,typeof e=="undefined")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:b3(e)}Me.prototype.parse=I3;var hs={};function I3(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&e==="**")return Ym;if(e==="")return"";var i="",n=!!r.nocase,a=!1,o=[],s=[],u,l=!1,d=-1,f=-1,c=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function g(){if(u){switch(u){case"*":i+=Gm,n=!0;break;case"?":i+=$m,n=!0;break;default:i+="\\"+u;break}m.debug("clearStateChar %j %j",u,i),u=!1}}for(var y=0,w=e.length,O;y<w&&(O=e.charAt(y));y++){if(this.debug("%s	%s %s %j",e,y,i,O),a&&u0[O]){i+="\\"+O,a=!1;continue}switch(O){case"/":return!1;case"\\":g(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,y,i,O),l){this.debug("  in class"),O==="!"&&y===f+1&&(O="^"),i+=O;continue}m.debug("call clearStateChar %j",u),g(),u=O,r.noext&&g();continue;case"(":if(l){i+="(";continue}if(!u){i+="\\(";continue}o.push({type:u,start:y-1,reStart:i.length,open:s0[u].open,close:s0[u].close}),i+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,i),u=!1;continue;case")":if(l||!o.length){i+="\\)";continue}g(),n=!0;var T=o.pop();i+=T.close,T.type==="!"&&s.push(T),T.reEnd=i.length;continue;case"|":if(l||!o.length||a){i+="\\|",a=!1;continue}g(),i+="|";continue;case"[":if(g(),l){i+="\\"+O;continue}l=!0,f=y,d=i.length,i+=O;continue;case"]":if(y===f+1||!l){i+="\\"+O,a=!1;continue}if(l){var q=e.substring(f+1,y);try{RegExp("["+q+"]")}catch(dy){var P=this.parse(q,hs);i=i.substr(0,d)+"\\["+P[0]+"\\]",n=n||P[1],l=!1;continue}}n=!0,l=!1,i+=O;continue;default:g(),a?a=!1:u0[O]&&!(O==="^"&&l)&&(i+="\\"),i+=O}}for(l&&(q=e.substr(f+1),P=this.parse(q,hs),i=i.substr(0,d)+"\\["+P[0],n=n||P[1]),T=o.pop();T;T=o.pop()){var L=i.slice(T.reStart+T.open.length);this.debug("setting tail",i,T),L=L.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(dy,fy,om){return om||(om="\\"),fy+fy+om+"|"}),this.debug(`tail=%j
   %s`,L,L,T,i);var Ie=T.type==="*"?Gm:T.type==="?"?$m:"\\"+T.type;n=!0,i=i.slice(0,T.reStart)+Ie+"\\("+L}g(),a&&(i+="\\\\");var je=!1;switch(i.charAt(0)){case".":case"[":case"(":je=!0}for(var de=s.length-1;de>-1;de--){var be=s[de],Ue=i.slice(0,be.reStart),qt=i.slice(be.reStart,be.reEnd-8),tt=i.slice(be.reEnd-8,be.reEnd),Se=i.slice(be.reEnd);tt+=Se;var gt=Ue.split("(").length-1,Le=Se;for(y=0;y<gt;y++)Le=Le.replace(/\)[+*?]?/,"");Se=Le;var It="";Se===""&&t!==hs&&(It="$");var Pe=Ue+qt+Se+It+tt;i=Pe}if(i!==""&&n&&(i="(?=.)"+i),je&&(i=c+i),t===hs)return[i,n];if(!n)return P3(e);var Ye=r.nocase?"i":"";try{var Dt=new RegExp("^"+i+"$",Ye)}catch(dy){return new RegExp("$.")}return Dt._glob=e,Dt._src=i,Dt}Xe.makeRe=function(e,t){return new Me(e,t||{}).makeRe()};Me.prototype.makeRe=D3;function D3(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?Gm:t.dot?O3:M3,i=t.nocase?"i":"",n=e.map(function(a){return a.map(function(o){return o===Ym?r:typeof o=="string"?E3(o):o._src}).join("\\/")}).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,i)}catch(a){this.regexp=!1}return this.regexp}Xe.match=function(e,t,r){r=r||{};var i=new Me(t,r);return e=e.filter(function(n){return i.match(n)}),i.options.nonull&&!e.length&&e.push(t),e};Me.prototype.match=N3;function N3(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var r=this.options;ia.sep!=="/"&&(e=e.split(ia.sep).join("/")),e=e.split(l0),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var n,a;for(a=e.length-1;a>=0&&(n=e[a],!n);a--);for(a=0;a<i.length;a++){var o=i[a],s=e;r.matchBase&&o.length===1&&(s=[n]);var u=this.matchOne(s,o,t);if(u)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}Me.prototype.matchOne=function(e,t,r){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var n=0,a=0,o=e.length,s=t.length;n<o&&a<s;n++,a++){this.debug("matchOne loop");var u=t[a],l=e[n];if(this.debug(t,u,l),u===!1)return!1;if(u===Ym){this.debug("GLOBSTAR",[t,u,l]);var d=n,f=a+1;if(f===s){for(this.debug("** at the end");n<o;n++)if(e[n]==="."||e[n]===".."||!i.dot&&e[n].charAt(0)===".")return!1;return!0}for(;d<o;){var c=e[d];if(this.debug(`
globstar while`,e,d,t,f,c),this.matchOne(e.slice(d),t.slice(f),r))return this.debug("globstar found match!",d,o,c),!0;if(c==="."||c===".."||!i.dot&&c.charAt(0)==="."){this.debug("dot detected!",e,d,t,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,d,t,f),d===o))}var m;if(typeof u=="string"?(i.nocase?m=l.toLowerCase()===u.toLowerCase():m=l===u,this.debug("string match",u,l,m)):(m=l.match(u),this.debug("pattern match",u,l,m)),!m)return!1}if(n===o&&a===s)return!0;if(n===o)return r;if(a===s){var g=n===o-1&&e[n]==="";return g}throw new Error("wtf?")};function P3(e){return e.replace(/\\(.)/g,"$1")}function E3(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var p0=p((sye,Vm)=>{typeof Object.create=="function"?Vm.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Vm.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}});var m0=p((uye,Qm)=>{try{if(zm=require("util"),typeof zm.inherits!="function")throw"";Qm.exports=zm.inherits}catch(e){Qm.exports=p0()}var zm});var xs=p((lye,vs)=>{"use strict";function g0(e){return e.charAt(0)==="/"}function h0(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),i=r[1]||"",n=Boolean(i&&i.charAt(1)!==":");return Boolean(r[2]||n)}vs.exports=process.platform==="win32"?h0:g0;vs.exports.posix=g0;vs.exports.win32=h0});var Xm=p(wt=>{wt.alphasort=w0;wt.alphasorti=y0;wt.setopts=R3;wt.ownProp=v0;wt.makeAbs=na;wt.finish=L3;wt.mark=W3;wt.isIgnored=_0;wt.childrenIgnored=F3;function v0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var cn=require("path"),C3=fn(),x0=xs(),Km=C3.Minimatch;function y0(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function w0(e,t){return e.localeCompare(t)}function A3(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(k3))}function k3(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new Km(r,{dot:!0})}return{matcher:new Km(e,{dot:!0}),gmatcher:t}}function R3(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),A3(e,r),e.changedCwd=!1;var i=process.cwd();v0(r,"cwd")?(e.cwd=cn.resolve(r.cwd),e.changedCwd=e.cwd!==i):e.cwd=i,e.root=r.root||cn.resolve(e.cwd,"/"),e.root=cn.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=x0(e.cwd)?e.cwd:na(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new Km(t,r),e.options=e.minimatch.options}function L3(e){for(var t=e.nounique,r=t?[]:Object.create(null),i=0,n=e.matches.length;i<n;i++){var a=e.matches[i];if(!a||Object.keys(a).length===0){if(e.nonull){var o=e.minimatch.globSet[i];t?r.push(o):r[o]=!0}}else{var s=Object.keys(a);t?r.push.apply(r,s):s.forEach(function(u){r[u]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(e.nocase?y0:w0)),e.mark){for(var i=0;i<r.length;i++)r[i]=e._mark(r[i]);e.nodir&&(r=r.filter(function(u){var l=!/\/$/.test(u),d=e.cache[u]||e.cache[na(e,u)];return l&&d&&(l=d!=="DIR"&&!Array.isArray(d)),l}))}e.ignore.length&&(r=r.filter(function(u){return!_0(e,u)})),e.found=r}function W3(e,t){var r=na(e,t),i=e.cache[r],n=t;if(i){var a=i==="DIR"||Array.isArray(i),o=t.slice(-1)==="/";if(a&&!o?n+="/":!a&&o&&(n=n.slice(0,-1)),n!==t){var s=na(e,n);e.statCache[s]=e.statCache[r],e.cache[s]=e.cache[r]}}return n}function na(e,t){var r=t;return t.charAt(0)==="/"?r=cn.join(e.root,t):x0(t)||t===""?r=t:e.changedCwd?r=cn.resolve(e.cwd,t):r=cn.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function _0(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function F3(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var j0=p((hye,T0)=>{T0.exports=M0;M0.GlobSync=we;var ys=require("fs"),B3=Bm(),b0=fn(),fye=b0.Minimatch,cye=eg().Glob,pye=require("util"),Zm=require("path"),O0=require("assert"),ws=xs(),Ut=Xm(),mye=Ut.alphasort,gye=Ut.alphasorti,H3=Ut.setopts,Jm=Ut.ownProp,U3=Ut.childrenIgnored,Y3=Ut.isIgnored;function M0(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new we(e,t).found}function we(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof we))return new we(e,t);if(H3(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}we.prototype._finish=function(){if(O0(this instanceof we),this.realpath){var e=this;this.matches.forEach(function(t,r){var i=e.matches[r]=Object.create(null);for(var n in t)try{n=e._makeAbs(n);var a=B3.realpathSync(n,e.realpathCache);i[a]=!0}catch(o){if(o.syscall==="stat")i[e._makeAbs(n)]=!0;else throw o}})}Ut.finish(this)};we.prototype._process=function(e,t,r){O0(this instanceof we);for(var i=0;typeof e[i]=="string";)i++;var n;switch(i){case e.length:this._processSimple(e.join("/"),t);return;case 0:n=null;break;default:n=e.slice(0,i).join("/");break}var a=e.slice(i),o;n===null?o=".":((ws(n)||ws(e.join("/")))&&(!n||!ws(n))&&(n="/"+n),o=n);var s=this._makeAbs(o);if(!U3(this,o)){var u=a[0]===b0.GLOBSTAR;u?this._processGlobStar(n,o,s,a,t,r):this._processReaddir(n,o,s,a,t,r)}};we.prototype._processReaddir=function(e,t,r,i,n,a){var o=this._readdir(r,a);if(!!o){for(var s=i[0],u=!!this.minimatch.negate,l=s._glob,d=this.dot||l.charAt(0)===".",f=[],c=0;c<o.length;c++){var m=o[c];if(m.charAt(0)!=="."||d){var g;u&&!e?g=!m.match(s):g=m.match(s),g&&f.push(m)}}var y=f.length;if(y!==0){if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var c=0;c<y;c++){var m=f[c];e&&(e.slice(-1)!=="/"?m=e+"/"+m:m=e+m),m.charAt(0)==="/"&&!this.nomount&&(m=Zm.join(this.root,m)),this._emitMatch(n,m)}return}i.shift();for(var c=0;c<y;c++){var m=f[c],w;e?w=[e,m]:w=[m],this._process(w.concat(i),n,a)}}}};we.prototype._emitMatch=function(e,t){if(!Y3(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};we.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,i;try{r=ys.lstatSync(e)}catch(a){if(a.code==="ENOENT")return null}var n=r&&r.isSymbolicLink();return this.symlinks[e]=n,!n&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};we.prototype._readdir=function(e,t){var r;if(t&&!Jm(this.symlinks,e))return this._readdirInGlobStar(e);if(Jm(this.cache,e)){var i=this.cache[e];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(e,ys.readdirSync(e))}catch(n){return this._readdirError(e,n),null}};we.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,t};we.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=t.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};we.prototype._processGlobStar=function(e,t,r,i,n,a){var o=this._readdir(r,a);if(!!o){var s=i.slice(1),u=e?[e]:[],l=u.concat(s);this._process(l,n,!1);var d=o.length,f=this.symlinks[r];if(!(f&&a))for(var c=0;c<d;c++){var m=o[c];if(!(m.charAt(0)==="."&&!this.dot)){var g=u.concat(o[c],s);this._process(g,n,!0);var y=u.concat(o[c],i);this._process(y,n,!0)}}}};we.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&ws(e)&&!this.nomount){var i=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Zm.join(this.root,e):(e=Zm.resolve(this.root,e),i&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};we.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&Jm(this.cache,t)){var o=this.cache[t];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var i,n=this.statCache[t];if(!n){var a;try{a=ys.lstatSync(t)}catch(s){if(s&&(s.code==="ENOENT"||s.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(a&&a.isSymbolicLink())try{n=ys.statSync(t)}catch(s){n=a}else n=a}this.statCache[t]=n;var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,r&&o==="FILE"?!1:o};we.prototype._mark=function(e){return Ut.mark(this,e)};we.prototype._makeAbs=function(e){return Ut.makeAbs(this,e)}});var tg=p((vye,q0)=>{q0.exports=S0;function S0(e,t){if(e&&t)return S0(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(i){r[i]=e[i]}),r;function r(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];var a=e.apply(this,i),o=i[i.length-1];return typeof a=="function"&&a!==o&&Object.keys(o).forEach(function(s){a[s]=o[s]}),a}}});var ig=p((xye,rg)=>{var I0=tg();rg.exports=I0(_s);rg.exports.strict=I0(D0);_s.proto=_s(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return _s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return D0(this)},configurable:!0})});function _s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function D0(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var P0=p((yye,N0)=>{var $3=tg(),aa=Object.create(null),G3=ig();N0.exports=$3(V3);function V3(e,t){return aa[e]?(aa[e].push(t),null):(aa[e]=[t],z3(e))}function z3(e){return G3(function t(){var r=aa[e],i=r.length,n=Q3(arguments);try{for(var a=0;a<i;a++)r[a].apply(null,n)}finally{r.length>i?(r.splice(0,i),process.nextTick(function(){t.apply(null,n)})):delete aa[e]}})}function Q3(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i]=e[i];return r}});var eg=p((Mye,C0)=>{C0.exports=li;var bs=require("fs"),K3=Bm(),E0=fn(),wye=E0.Minimatch,X3=m0(),Z3=require("events").EventEmitter,ng=require("path"),ag=require("assert"),oa=xs(),og=j0(),Yt=Xm(),_ye=Yt.alphasort,bye=Yt.alphasorti,J3=Yt.setopts,sg=Yt.ownProp,ug=P0(),Oye=require("util"),eU=Yt.childrenIgnored,tU=Yt.isIgnored,rU=ig();function li(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return og(e,t)}return new V(e,t,r)}li.sync=og;var iU=li.GlobSync=og.GlobSync;li.glob=li;function nU(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),i=r.length;i--;)e[r[i]]=t[r[i]];return e}li.hasMagic=function(e,t){var r=nU({},t);r.noprocess=!0;var i=new V(e,r),n=i.minimatch.set;if(!e)return!1;if(n.length>1)return!0;for(var a=0;a<n[0].length;a++)if(typeof n[0][a]!="string")return!0;return!1};li.Glob=V;X3(V,Z3);function V(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new iU(e,t)}if(!(this instanceof V))return new V(e,t,r);J3(this,e,t),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),typeof r=="function"&&(r=rU(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var n=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(i===0)return s();for(var a=!0,o=0;o<i;o++)this._process(this.minimatch.set[o],o,!1,s);a=!1;function s(){--n._processing,n._processing<=0&&(a?process.nextTick(function(){n._finish()}):n._finish())}}V.prototype._finish=function(){if(ag(this instanceof V),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Yt.finish(this),this.emit("end",this.found)}};V.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i);function i(){--e==0&&t._finish()}};V.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var i=Object.keys(r),n=this,a=i.length;if(a===0)return t();var o=this.matches[e]=Object.create(null);i.forEach(function(s,u){s=n._makeAbs(s),K3.realpath(s,n.realpathCache,function(l,d){l?l.syscall==="stat"?o[s]=!0:n.emit("error",l):o[d]=!0,--a==0&&(n.matches[e]=o,t())})})};V.prototype._mark=function(e){return Yt.mark(this,e)};V.prototype._makeAbs=function(e){return Yt.makeAbs(this,e)};V.prototype.abort=function(){this.aborted=!0,this.emit("abort")};V.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};V.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<i.length;t++){var n=i[t];this._processing--,this._process(n[0],n[1],n[2],n[3])}}}};V.prototype._process=function(e,t,r,i){if(ag(this instanceof V),ag(typeof i=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,i]);return}for(var n=0;typeof e[n]=="string";)n++;var a;switch(n){case e.length:this._processSimple(e.join("/"),t,i);return;case 0:a=null;break;default:a=e.slice(0,n).join("/");break}var o=e.slice(n),s;a===null?s=".":((oa(a)||oa(e.join("/")))&&(!a||!oa(a))&&(a="/"+a),s=a);var u=this._makeAbs(s);if(eU(this,s))return i();var l=o[0]===E0.GLOBSTAR;l?this._processGlobStar(a,s,u,o,t,r,i):this._processReaddir(a,s,u,o,t,r,i)}};V.prototype._processReaddir=function(e,t,r,i,n,a,o){var s=this;this._readdir(r,a,function(u,l){return s._processReaddir2(e,t,r,i,n,a,l,o)})};V.prototype._processReaddir2=function(e,t,r,i,n,a,o,s){if(!o)return s();for(var u=i[0],l=!!this.minimatch.negate,d=u._glob,f=this.dot||d.charAt(0)===".",c=[],m=0;m<o.length;m++){var g=o[m];if(g.charAt(0)!=="."||f){var y;l&&!e?y=!g.match(u):y=g.match(u),y&&c.push(g)}}var w=c.length;if(w===0)return s();if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var m=0;m<w;m++){var g=c[m];e&&(e!=="/"?g=e+"/"+g:g=e+g),g.charAt(0)==="/"&&!this.nomount&&(g=ng.join(this.root,g)),this._emitMatch(n,g)}return s()}i.shift();for(var m=0;m<w;m++){var g=c[m],O;e&&(e!=="/"?g=e+"/"+g:g=e+g),this._process([g].concat(i),n,a,s)}s()};V.prototype._emitMatch=function(e,t){if(!this.aborted&&!tU(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=oa(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[e][t]=!0;var n=this.statCache[r];n&&this.emit("stat",t,n),this.emit("match",t)}}};V.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,i=this,n=ug(r,a);n&&bs.lstat(e,n);function a(o,s){if(o&&o.code==="ENOENT")return t();var u=s&&s.isSymbolicLink();i.symlinks[e]=u,!u&&s&&!s.isDirectory()?(i.cache[e]="FILE",t()):i._readdir(e,!1,t)}};V.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=ug("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!sg(this.symlinks,e))return this._readdirInGlobStar(e,r);if(sg(this.cache,e)){var i=this.cache[e];if(!i||i==="FILE")return r();if(Array.isArray(i))return r(null,i)}var n=this;bs.readdir(e,aU(this,e,r))}};function aU(e,t,r){return function(i,n){i?e._readdirError(t,i,r):e._readdirEntries(t,n,r)}}V.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<t.length;i++){var n=t[i];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,r(null,t)}};V.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(e);if(this.cache[i]="FILE",i===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);n.path=this.cwd,n.code=t.code,this.emit("error",n),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};V.prototype._processGlobStar=function(e,t,r,i,n,a,o){var s=this;this._readdir(r,a,function(u,l){s._processGlobStar2(e,t,r,i,n,a,l,o)})};V.prototype._processGlobStar2=function(e,t,r,i,n,a,o,s){if(!o)return s();var u=i.slice(1),l=e?[e]:[],d=l.concat(u);this._process(d,n,!1,s);var f=this.symlinks[r],c=o.length;if(f&&a)return s();for(var m=0;m<c;m++){var g=o[m];if(!(g.charAt(0)==="."&&!this.dot)){var y=l.concat(o[m],u);this._process(y,n,!0,s);var w=l.concat(o[m],i);this._process(w,n,!0,s)}}s()};V.prototype._processSimple=function(e,t,r){var i=this;this._stat(e,function(n,a){i._processSimple2(e,t,n,a,r)})};V.prototype._processSimple2=function(e,t,r,i,n){if(this.matches[t]||(this.matches[t]=Object.create(null)),!i)return n();if(e&&oa(e)&&!this.nomount){var a=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=ng.join(this.root,e):(e=ng.resolve(this.root,e),a&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),n()};V.prototype._stat=function(e,t){var r=this._makeAbs(e),i=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&sg(this.cache,r)){var n=this.cache[r];if(Array.isArray(n)&&(n="DIR"),!i||n==="DIR")return t(null,n);if(i&&n==="FILE")return t()}var a,o=this.statCache[r];if(o!==void 0){if(o===!1)return t(null,o);var s=o.isDirectory()?"DIR":"FILE";return i&&s==="FILE"?t():t(null,s,o)}var u=this,l=ug("stat\0"+r,d);l&&bs.lstat(r,l);function d(f,c){if(c&&c.isSymbolicLink())return bs.stat(r,function(m,g){m?u._stat2(e,r,null,c,t):u._stat2(e,r,m,g,t)});u._stat2(e,r,f,c,t)}};V.prototype._stat2=function(e,t,r,i,n){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,n();var a=e.slice(-1)==="/";if(this.statCache[t]=i,t.slice(-1)==="/"&&i&&!i.isDirectory())return n(null,!1,i);var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,a&&o==="FILE"?n():n(null,o,i)}});var H0=p((Tye,B0)=>{var Q=require("assert"),A0=require("path"),k0=require("fs"),pn;try{pn=eg()}catch(e){}var oU={nosort:!0,silent:!0},lg=0,sa=process.platform==="win32",R0=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||k0[r],r=r+"Sync",e[r]=e[r]||k0[r]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&pn===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||oU},dg=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),Q(e,"rimraf: missing path"),Q.equal(typeof e,"string","rimraf: path should be a string"),Q.equal(typeof r,"function","rimraf: callback function required"),Q(t,"rimraf: invalid options argument provided"),Q.equal(typeof t,"object","rimraf: options should be object"),R0(t);let i=0,n=null,a=0,o=u=>{n=n||u,--a==0&&r(n)},s=(u,l)=>{if(u)return r(u);if(a=l.length,a===0)return r();l.forEach(d=>{let f=c=>{if(c){if((c.code==="EBUSY"||c.code==="ENOTEMPTY"||c.code==="EPERM")&&i<t.maxBusyTries)return i++,setTimeout(()=>fg(d,t,f),i*100);if(c.code==="EMFILE"&&lg<t.emfileWait)return setTimeout(()=>fg(d,t,f),lg++);c.code==="ENOENT"&&(c=null)}lg=0,o(c)};fg(d,t,f)})};if(t.disableGlob||!pn.hasMagic(e))return s(null,[e]);t.lstat(e,(u,l)=>{if(!u)return s(null,[e]);pn(e,t.glob,s)})},fg=(e,t,r)=>{Q(e),Q(t),Q(typeof r=="function"),t.lstat(e,(i,n)=>{if(i&&i.code==="ENOENT")return r(null);if(i&&i.code==="EPERM"&&sa&&L0(e,t,i,r),n&&n.isDirectory())return Os(e,t,i,r);t.unlink(e,a=>{if(a){if(a.code==="ENOENT")return r(null);if(a.code==="EPERM")return sa?L0(e,t,a,r):Os(e,t,a,r);if(a.code==="EISDIR")return Os(e,t,a,r)}return r(a)})})},L0=(e,t,r,i)=>{Q(e),Q(t),Q(typeof i=="function"),t.chmod(e,438,n=>{n?i(n.code==="ENOENT"?null:r):t.stat(e,(a,o)=>{a?i(a.code==="ENOENT"?null:r):o.isDirectory()?Os(e,t,r,i):t.unlink(e,i)})})},W0=(e,t,r)=>{Q(e),Q(t);try{t.chmodSync(e,438)}catch(n){if(n.code==="ENOENT")return;throw r}let i;try{i=t.statSync(e)}catch(n){if(n.code==="ENOENT")return;throw r}i.isDirectory()?Ms(e,t,r):t.unlinkSync(e)},Os=(e,t,r,i)=>{Q(e),Q(t),Q(typeof i=="function"),t.rmdir(e,n=>{n&&(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")?sU(e,t,i):n&&n.code==="ENOTDIR"?i(r):i(n)})},sU=(e,t,r)=>{Q(e),Q(t),Q(typeof r=="function"),t.readdir(e,(i,n)=>{if(i)return r(i);let a=n.length;if(a===0)return t.rmdir(e,r);let o;n.forEach(s=>{dg(A0.join(e,s),t,u=>{if(!o){if(u)return r(o=u);--a==0&&t.rmdir(e,r)}})})})},F0=(e,t)=>{t=t||{},R0(t),Q(e,"rimraf: missing path"),Q.equal(typeof e,"string","rimraf: path should be a string"),Q(t,"rimraf: missing options"),Q.equal(typeof t,"object","rimraf: options should be object");let r;if(t.disableGlob||!pn.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch(i){r=pn.sync(e,t.glob)}if(!!r.length)for(let i=0;i<r.length;i++){let n=r[i],a;try{a=t.lstatSync(n)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&sa&&W0(n,t,o)}try{a&&a.isDirectory()?Ms(n,t,null):t.unlinkSync(n)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return sa?W0(n,t,o):Ms(n,t,o);if(o.code!=="EISDIR")throw o;Ms(n,t,o)}}},Ms=(e,t,r)=>{Q(e),Q(t);try{t.rmdirSync(e)}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR")throw r;(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")&&uU(e,t)}},uU=(e,t)=>{Q(e),Q(t),t.readdirSync(e).forEach(n=>F0(A0.join(e,n),t));let r=sa?100:1,i=0;do{let n=!0;try{let a=t.rmdirSync(e,t);return n=!1,a}finally{if(++i<r&&n)continue}}while(!0)};B0.exports=dg;dg.sync=F0});var V0=p((jye,G0)=>{G0.exports=$0;$0.sync=dU;var U0=require("fs");function lU(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var i=0;i<r.length;i++){var n=r[i].toLowerCase();if(n&&e.substr(-n.length).toLowerCase()===n)return!0}return!1}function Y0(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:lU(t,r)}function $0(e,t,r){U0.stat(e,function(i,n){r(i,i?!1:Y0(n,e,t))})}function dU(e,t){return Y0(U0.statSync(e),e,t)}});var Z0=p((Sye,X0)=>{X0.exports=Q0;Q0.sync=fU;var z0=require("fs");function Q0(e,t,r){z0.stat(e,function(i,n){r(i,i?!1:K0(n,t))})}function fU(e,t){return K0(z0.statSync(e),t)}function K0(e,t){return e.isFile()&&cU(e,t)}function cU(e,t){var r=e.mode,i=e.uid,n=e.gid,a=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),u=parseInt("010",8),l=parseInt("001",8),d=s|u,f=r&l||r&u&&n===o||r&s&&i===a||r&d&&a===0;return f}});var eO=p((Iye,J0)=>{var qye=require("fs"),Ts;process.platform==="win32"||global.TESTING_WINDOWS?Ts=V0():Ts=Z0();J0.exports=cg;cg.sync=pU;function cg(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,n){cg(e,t||{},function(a,o){a?n(a):i(o)})})}Ts(e,t||{},function(i,n){i&&(i.code==="EACCES"||t&&t.ignoreErrors)&&(i=null,n=!1),r(i,n)})}function pU(e,t){try{return Ts.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var sO=p((Dye,oO)=>{var mn=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",tO=require("path"),mU=mn?";":":",rO=eO(),iO=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),nO=(e,t)=>{let r=t.colon||mU,i=e.match(/\//)||mn&&e.match(/\\/)?[""]:[...mn?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],n=mn?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=mn?n.split(r):[""];return mn&&e.indexOf(".")!==-1&&a[0]!==""&&a.unshift(""),{pathEnv:i,pathExt:a,pathExtExe:n}},aO=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:i,pathExt:n,pathExtExe:a}=nO(e,t),o=[],s=l=>new Promise((d,f)=>{if(l===i.length)return t.all&&o.length?d(o):f(iO(e));let c=i[l],m=/^".*"$/.test(c)?c.slice(1,-1):c,g=tO.join(m,e),y=!m&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;d(u(y,l,0))}),u=(l,d,f)=>new Promise((c,m)=>{if(f===n.length)return c(s(d+1));let g=n[f];rO(l+g,{pathExt:a},(y,w)=>{if(!y&&w)if(t.all)o.push(l+g);else return c(l+g);return c(u(l,d,f+1))})});return r?s(0).then(l=>r(null,l),r):s(0)},gU=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:i,pathExtExe:n}=nO(e,t),a=[];for(let o=0;o<r.length;o++){let s=r[o],u=/^".*"$/.test(s)?s.slice(1,-1):s,l=tO.join(u,e),d=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;for(let f=0;f<i.length;f++){let c=d+i[f];try{if(rO.sync(c,{pathExt:n}))if(t.all)a.push(c);else return c}catch(m){}}}if(t.all&&a.length)return a;if(t.nothrow)return null;throw iO(e)};oO.exports=aO;aO.sync=gU});var DO=p((swe,IO)=>{"use strict";IO.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Tg=p((uwe,PO)=>{var pa=DO(),NO={};for(let e of Object.keys(pa))NO[pa[e]]=e;var D={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};PO.exports=D;for(let e of Object.keys(D)){if(!("channels"in D[e]))throw new Error("missing channels property: "+e);if(!("labels"in D[e]))throw new Error("missing channel labels property: "+e);if(D[e].labels.length!==D[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=D[e];delete D[e].channels,delete D[e].labels,Object.defineProperty(D[e],"channels",{value:t}),Object.defineProperty(D[e],"labels",{value:r})}D.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255,n=Math.min(t,r,i),a=Math.max(t,r,i),o=a-n,s,u;a===n?s=0:t===a?s=(r-i)/o:r===a?s=2+(i-t)/o:i===a&&(s=4+(t-r)/o),s=Math.min(s*60,360),s<0&&(s+=360);let l=(n+a)/2;return a===n?u=0:l<=.5?u=o/(a+n):u=o/(2-a-n),[s,u*100,l*100]};D.rgb.hsv=function(e){let t,r,i,n,a,o=e[0]/255,s=e[1]/255,u=e[2]/255,l=Math.max(o,s,u),d=l-Math.min(o,s,u),f=function(c){return(l-c)/6/d+1/2};return d===0?(n=0,a=0):(a=d/l,t=f(o),r=f(s),i=f(u),o===l?n=i-r:s===l?n=1/3+t-i:u===l&&(n=2/3+r-t),n<0?n+=1:n>1&&(n-=1)),[n*360,a*100,l*100]};D.rgb.hwb=function(e){let t=e[0],r=e[1],i=e[2],n=D.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(r,i));return i=1-1/255*Math.max(t,Math.max(r,i)),[n,a*100,i*100]};D.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255,n=Math.min(1-t,1-r,1-i),a=(1-t-n)/(1-n)||0,o=(1-r-n)/(1-n)||0,s=(1-i-n)/(1-n)||0;return[a*100,o*100,s*100,n*100]};function MU(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}D.rgb.keyword=function(e){let t=NO[e];if(t)return t;let r=1/0,i;for(let n of Object.keys(pa)){let a=pa[n],o=MU(e,a);o<r&&(r=o,i=n)}return i};D.keyword.rgb=function(e){return pa[e]};D.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;let n=t*.4124+r*.3576+i*.1805,a=t*.2126+r*.7152+i*.0722,o=t*.0193+r*.1192+i*.9505;return[n*100,a*100,o*100]};D.rgb.lab=function(e){let t=D.rgb.xyz(e),r=t[0],i=t[1],n=t[2];r/=95.047,i/=100,n/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let a=116*i-16,o=500*(r-i),s=200*(i-n);return[a,o,s]};D.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,i=e[2]/100,n,a,o;if(r===0)return o=i*255,[o,o,o];i<.5?n=i*(1+r):n=i+r-i*r;let s=2*i-n,u=[0,0,0];for(let l=0;l<3;l++)a=t+1/3*-(l-1),a<0&&a++,a>1&&a--,6*a<1?o=s+(n-s)*6*a:2*a<1?o=n:3*a<2?o=s+(n-s)*(2/3-a)*6:o=s,u[l]=o*255;return u};D.hsl.hsv=function(e){let t=e[0],r=e[1]/100,i=e[2]/100,n=r,a=Math.max(i,.01);i*=2,r*=i<=1?i:2-i,n*=a<=1?a:2-a;let o=(i+r)/2,s=i===0?2*n/(a+n):2*r/(i+r);return[t,s*100,o*100]};D.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,i=e[2]/100,n=Math.floor(t)%6,a=t-Math.floor(t),o=255*i*(1-r),s=255*i*(1-r*a),u=255*i*(1-r*(1-a));switch(i*=255,n){case 0:return[i,u,o];case 1:return[s,i,o];case 2:return[o,i,u];case 3:return[o,s,i];case 4:return[u,o,i];case 5:return[i,o,s]}};D.hsv.hsl=function(e){let t=e[0],r=e[1]/100,i=e[2]/100,n=Math.max(i,.01),a,o;o=(2-r)*i;let s=(2-r)*n;return a=r*n,a/=s<=1?s:2-s,a=a||0,o/=2,[t,a*100,o*100]};D.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,i=e[2]/100,n=r+i,a;n>1&&(r/=n,i/=n);let o=Math.floor(6*t),s=1-i;a=6*t-o,(o&1)!=0&&(a=1-a);let u=r+a*(s-r),l,d,f;switch(o){default:case 6:case 0:l=s,d=u,f=r;break;case 1:l=u,d=s,f=r;break;case 2:l=r,d=s,f=u;break;case 3:l=r,d=u,f=s;break;case 4:l=u,d=r,f=s;break;case 5:l=s,d=r,f=u;break}return[l*255,d*255,f*255]};D.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,i=e[2]/100,n=e[3]/100,a=1-Math.min(1,t*(1-n)+n),o=1-Math.min(1,r*(1-n)+n),s=1-Math.min(1,i*(1-n)+n);return[a*255,o*255,s*255]};D.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,i=e[2]/100,n,a,o;return n=t*3.2406+r*-1.5372+i*-.4986,a=t*-.9689+r*1.8758+i*.0415,o=t*.0557+r*-.204+i*1.057,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,n=Math.min(Math.max(0,n),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[n*255,a*255,o*255]};D.xyz.lab=function(e){let t=e[0],r=e[1],i=e[2];t/=95.047,r/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let n=116*r-16,a=500*(t-r),o=200*(r-i);return[n,a,o]};D.lab.xyz=function(e){let t=e[0],r=e[1],i=e[2],n,a,o;a=(t+16)/116,n=r/500+a,o=a-i/200;let s=a**3,u=n**3,l=o**3;return a=s>.008856?s:(a-16/116)/7.787,n=u>.008856?u:(n-16/116)/7.787,o=l>.008856?l:(o-16/116)/7.787,n*=95.047,a*=100,o*=108.883,[n,a,o]};D.lab.lch=function(e){let t=e[0],r=e[1],i=e[2],n;n=Math.atan2(i,r)*360/2/Math.PI,n<0&&(n+=360);let o=Math.sqrt(r*r+i*i);return[t,o,n]};D.lch.lab=function(e){let t=e[0],r=e[1],n=e[2]/360*2*Math.PI,a=r*Math.cos(n),o=r*Math.sin(n);return[t,a,o]};D.rgb.ansi16=function(e,t=null){let[r,i,n]=e,a=t===null?D.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),a===0)return 30;let o=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(r/255));return a===2&&(o+=60),o};D.hsv.ansi16=function(e){return D.rgb.ansi16(D.hsv.rgb(e),e[2])};D.rgb.ansi256=function(e){let t=e[0],r=e[1],i=e[2];return t===r&&r===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)};D.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,i=(t&1)*r*255,n=(t>>1&1)*r*255,a=(t>>2&1)*r*255;return[i,n,a]};D.ansi256.rgb=function(e){if(e>=232){let a=(e-232)*10+8;return[a,a,a]}e-=16;let t,r=Math.floor(e/36)/5*255,i=Math.floor((t=e%36)/6)/5*255,n=t%6/5*255;return[r,i,n]};D.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};D.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(s=>s+s).join(""));let i=parseInt(r,16),n=i>>16&255,a=i>>8&255,o=i&255;return[n,a,o]};D.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255,n=Math.max(Math.max(t,r),i),a=Math.min(Math.min(t,r),i),o=n-a,s,u;return o<1?s=a/(1-o):s=0,o<=0?u=0:n===t?u=(r-i)/o%6:n===r?u=2+(i-t)/o:u=4+(t-r)/o,u/=6,u%=1,[u*360,o*100,s*100]};D.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,i=r<.5?2*t*r:2*t*(1-r),n=0;return i<1&&(n=(r-.5*i)/(1-i)),[e[0],i*100,n*100]};D.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,i=t*r,n=0;return i<1&&(n=(r-i)/(1-i)),[e[0],i*100,n*100]};D.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,i=e[2]/100;if(r===0)return[i*255,i*255,i*255];let n=[0,0,0],a=t%1*6,o=a%1,s=1-o,u=0;switch(Math.floor(a)){case 0:n[0]=1,n[1]=o,n[2]=0;break;case 1:n[0]=s,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=o;break;case 3:n[0]=0,n[1]=s,n[2]=1;break;case 4:n[0]=o,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=s}return u=(1-r)*i,[(r*n[0]+u)*255,(r*n[1]+u)*255,(r*n[2]+u)*255]};D.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,i=t+r*(1-t),n=0;return i>0&&(n=t/i),[e[0],n*100,i*100]};D.hcg.hsl=function(e){let t=e[1]/100,i=e[2]/100*(1-t)+.5*t,n=0;return i>0&&i<.5?n=t/(2*i):i>=.5&&i<1&&(n=t/(2*(1-i))),[e[0],n*100,i*100]};D.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,i=t+r*(1-t);return[e[0],(i-t)*100,(1-i)*100]};D.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,i=1-r,n=i-t,a=0;return n<1&&(a=(i-n)/(1-n)),[e[0],n*100,a*100]};D.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};D.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};D.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};D.gray.hsl=function(e){return[0,0,e[0]]};D.gray.hsv=D.gray.hsl;D.gray.hwb=function(e){return[0,100,e[0]]};D.gray.cmyk=function(e){return[0,0,0,e[0]]};D.gray.lab=function(e){return[e[0],0,0]};D.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(i.length)+i};D.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var CO=p((lwe,EO)=>{var Fs=Tg();function TU(){let e={},t=Object.keys(Fs);for(let r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}function jU(e){let t=TU(),r=[e];for(t[e].distance=0;r.length;){let i=r.pop(),n=Object.keys(Fs[i]);for(let a=n.length,o=0;o<a;o++){let s=n[o],u=t[s];u.distance===-1&&(u.distance=t[i].distance+1,u.parent=i,r.unshift(s))}}return t}function SU(e,t){return function(r){return t(e(r))}}function qU(e,t){let r=[t[e].parent,e],i=Fs[t[e].parent][e],n=t[e].parent;for(;t[n].parent;)r.unshift(t[n].parent),i=SU(Fs[t[n].parent][n],i),n=t[n].parent;return i.conversion=r,i}EO.exports=function(e){let t=jU(e),r={},i=Object.keys(t);for(let n=i.length,a=0;a<n;a++){let o=i[a];t[o].parent!==null&&(r[o]=qU(o,t))}return r}});var ma=p((dwe,AO)=>{var jg=Tg(),IU=CO(),wn={},DU=Object.keys(jg);function NU(e){let t=function(...r){let i=r[0];return i==null?i:(i.length>1&&(r=i),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function PU(e){let t=function(...r){let i=r[0];if(i==null)return i;i.length>1&&(r=i);let n=e(r);if(typeof n=="object")for(let a=n.length,o=0;o<a;o++)n[o]=Math.round(n[o]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}DU.forEach(e=>{wn[e]={},Object.defineProperty(wn[e],"channels",{value:jg[e].channels}),Object.defineProperty(wn[e],"labels",{value:jg[e].labels});let t=IU(e);Object.keys(t).forEach(i=>{let n=t[i];wn[e][i]=PU(n),wn[e][i].raw=NU(n)})});AO.exports=wn});var QO=p((M_e,kg)=>{"use strict";var zO=(e,t,r)=>new Promise((i,n)=>{if(r=Object.assign({concurrency:1/0},r),typeof t!="function")throw new TypeError("Mapper function is required");let{concurrency:a}=r;if(!(typeof a=="number"&&a>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${a}\` (${typeof a})`);let o=[],s=e[Symbol.iterator](),u=!1,l=!1,d=0,f=0,c=()=>{if(u)return;let m=s.next(),g=f;if(f++,m.done){l=!0,d===0&&i(o);return}d++,Promise.resolve(m.value).then(y=>t(y,g)).then(y=>{o[g]=y,d--,c()},y=>{u=!0,n(y)})};for(let m=0;m<a&&(c(),!l);m++);});kg.exports=zO;kg.exports.default=zO});var Lg=p((T_e,Rg)=>{"use strict";var RU=QO(),KO=async(e,t,r)=>(await RU(e,(n,a)=>Promise.all([t(n,a),n]),r)).filter(n=>Boolean(n[0])).map(n=>n[1]);Rg.exports=KO;Rg.exports.default=KO});var ZO=p(Fg=>{"use strict";var Wg=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var i=()=>{var n=!1;t(()=>{n||(n=!0,this.count++,this.sched())})};this.tasks.push(i),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(i=>(r(),i)).catch(i=>{throw r(),i}))}};Fg.Semaphore=Wg;var XO=class extends Wg{constructor(){super(1)}};Fg.Mutex=XO});var oM=p((F_e,Gg)=>{"use strict";var tM=require("child_process").exec,rM=require("child_process").execSync,Ks=require("fs"),iM=require("path"),nM=Ks.access,aM=Ks.accessSync,Mn=Ks.constants||Ks,Yg=process.platform=="win32",FU=function(e,t){nM(e,Mn.F_OK,function(r){t(!r)})},BU=function(e){try{return aM(e,Mn.F_OK),!1}catch(t){return!0}},HU=function(e,t){nM(e,Mn.F_OK|Mn.X_OK,function(r){t(null,!r)})},UU=function(e){try{return aM(e,Mn.F_OK|Mn.X_OK),!0}catch(t){return!1}},YU=function(e,t,r){FU(e,function(i){if(!i){var n=tM("command -v "+t+" 2>/dev/null && { echo >&1 "+t+"; exit 0; }",function(a,o,s){r(null,!!o)});return}HU(e,r)})},$U=function(e,t,r){if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(e)){r(null,!1);return}var i=tM("where "+t,function(n){n!==null?r(null,!1):r(null,!0)})},GU=function(e,t){if(BU(e))try{var r=rM("command -v "+t+" 2>/dev/null && { echo >&1 "+t+"; exit 0; }");return!!r}catch(i){return!1}return UU(e)},VU=function(e,t,r){if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(e))return!1;try{var i=rM("where "+t,{stdio:[]});return!!i}catch(n){return!1}},$g=function(e){return/[^A-Za-z0-9_\/:=-]/.test(e)&&(e="'"+e.replace(/'/g,"'\\''")+"'",e=e.replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")),e};Yg&&($g=function(e){var t=/[\\]/.test(e);if(t){var r='"'+iM.dirname(e)+'"',i='"'+iM.basename(e)+'"';return r+":"+i}return'"'+e+'"'});Gg.exports=function e(t,r){var i=$g(t);if(!r&&typeof Promise!="undefined")return new Promise(function(n,a){e(t,function(o,s){s?n(t):a(o)})});Yg?$U(t,i,r):YU(t,i,r)};Gg.exports.sync=function(e){var t=$g(e);return Yg?VU(e,t):GU(e,t)}});var uM=p((B_e,sM)=>{sM.exports=oM()});var IM=p(Er=>{"use strict";var zU=Er&&Er.__awaiter||function(e,t,r,i){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{l(i.next(d))}catch(f){o(f)}}function u(d){try{l(i.throw(d))}catch(f){o(f)}}function l(d){d.done?a(d.value):n(d.value).then(s,u)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(Er,"__esModule",{value:!0});Er.isBinaryFileSync=Er.isBinaryFile=void 0;var Pr=require("fs"),Xg=require("util"),QU=Xg.promisify(Pr.stat),KU=Xg.promisify(Pr.open),XU=Xg.promisify(Pr.close),Oa=512;function ZU(e,t){return zU(this,void 0,void 0,function*(){if(SM(e)){let r=yield QU(e);qM(r);let i=yield KU(e,"r"),n=Buffer.alloc(Oa);return new Promise((a,o)=>{Pr.read(i,n,0,Oa,0,(s,u,l)=>{XU(i),s?o(s):a(Zs(n,u))})})}else return t===void 0&&(t=e.length),Zs(e,t)})}Er.isBinaryFile=ZU;function JU(e,t){if(SM(e)){let r=Pr.statSync(e);qM(r);let i=Pr.openSync(e,"r"),n=Buffer.alloc(Oa),a=Pr.readSync(i,n,0,Oa,0);return Pr.closeSync(i),Zs(n,a)}else return t===void 0&&(t=e.length),Zs(e,t)}Er.isBinaryFileSync=JU;function Zs(e,t){if(t===0)return!1;let r=0,i=Math.min(t,Oa);if(t>=3&&e[0]===239&&e[1]===187&&e[2]===191||t>=4&&e[0]===0&&e[1]===0&&e[2]===254&&e[3]===255||t>=4&&e[0]===255&&e[1]===254&&e[2]===0&&e[3]===0||t>=4&&e[0]===132&&e[1]===49&&e[2]===149&&e[3]===51)return!1;if(i>=5&&e.slice(0,5).toString()==="%PDF-")return!0;if(t>=2&&e[0]===254&&e[1]===255||t>=2&&e[0]===255&&e[1]===254)return!1;for(let n=0;n<i;n++){if(e[n]===0)return!0;if((e[n]<7||e[n]>14)&&(e[n]<32||e[n]>127)){if(e[n]>193&&e[n]<224&&n+1<i){if(n++,e[n]>127&&e[n]<192)continue}else if(e[n]>223&&e[n]<240&&n+2<i&&(n++,e[n]>127&&e[n]<192&&e[n+1]>127&&e[n+1]<192)){n++;continue}if(r++,n>32&&r*100/i>10)return!0}}return r*100/i>10}function SM(e){return typeof e=="string"}function qM(e){if(!e.isFile())throw new Error("Path provided was not a file!")}});var BT=p((PTe,FT)=>{"use strict";var wY=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],_Y=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],bY=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],OY=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],WT=(e,t,r)=>{let i=e;return typeof t=="string"||Array.isArray(t)?i=e.toLocaleString(t,r):(t===!0||r!==void 0)&&(i=e.toLocaleString(void 0,r)),i};FT.exports=(e,t)=>{if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t=Object.assign({bits:!1,binary:!1},t);let r=t.bits?t.binary?OY:bY:t.binary?_Y:wY;if(t.signed&&e===0)return` 0 ${r[0]}`;let i=e<0,n=i?"-":t.signed?"+":"";i&&(e=-e);let a;if(t.minimumFractionDigits!==void 0&&(a={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(a=Object.assign({maximumFractionDigits:t.maximumFractionDigits},a)),e<1){let l=WT(e,t.locale,a);return n+l+" "+r[0]}let o=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),r.length-1);e/=Math.pow(t.binary?1024:1e3,o),a||(e=e.toPrecision(3));let s=WT(Number(e),t.locale,a),u=r[o];return n+s+" "+u}});var N=p((ou,UT)=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.default=MY;function MY(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}UT.exports=ou.default});var v=p((su,YT)=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.default=TY;function TY(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}YT.exports=su.default});var _=p((uu,$T)=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.default=qY;var jY=SY(v());function SY(e){return e&&e.__esModule?e:{default:e}}function qY(e){(0,jY.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}$T.exports=uu.default});var Ot=p((lu,GT)=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.default=PY;var IY=_h(N()),DY=_h(_()),NY=_h(v());function _h(e){return e&&e.__esModule?e:{default:e}}function PY(e,t){(0,NY.default)(2,arguments);var r=(0,DY.default)(e),i=(0,IY.default)(t);return isNaN(i)?new Date(NaN):(i&&r.setDate(r.getDate()+i),r)}GT.exports=lu.default});var Nn=p((du,VT)=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.default=kY;var EY=bh(N()),CY=bh(_()),AY=bh(v());function bh(e){return e&&e.__esModule?e:{default:e}}function kY(e,t){(0,AY.default)(2,arguments);var r=(0,CY.default)(e),i=(0,EY.default)(t);if(isNaN(i))return new Date(NaN);if(!i)return r;var n=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+i+1,0);var o=a.getDate();return n>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}VT.exports=du.default});var QT=p((fu,zT)=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.default=BY;var RY=Pa(Ot()),LY=Pa(Nn()),WY=Pa(_()),FY=Pa(v()),Ti=Pa(N());function Pa(e){return e&&e.__esModule?e:{default:e}}function BY(e,t){if((0,FY.default)(2,arguments),!t||typeof t!="object")return new Date(NaN);var r=t.years?(0,Ti.default)(t.years):0,i=t.months?(0,Ti.default)(t.months):0,n=t.weeks?(0,Ti.default)(t.weeks):0,a=t.days?(0,Ti.default)(t.days):0,o=t.hours?(0,Ti.default)(t.hours):0,s=t.minutes?(0,Ti.default)(t.minutes):0,u=t.seconds?(0,Ti.default)(t.seconds):0,l=(0,WY.default)(e),d=i||r?(0,LY.default)(l,i+r*12):l,f=a||n?(0,RY.default)(d,a+n*7):d,c=s+o*60,m=u+c*60,g=m*1e3,y=new Date(f.getTime()+g);return y}zT.exports=fu.default});var Ea=p((cu,XT)=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.default=YY;var HY=KT(_()),UY=KT(v());function KT(e){return e&&e.__esModule?e:{default:e}}function YY(e){(0,UY.default)(1,arguments);var t=(0,HY.default)(e),r=t.getDay();return r===0||r===6}XT.exports=cu.default});var mu=p((pu,JT)=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.default=VY;var $Y=ZT(_()),GY=ZT(v());function ZT(e){return e&&e.__esModule?e:{default:e}}function VY(e){return(0,GY.default)(1,arguments),(0,$Y.default)(e).getDay()===0}JT.exports=pu.default});var Oh=p((gu,tj)=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.default=KY;var zY=ej(_()),QY=ej(v());function ej(e){return e&&e.__esModule?e:{default:e}}function KY(e){return(0,QY.default)(1,arguments),(0,zY.default)(e).getDay()===6}tj.exports=gu.default});var Th=p((hu,ij)=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.default=t4;var Mh=Pn(Ea()),XY=Pn(_()),rj=Pn(N()),ZY=Pn(v()),JY=Pn(mu()),e4=Pn(Oh());function Pn(e){return e&&e.__esModule?e:{default:e}}function t4(e,t){(0,ZY.default)(2,arguments);var r=(0,XY.default)(e),i=(0,Mh.default)(r),n=(0,rj.default)(t);if(isNaN(n))return new Date(NaN);var a=r.getHours(),o=n<0?-1:1,s=(0,rj.default)(n/5);r.setDate(r.getDate()+s*7);for(var u=Math.abs(n%5);u>0;)r.setDate(r.getDate()+o),(0,Mh.default)(r)||(u-=1);return i&&(0,Mh.default)(r)&&n!==0&&((0,e4.default)(r)&&r.setDate(r.getDate()+(o<0?2:-1)),(0,JY.default)(r)&&r.setDate(r.getDate()+(o<0?1:-2))),r.setHours(a),r}ij.exports=hu.default});var En=p((vu,nj)=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.default=a4;var r4=jh(N()),i4=jh(_()),n4=jh(v());function jh(e){return e&&e.__esModule?e:{default:e}}function a4(e,t){(0,n4.default)(2,arguments);var r=(0,i4.default)(e).getTime(),i=(0,r4.default)(t);return new Date(r+i)}nj.exports=vu.default});var yu=p((xu,aj)=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.default=d4;var o4=Sh(N()),s4=Sh(En()),u4=Sh(v());function Sh(e){return e&&e.__esModule?e:{default:e}}var l4=36e5;function d4(e,t){(0,u4.default)(2,arguments);var r=(0,o4.default)(t);return(0,s4.default)(e,r*l4)}aj.exports=xu.default});var er=p((wu,sj)=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.default=p4;var f4=qh(_()),oj=qh(N()),c4=qh(v());function qh(e){return e&&e.__esModule?e:{default:e}}function p4(e,t){(0,c4.default)(1,arguments);var r=t||{},i=r.locale,n=i&&i.options&&i.options.weekStartsOn,a=n==null?0:(0,oj.default)(n),o=r.weekStartsOn==null?a:(0,oj.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=(0,f4.default)(e),u=s.getDay(),l=(u<o?7:0)+u-o;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}sj.exports=wu.default});var Lr=p((_u,lj)=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.default=h4;var m4=uj(er()),g4=uj(v());function uj(e){return e&&e.__esModule?e:{default:e}}function h4(e){return(0,g4.default)(1,arguments),(0,m4.default)(e,{weekStartsOn:1})}lj.exports=_u.default});var ji=p((bu,fj)=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.default=y4;var v4=Ih(_()),dj=Ih(Lr()),x4=Ih(v());function Ih(e){return e&&e.__esModule?e:{default:e}}function y4(e){(0,x4.default)(1,arguments);var t=(0,v4.default)(e),r=t.getFullYear(),i=new Date(0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);var n=(0,dj.default)(i),a=new Date(0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);var o=(0,dj.default)(a);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}fj.exports=bu.default});var Cn=p((Ou,cj)=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.default=O4;var w4=Dh(ji()),_4=Dh(Lr()),b4=Dh(v());function Dh(e){return e&&e.__esModule?e:{default:e}}function O4(e){(0,b4.default)(1,arguments);var t=(0,w4.default)(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var i=(0,_4.default)(r);return i}cj.exports=Ou.default});var Mt=p((Mu,pj)=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.default=M4;function M4(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}pj.exports=Mu.default});var Ca=p((Tu,gj)=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.default=S4;var T4=mj(_()),j4=mj(v());function mj(e){return e&&e.__esModule?e:{default:e}}function S4(e){(0,j4.default)(1,arguments);var t=(0,T4.default)(e);return t.setHours(0,0,0,0),t}gj.exports=Tu.default});var Wr=p((ju,xj)=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.default=D4;var hj=Nh(Mt()),vj=Nh(Ca()),q4=Nh(v());function Nh(e){return e&&e.__esModule?e:{default:e}}var I4=864e5;function D4(e,t){(0,q4.default)(2,arguments);var r=(0,vj.default)(e),i=(0,vj.default)(t),n=r.getTime()-(0,hj.default)(r),a=i.getTime()-(0,hj.default)(i);return Math.round((n-a)/I4)}xj.exports=ju.default});var Ph=p((Su,wj)=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.default=A4;var N4=Aa(N()),P4=Aa(_()),yj=Aa(Cn()),E4=Aa(Wr()),C4=Aa(v());function Aa(e){return e&&e.__esModule?e:{default:e}}function A4(e,t){(0,C4.default)(2,arguments);var r=(0,P4.default)(e),i=(0,N4.default)(t),n=(0,E4.default)(r,(0,yj.default)(r)),a=new Date(0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),r=(0,yj.default)(a),r.setDate(r.getDate()+n),r}wj.exports=Su.default});var Eh=p((Iu,_j)=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.default=F4;var k4=qu(N()),R4=qu(ji()),L4=qu(Ph()),W4=qu(v());function qu(e){return e&&e.__esModule?e:{default:e}}function F4(e,t){(0,W4.default)(2,arguments);var r=(0,k4.default)(t);return(0,L4.default)(e,(0,R4.default)(e)+r)}_j.exports=Iu.default});var Nu=p((Du,bj)=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.default=$4;var B4=Ch(N()),H4=Ch(En()),U4=Ch(v());function Ch(e){return e&&e.__esModule?e:{default:e}}var Y4=6e4;function $4(e,t){(0,U4.default)(2,arguments);var r=(0,B4.default)(t);return(0,H4.default)(e,r*Y4)}bj.exports=Du.default});var Eu=p((Pu,Oj)=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.default=Q4;var G4=Ah(N()),V4=Ah(Nn()),z4=Ah(v());function Ah(e){return e&&e.__esModule?e:{default:e}}function Q4(e,t){(0,z4.default)(2,arguments);var r=(0,G4.default)(t),i=r*3;return(0,V4.default)(e,i)}Oj.exports=Pu.default});var Rh=p((Cu,Mj)=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.default=J4;var K4=kh(N()),X4=kh(En()),Z4=kh(v());function kh(e){return e&&e.__esModule?e:{default:e}}function J4(e,t){(0,Z4.default)(2,arguments);var r=(0,K4.default)(t);return(0,X4.default)(e,r*1e3)}Mj.exports=Cu.default});var ka=p((Au,Tj)=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.default=i$;var e$=Lh(N()),t$=Lh(Ot()),r$=Lh(v());function Lh(e){return e&&e.__esModule?e:{default:e}}function i$(e,t){(0,r$.default)(2,arguments);var r=(0,e$.default)(t),i=r*7;return(0,t$.default)(e,i)}Tj.exports=Au.default});var Fh=p((ku,jj)=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.default=s$;var n$=Wh(N()),a$=Wh(Nn()),o$=Wh(v());function Wh(e){return e&&e.__esModule?e:{default:e}}function s$(e,t){(0,o$.default)(2,arguments);var r=(0,n$.default)(t);return(0,a$.default)(e,r*12)}jj.exports=ku.default});var Ij=p((Lu,qj)=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.default=l$;var Ru=Sj(_()),u$=Sj(v());function Sj(e){return e&&e.__esModule?e:{default:e}}function l$(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{inclusive:!1};(0,u$.default)(2,arguments);var i=e||{},n=t||{},a=(0,Ru.default)(i.start).getTime(),o=(0,Ru.default)(i.end).getTime(),s=(0,Ru.default)(n.start).getTime(),u=(0,Ru.default)(n.end).getTime();if(!(a<=o&&s<=u))throw new RangeError("Invalid interval");return r.inclusive?a<=u&&s<=o:a<u&&s<o}qj.exports=Lu.default});var Bh=p((Wu,Nj)=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.default=c$;var d$=Dj(_()),f$=Dj(v());function Dj(e){return e&&e.__esModule?e:{default:e}}function c$(e){(0,f$.default)(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(typeof e=="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(i){var n=(0,d$.default)(i);(r===void 0||r<n||isNaN(Number(n)))&&(r=n)}),r||new Date(NaN)}Nj.exports=Wu.default});var Hh=p((Fu,Ej)=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.default=g$;var p$=Pj(_()),m$=Pj(v());function Pj(e){return e&&e.__esModule?e:{default:e}}function g$(e){(0,m$.default)(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(typeof e=="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(i){var n=(0,p$.default)(i);(r===void 0||r>n||isNaN(n.getDate()))&&(r=n)}),r||new Date(NaN)}Ej.exports=Fu.default});var Aj=p((Bu,Cj)=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.default=y$;var h$=Uh(Bh()),v$=Uh(Hh()),x$=Uh(v());function Uh(e){return e&&e.__esModule?e:{default:e}}function y$(e,t){var r=t.start,i=t.end;return(0,x$.default)(2,arguments),(0,v$.default)([(0,h$.default)([e,r]),i])}Cj.exports=Bu.default});var Wj=p((Hu,Lj)=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.default=_$;var kj=Rj(_()),w$=Rj(v());function Rj(e){return e&&e.__esModule?e:{default:e}}function _$(e,t){(0,w$.default)(2,arguments);var r=(0,kj.default)(e);if(isNaN(r))return NaN;var i=r.getTime(),n;t==null?n=[]:typeof t.forEach=="function"?n=t:n=Array.prototype.slice.call(t);var a,o;return n.forEach(function(s,u){var l=(0,kj.default)(s);if(isNaN(l)){a=NaN,o=NaN;return}var d=Math.abs(i-l.getTime());(a==null||d<o)&&(a=u,o=d)}),a}Lj.exports=Hu.default});var Uj=p((Uu,Hj)=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.default=O$;var Fj=Bj(_()),b$=Bj(v());function Bj(e){return e&&e.__esModule?e:{default:e}}function O$(e,t){(0,b$.default)(2,arguments);var r=(0,Fj.default)(e);if(isNaN(r))return new Date(NaN);var i=r.getTime(),n;t==null?n=[]:typeof t.forEach=="function"?n=t:n=Array.prototype.slice.call(t);var a,o;return n.forEach(function(s){var u=(0,Fj.default)(s);if(isNaN(u)){a=new Date(NaN),o=NaN;return}var l=Math.abs(i-u.getTime());(a==null||l<o)&&(a=u,o=l)}),a}Hj.exports=Uu.default});var Fr=p((Yu,Gj)=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.default=T$;var Yj=$j(_()),M$=$j(v());function $j(e){return e&&e.__esModule?e:{default:e}}function T$(e,t){(0,M$.default)(2,arguments);var r=(0,Yj.default)(e),i=(0,Yj.default)(t),n=r.getTime()-i.getTime();return n<0?-1:n>0?1:n}Gj.exports=Yu.default});var Kj=p(($u,Qj)=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.default=S$;var Vj=zj(_()),j$=zj(v());function zj(e){return e&&e.__esModule?e:{default:e}}function S$(e,t){(0,j$.default)(2,arguments);var r=(0,Vj.default)(e),i=(0,Vj.default)(t),n=r.getTime()-i.getTime();return n>0?-1:n<0?1:n}Qj.exports=$u.default});var ne=p(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.secondsInMinute=J.secondsInHour=J.quartersInYear=J.monthsInYear=J.monthsInQuarter=J.minutesInHour=J.minTime=J.millisecondsInSecond=J.millisecondsInHour=J.millisecondsInMinute=J.maxTime=J.daysInWeek=void 0;var q$=7;J.daysInWeek=q$;var Xj=Math.pow(10,8)*24*60*60*1e3;J.maxTime=Xj;var I$=6e4;J.millisecondsInMinute=I$;var D$=36e5;J.millisecondsInHour=D$;var N$=1e3;J.millisecondsInSecond=N$;var P$=-Xj;J.minTime=P$;var E$=60;J.minutesInHour=E$;var C$=3;J.monthsInQuarter=C$;var A$=12;J.monthsInYear=A$;var k$=4;J.quartersInYear=k$;var R$=3600;J.secondsInHour=R$;var L$=60;J.secondsInMinute=L$});var Jj=p((Gu,Zj)=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.default=H$;var W$=B$(v()),F$=ne();function B$(e){return e&&e.__esModule?e:{default:e}}function H$(e){(0,W$.default)(1,arguments);var t=e/F$.daysInWeek;return Math.floor(t)}Zj.exports=Gu.default});var Yh=p((Vu,eS)=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.default=$$;var U$=Y$(v());function Y$(e){return e&&e.__esModule?e:{default:e}}function $$(e){return(0,U$.default)(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}eS.exports=Vu.default});var ct=p((zu,tS)=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.default=Q$;var G$=$h(Yh()),V$=$h(_()),z$=$h(v());function $h(e){return e&&e.__esModule?e:{default:e}}function Q$(e){if((0,z$.default)(1,arguments),!(0,G$.default)(e)&&typeof e!="number")return!1;var t=(0,V$.default)(e);return!isNaN(Number(t))}tS.exports=zu.default});var An=p((Qu,nS)=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.default=X$;var rS=iS(Ca()),K$=iS(v());function iS(e){return e&&e.__esModule?e:{default:e}}function X$(e,t){(0,K$.default)(2,arguments);var r=(0,rS.default)(e),i=(0,rS.default)(t);return r.getTime()===i.getTime()}nS.exports=Qu.default});var lS=p((Ku,uS)=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.default=iG;var aS=Br(ct()),Z$=Br(Ea()),oS=Br(_()),J$=Br(Wr()),sS=Br(Ot()),eG=Br(An()),tG=Br(N()),rG=Br(v());function Br(e){return e&&e.__esModule?e:{default:e}}function iG(e,t){(0,rG.default)(2,arguments);var r=(0,oS.default)(e),i=(0,oS.default)(t);if(!(0,aS.default)(r)||!(0,aS.default)(i))return NaN;var n=(0,J$.default)(r,i),a=n<0?-1:1,o=(0,tG.default)(n/7),s=o*5;for(i=(0,sS.default)(i,o*7);!(0,eG.default)(r,i);)s+=(0,Z$.default)(i)?0:a,i=(0,sS.default)(i,a);return s===0?0:s}uS.exports=Ku.default});var Gh=p((Xu,cS)=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.default=aG;var dS=fS(ji()),nG=fS(v());function fS(e){return e&&e.__esModule?e:{default:e}}function aG(e,t){return(0,nG.default)(2,arguments),(0,dS.default)(e)-(0,dS.default)(t)}cS.exports=Xu.default});var hS=p((Zu,gS)=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.default=uG;var pS=Vh(Mt()),mS=Vh(Lr()),oG=Vh(v());function Vh(e){return e&&e.__esModule?e:{default:e}}var sG=6048e5;function uG(e,t){(0,oG.default)(2,arguments);var r=(0,mS.default)(e),i=(0,mS.default)(t),n=r.getTime()-(0,pS.default)(r),a=i.getTime()-(0,pS.default)(i);return Math.round((n-a)/sG)}gS.exports=Zu.default});var zh=p((Ju,yS)=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.default=dG;var vS=xS(_()),lG=xS(v());function xS(e){return e&&e.__esModule?e:{default:e}}function dG(e,t){(0,lG.default)(2,arguments);var r=(0,vS.default)(e),i=(0,vS.default)(t),n=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return n*12+a}yS.exports=Ju.default});var Qh=p((el,_S)=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.default=pG;var fG=wS(_()),cG=wS(v());function wS(e){return e&&e.__esModule?e:{default:e}}function pG(e){(0,cG.default)(1,arguments);var t=(0,fG.default)(e),r=Math.floor(t.getMonth()/3)+1;return r}_S.exports=el.default});var TS=p((tl,MS)=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.default=gG;var bS=Kh(Qh()),OS=Kh(_()),mG=Kh(v());function Kh(e){return e&&e.__esModule?e:{default:e}}function gG(e,t){(0,mG.default)(2,arguments);var r=(0,OS.default)(e),i=(0,OS.default)(t),n=r.getFullYear()-i.getFullYear(),a=(0,bS.default)(r)-(0,bS.default)(i);return n*4+a}MS.exports=tl.default});var Zh=p((rl,qS)=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.default=xG;var jS=Xh(er()),SS=Xh(Mt()),hG=Xh(v());function Xh(e){return e&&e.__esModule?e:{default:e}}var vG=6048e5;function xG(e,t,r){(0,hG.default)(2,arguments);var i=(0,jS.default)(e,r),n=(0,jS.default)(t,r),a=i.getTime()-(0,SS.default)(i),o=n.getTime()-(0,SS.default)(n);return Math.round((a-o)/vG)}qS.exports=rl.default});var Jh=p((il,NS)=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.default=wG;var IS=DS(_()),yG=DS(v());function DS(e){return e&&e.__esModule?e:{default:e}}function wG(e,t){(0,yG.default)(2,arguments);var r=(0,IS.default)(e),i=(0,IS.default)(t);return r.getFullYear()-i.getFullYear()}NS.exports=il.default});var al=p((nl,CS)=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.default=OG;var PS=ev(_()),_G=ev(Wr()),bG=ev(v());function ev(e){return e&&e.__esModule?e:{default:e}}function ES(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function OG(e,t){(0,bG.default)(2,arguments);var r=(0,PS.default)(e),i=(0,PS.default)(t),n=ES(r,i),a=Math.abs((0,_G.default)(r,i));r.setDate(r.getDate()-n*a);var o=Number(ES(r,i)===-n),s=n*(a-o);return s===0?0:s}CS.exports=nl.default});var Ra=p((ol,RS)=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.default=TG;var AS=kS(_()),MG=kS(v());function kS(e){return e&&e.__esModule?e:{default:e}}function TG(e,t){return(0,MG.default)(2,arguments),(0,AS.default)(e).getTime()-(0,AS.default)(t).getTime()}RS.exports=ol.default});var kn=p(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});tv.getRoundingMethod=SG;var LS={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},jG="trunc";function SG(e){return e?LS[e]:LS[jG]}});var rv=p((sl,FS)=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.default=PG;var qG=ne(),IG=WS(Ra()),DG=WS(v()),NG=kn();function WS(e){return e&&e.__esModule?e:{default:e}}function PG(e,t,r){(0,DG.default)(2,arguments);var i=(0,IG.default)(e,t)/qG.millisecondsInHour;return(0,NG.getRoundingMethod)(r==null?void 0:r.roundingMethod)(i)}FS.exports=sl.default});var nv=p((ul,BS)=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.default=kG;var EG=iv(N()),CG=iv(Eh()),AG=iv(v());function iv(e){return e&&e.__esModule?e:{default:e}}function kG(e,t){(0,AG.default)(2,arguments);var r=(0,EG.default)(t);return(0,CG.default)(e,-r)}BS.exports=ul.default});var $S=p((ll,YS)=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.default=FG;var HS=La(_()),RG=La(Gh()),US=La(Fr()),LG=La(nv()),WG=La(v());function La(e){return e&&e.__esModule?e:{default:e}}function FG(e,t){(0,WG.default)(2,arguments);var r=(0,HS.default)(e),i=(0,HS.default)(t),n=(0,US.default)(r,i),a=Math.abs((0,RG.default)(r,i));r=(0,LG.default)(r,n*a);var o=Number((0,US.default)(r,i)===-n),s=n*(a-o);return s===0?0:s}YS.exports=ll.default});var av=p((dl,VS)=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.default=$G;var BG=ne(),HG=GS(Ra()),UG=GS(v()),YG=kn();function GS(e){return e&&e.__esModule?e:{default:e}}function $G(e,t,r){(0,UG.default)(2,arguments);var i=(0,HG.default)(e,t)/BG.millisecondsInMinute;return(0,YG.getRoundingMethod)(r==null?void 0:r.roundingMethod)(i)}VS.exports=dl.default});var cl=p((fl,QS)=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.default=zG;var GG=zS(_()),VG=zS(v());function zS(e){return e&&e.__esModule?e:{default:e}}function zG(e){(0,VG.default)(1,arguments);var t=(0,GG.default)(e);return t.setHours(23,59,59,999),t}QS.exports=fl.default});var ml=p((pl,XS)=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.default=XG;var QG=KS(_()),KG=KS(v());function KS(e){return e&&e.__esModule?e:{default:e}}function XG(e){(0,KG.default)(1,arguments);var t=(0,QG.default)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}XS.exports=pl.default});var ov=p((hl,ZS)=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.default=r6;var ZG=gl(_()),JG=gl(cl()),e6=gl(ml()),t6=gl(v());function gl(e){return e&&e.__esModule?e:{default:e}}function r6(e){(0,t6.default)(1,arguments);var t=(0,ZG.default)(e);return(0,JG.default)(t).getTime()===(0,e6.default)(t).getTime()}ZS.exports=hl.default});var Fa=p((vl,JS)=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.default=o6;var sv=Wa(_()),i6=Wa(zh()),uv=Wa(Fr()),n6=Wa(v()),a6=Wa(ov());function Wa(e){return e&&e.__esModule?e:{default:e}}function o6(e,t){(0,n6.default)(2,arguments);var r=(0,sv.default)(e),i=(0,sv.default)(t),n=(0,uv.default)(r,i),a=Math.abs((0,i6.default)(r,i)),o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*a);var s=(0,uv.default)(r,i)===-n;(0,a6.default)((0,sv.default)(e))&&a===1&&(0,uv.default)(e,i)===1&&(s=!1),o=n*(a-Number(s))}return o===0?0:o}JS.exports=vl.default});var r1=p((xl,t1)=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.default=d6;var s6=e1(Fa()),u6=e1(v()),l6=kn();function e1(e){return e&&e.__esModule?e:{default:e}}function d6(e,t,r){(0,u6.default)(2,arguments);var i=(0,s6.default)(e,t)/3;return(0,l6.getRoundingMethod)(r==null?void 0:r.roundingMethod)(i)}t1.exports=xl.default});var wl=p((yl,n1)=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.default=m6;var f6=i1(Ra()),c6=i1(v()),p6=kn();function i1(e){return e&&e.__esModule?e:{default:e}}function m6(e,t,r){(0,c6.default)(2,arguments);var i=(0,f6.default)(e,t)/1e3;return(0,p6.getRoundingMethod)(r==null?void 0:r.roundingMethod)(i)}n1.exports=yl.default});var s1=p((_l,o1)=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.default=x6;var g6=a1(al()),h6=a1(v()),v6=kn();function a1(e){return e&&e.__esModule?e:{default:e}}function x6(e,t,r){(0,h6.default)(2,arguments);var i=(0,g6.default)(e,t)/7;return(0,v6.getRoundingMethod)(r==null?void 0:r.roundingMethod)(i)}o1.exports=_l.default});var lv=p((Ol,d1)=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.default=_6;var u1=bl(_()),y6=bl(Jh()),l1=bl(Fr()),w6=bl(v());function bl(e){return e&&e.__esModule?e:{default:e}}function _6(e,t){(0,w6.default)(2,arguments);var r=(0,u1.default)(e),i=(0,u1.default)(t),n=(0,l1.default)(r,i),a=Math.abs((0,y6.default)(r,i));r.setFullYear(1584),i.setFullYear(1584);var o=(0,l1.default)(r,i)===-n,s=n*(a-Number(o));return s===0?0:s}d1.exports=Ol.default});var fv=p((Ml,c1)=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.default=O6;var dv=f1(_()),b6=f1(v());function f1(e){return e&&e.__esModule?e:{default:e}}function O6(e,t){(0,b6.default)(1,arguments);var r=e||{},i=(0,dv.default)(r.start),n=(0,dv.default)(r.end),a=n.getTime();if(!(i.getTime()<=a))throw new RangeError("Invalid interval");var o=[],s=i;s.setHours(0,0,0,0);var u=t&&"step"in t?Number(t.step):1;if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;s.getTime()<=a;)o.push((0,dv.default)(s)),s.setDate(s.getDate()+u),s.setHours(0,0,0,0);return o}c1.exports=Ml.default});var m1=p((Tl,p1)=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.default=j6;var M6=pv(yu()),cv=pv(_()),T6=pv(v());function pv(e){return e&&e.__esModule?e:{default:e}}function j6(e,t){(0,T6.default)(1,arguments);var r=e||{},i=(0,cv.default)(r.start),n=(0,cv.default)(r.end),a=i.getTime(),o=n.getTime();if(!(a<=o))throw new RangeError("Invalid interval");var s=[],u=i;u.setMinutes(0,0,0);var l=t&&"step"in t?Number(t.step):1;if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=o;)s.push((0,cv.default)(u)),u=(0,M6.default)(u,l);return s}p1.exports=Tl.default});var Sl=p((jl,h1)=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.default=I6;var S6=g1(_()),q6=g1(v());function g1(e){return e&&e.__esModule?e:{default:e}}function I6(e){(0,q6.default)(1,arguments);var t=(0,S6.default)(e);return t.setSeconds(0,0),t}h1.exports=jl.default});var y1=p((Il,x1)=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.default=P6;var D6=ql(Nu()),mv=ql(_()),v1=ql(Sl()),N6=ql(v());function ql(e){return e&&e.__esModule?e:{default:e}}function P6(e,t){(0,N6.default)(1,arguments);var r=(0,v1.default)((0,mv.default)(e.start)),i=(0,v1.default)((0,mv.default)(e.end)),n=r.getTime(),a=i.getTime();if(n>=a)throw new RangeError("Invalid interval");var o=[],s=r,u=t&&"step"in t?Number(t.step):1;if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number equal or greater than 1");for(;s.getTime()<=a;)o.push((0,mv.default)(s)),s=(0,D6.default)(s,u);return o}x1.exports=Il.default});var b1=p((Dl,_1)=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.default=C6;var gv=w1(_()),E6=w1(v());function w1(e){return e&&e.__esModule?e:{default:e}}function C6(e){(0,E6.default)(1,arguments);var t=e||{},r=(0,gv.default)(t.start),i=(0,gv.default)(t.end),n=i.getTime(),a=[];if(!(r.getTime()<=n))throw new RangeError("Invalid interval");var o=r;for(o.setHours(0,0,0,0),o.setDate(1);o.getTime()<=n;)a.push((0,gv.default)(o)),o.setMonth(o.getMonth()+1);return a}_1.exports=Dl.default});var Pl=p((Nl,M1)=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.default=R6;var A6=O1(_()),k6=O1(v());function O1(e){return e&&e.__esModule?e:{default:e}}function R6(e){(0,k6.default)(1,arguments);var t=(0,A6.default)(e),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}M1.exports=Nl.default});var S1=p((Cl,j1)=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.default=F6;var L6=El(Eu()),T1=El(Pl()),hv=El(_()),W6=El(v());function El(e){return e&&e.__esModule?e:{default:e}}function F6(e){(0,W6.default)(1,arguments);var t=e||{},r=(0,hv.default)(t.start),i=(0,hv.default)(t.end),n=i.getTime();if(!(r.getTime()<=n))throw new RangeError("Invalid interval");var a=(0,T1.default)(r),o=(0,T1.default)(i);n=o.getTime();for(var s=[],u=a;u.getTime()<=n;)s.push((0,hv.default)(u)),u=(0,L6.default)(u,1);return s}j1.exports=Cl.default});var D1=p((kl,I1)=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.default=U6;var B6=Al(ka()),q1=Al(er()),vv=Al(_()),H6=Al(v());function Al(e){return e&&e.__esModule?e:{default:e}}function U6(e,t){(0,H6.default)(1,arguments);var r=e||{},i=(0,vv.default)(r.start),n=(0,vv.default)(r.end),a=n.getTime();if(!(i.getTime()<=a))throw new RangeError("Invalid interval");var o=(0,q1.default)(i,t),s=(0,q1.default)(n,t);o.setHours(15),s.setHours(15),a=s.getTime();for(var u=[],l=o;l.getTime()<=a;)l.setHours(0),u.push((0,vv.default)(l)),l=(0,B6.default)(l,1),l.setHours(15);return u}I1.exports=kl.default});var Wl=p((Ll,N1)=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.default=z6;var Y6=Rl(fv()),$6=Rl(mu()),G6=Rl(Ea()),V6=Rl(v());function Rl(e){return e&&e.__esModule?e:{default:e}}function z6(e){(0,V6.default)(1,arguments);for(var t=(0,Y6.default)(e),r=[],i=0;i<t.length;){var n=t[i++];(0,G6.default)(n)&&(r.push(n),(0,$6.default)(n)&&(i=i+5))}return r}N1.exports=Ll.default});var Ba=p((Fl,E1)=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.default=X6;var Q6=P1(_()),K6=P1(v());function P1(e){return e&&e.__esModule?e:{default:e}}function X6(e){(0,K6.default)(1,arguments);var t=(0,Q6.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t}E1.exports=Fl.default});var A1=p((Hl,C1)=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.default=r9;var Z6=Bl(Wl()),J6=Bl(Ba()),e9=Bl(ml()),t9=Bl(v());function Bl(e){return e&&e.__esModule?e:{default:e}}function r9(e){(0,t9.default)(1,arguments);var t=(0,J6.default)(e);if(isNaN(t.getTime()))throw new RangeError("The passed date is invalid");var r=(0,e9.default)(e);return(0,Z6.default)({start:t,end:r})}C1.exports=Hl.default});var Yl=p((Ul,R1)=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.default=a9;var i9=k1(_()),n9=k1(v());function k1(e){return e&&e.__esModule?e:{default:e}}function a9(e){(0,n9.default)(1,arguments);var t=(0,i9.default)(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}R1.exports=Ul.default});var xv=p(($l,W1)=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.default=u9;var o9=L1(_()),s9=L1(v());function L1(e){return e&&e.__esModule?e:{default:e}}function u9(e){(0,s9.default)(1,arguments);var t=(0,o9.default)(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}W1.exports=$l.default});var B1=p((Vl,F1)=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.default=p9;var l9=Gl(Wl()),d9=Gl(Yl()),f9=Gl(xv()),c9=Gl(v());function Gl(e){return e&&e.__esModule?e:{default:e}}function p9(e){(0,c9.default)(1,arguments);var t=(0,d9.default)(e);if(isNaN(t))throw new RangeError("The passed date is invalid");var r=(0,f9.default)(e);return(0,l9.default)({start:t,end:r})}F1.exports=Vl.default});var Y1=p((zl,U1)=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.default=g9;var yv=H1(_()),m9=H1(v());function H1(e){return e&&e.__esModule?e:{default:e}}function g9(e){(0,m9.default)(1,arguments);var t=e||{},r=(0,yv.default)(t.start),i=(0,yv.default)(t.end),n=i.getTime();if(!(r.getTime()<=n))throw new RangeError("Invalid interval");var a=[],o=r;for(o.setHours(0,0,0,0),o.setMonth(0,1);o.getTime()<=n;)a.push((0,yv.default)(o)),o.setFullYear(o.getFullYear()+1);return a}U1.exports=zl.default});var V1=p((Ql,G1)=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.default=x9;var h9=$1(_()),v9=$1(v());function $1(e){return e&&e.__esModule?e:{default:e}}function x9(e){(0,v9.default)(1,arguments);var t=(0,h9.default)(e),r=t.getFullYear(),i=9+Math.floor(r/10)*10;return t.setFullYear(i,11,31),t.setHours(23,59,59,999),t}G1.exports=Ql.default});var K1=p((Kl,Q1)=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.default=_9;var y9=z1(_()),w9=z1(v());function z1(e){return e&&e.__esModule?e:{default:e}}function _9(e){(0,w9.default)(1,arguments);var t=(0,y9.default)(e);return t.setMinutes(59,59,999),t}Q1.exports=Kl.default});var _v=p((Xl,Z1)=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.default=M9;var b9=wv(_()),X1=wv(N()),O9=wv(v());function wv(e){return e&&e.__esModule?e:{default:e}}function M9(e,t){(0,O9.default)(1,arguments);var r=t||{},i=r.locale,n=i&&i.options&&i.options.weekStartsOn,a=n==null?0:(0,X1.default)(n),o=r.weekStartsOn==null?a:(0,X1.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=(0,b9.default)(e),u=s.getDay(),l=(u<o?-7:0)+6-(u-o);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}Z1.exports=Xl.default});var tq=p((Zl,eq)=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.default=S9;var T9=J1(_v()),j9=J1(v());function J1(e){return e&&e.__esModule?e:{default:e}}function S9(e){return(0,j9.default)(1,arguments),(0,T9.default)(e,{weekStartsOn:1})}eq.exports=Zl.default});var iq=p((Jl,rq)=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.default=N9;var q9=bv(ji()),I9=bv(Lr()),D9=bv(v());function bv(e){return e&&e.__esModule?e:{default:e}}function N9(e){(0,D9.default)(1,arguments);var t=(0,q9.default)(e),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);var i=(0,I9.default)(r);return i.setMilliseconds(i.getMilliseconds()-1),i}rq.exports=Jl.default});var oq=p((ed,aq)=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.default=C9;var P9=nq(_()),E9=nq(v());function nq(e){return e&&e.__esModule?e:{default:e}}function C9(e){(0,E9.default)(1,arguments);var t=(0,P9.default)(e);return t.setSeconds(59,999),t}aq.exports=ed.default});var lq=p((td,uq)=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.default=R9;var A9=sq(_()),k9=sq(v());function sq(e){return e&&e.__esModule?e:{default:e}}function R9(e){(0,k9.default)(1,arguments);var t=(0,A9.default)(e),r=t.getMonth(),i=r-r%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t}uq.exports=td.default});var cq=p((rd,fq)=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.default=F9;var L9=dq(_()),W9=dq(v());function dq(e){return e&&e.__esModule?e:{default:e}}function F9(e){(0,W9.default)(1,arguments);var t=(0,L9.default)(e);return t.setMilliseconds(999),t}fq.exports=rd.default});var mq=p((id,pq)=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.default=U9;var B9=H9(cl());function H9(e){return e&&e.__esModule?e:{default:e}}function U9(){return(0,B9.default)(Date.now())}pq.exports=id.default});var hq=p((nd,gq)=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.default=Y9;function Y9(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),i=e.getDate(),n=new Date(0);return n.setFullYear(t,r,i+1),n.setHours(23,59,59,999),n}gq.exports=nd.default});var xq=p((ad,vq)=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.default=$9;function $9(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),i=e.getDate(),n=new Date(0);return n.setFullYear(t,r,i-1),n.setHours(23,59,59,999),n}vq.exports=ad.default});var wq=p((Ha,yq)=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.default=void 0;var G9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V9=function(e,t,r){var i,n=G9[e];return typeof n=="string"?i=n:t===1?i=n.one:i=n.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i},z9=V9;Ha.default=z9;yq.exports=Ha.default});var bq=p((od,_q)=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.default=Q9;function Q9(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,i=e.formats[r]||e.formats[e.defaultWidth];return i}}_q.exports=od.default});var Mq=p((Ua,Oq)=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.default=void 0;var Ov=K9(bq());function K9(e){return e&&e.__esModule?e:{default:e}}var X9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Z9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},J9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eV={date:(0,Ov.default)({formats:X9,defaultWidth:"full"}),time:(0,Ov.default)({formats:Z9,defaultWidth:"full"}),dateTime:(0,Ov.default)({formats:J9,defaultWidth:"full"})},tV=eV;Ua.default=tV;Oq.exports=Ua.default});var jq=p((Ya,Tq)=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.default=void 0;var rV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iV=function(e,t,r,i){return rV[e]},nV=iV;Ya.default=nV;Tq.exports=Ya.default});var qq=p((sd,Sq)=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.default=aV;function aV(e){return function(t,r){var i=r||{},n=i.context?String(i.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=i.width?String(i.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{var u=e.defaultWidth,l=i.width?String(i.width):e.defaultWidth;a=e.values[l]||e.values[u]}var d=e.argumentCallback?e.argumentCallback(t):t;return a[d]}}Sq.exports=sd.default});var Dq=p((Ga,Iq)=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.default=void 0;var $a=oV(qq());function oV(e){return e&&e.__esModule?e:{default:e}}var sV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pV=function(e,t){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},mV={ordinalNumber:pV,era:(0,$a.default)({values:sV,defaultWidth:"wide"}),quarter:(0,$a.default)({values:uV,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,$a.default)({values:lV,defaultWidth:"wide"}),day:(0,$a.default)({values:dV,defaultWidth:"wide"}),dayPeriod:(0,$a.default)({values:fV,defaultWidth:"wide",formattingValues:cV,defaultFormattingWidth:"wide"})},gV=mV;Ga.default=gV;Iq.exports=Ga.default});var Pq=p((ud,Nq)=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.default=hV;function hV(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.width,n=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(n);if(!a)return null;var o=a[0],s=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(s)?xV(s,function(f){return f.test(o)}):vV(s,function(f){return f.test(o)}),l;l=e.valueCallback?e.valueCallback(u):u,l=r.valueCallback?r.valueCallback(l):l;var d=t.slice(o.length);return{value:l,rest:d}}}function vV(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function xV(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}Nq.exports=ud.default});var Cq=p((ld,Eq)=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.default=yV;function yV(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.match(e.matchPattern);if(!i)return null;var n=i[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var s=t.slice(n.length);return{value:o,rest:s}}}Eq.exports=ld.default});var Rq=p((za,kq)=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.default=void 0;var Va=Aq(Pq()),wV=Aq(Cq());function Aq(e){return e&&e.__esModule?e:{default:e}}var _V=/^(\d+)(th|st|nd|rd)?/i,bV=/\d+/i,OV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MV={any:[/^b/i,/^(a|c)/i]},TV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jV={any:[/1/i,/2/i,/3/i,/4/i]},SV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EV={ordinalNumber:(0,wV.default)({matchPattern:_V,parsePattern:bV,valueCallback:function(e){return parseInt(e,10)}}),era:(0,Va.default)({matchPatterns:OV,defaultMatchWidth:"wide",parsePatterns:MV,defaultParseWidth:"any"}),quarter:(0,Va.default)({matchPatterns:TV,defaultMatchWidth:"wide",parsePatterns:jV,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,Va.default)({matchPatterns:SV,defaultMatchWidth:"wide",parsePatterns:qV,defaultParseWidth:"any"}),day:(0,Va.default)({matchPatterns:IV,defaultMatchWidth:"wide",parsePatterns:DV,defaultParseWidth:"any"}),dayPeriod:(0,Va.default)({matchPatterns:NV,defaultMatchWidth:"any",parsePatterns:PV,defaultParseWidth:"any"})},CV=EV;za.default=CV;kq.exports=za.default});var Si=p((Ka,Lq)=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.default=void 0;var AV=Qa(wq()),kV=Qa(Mq()),RV=Qa(jq()),LV=Qa(Dq()),WV=Qa(Rq());function Qa(e){return e&&e.__esModule?e:{default:e}}var FV={code:"en-US",formatDistance:AV.default,formatLong:kV.default,formatRelative:RV.default,localize:LV.default,match:WV.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},BV=FV;Ka.default=BV;Lq.exports=Ka.default});var Rn=p((dd,Wq)=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.default=$V;var HV=Mv(N()),UV=Mv(En()),YV=Mv(v());function Mv(e){return e&&e.__esModule?e:{default:e}}function $V(e,t){(0,YV.default)(2,arguments);var r=(0,HV.default)(t);return(0,UV.default)(e,-r)}Wq.exports=dd.default});var qi=p((fd,Fq)=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.default=GV;function GV(e,t){for(var r=e<0?"-":"",i=Math.abs(e).toString();i.length<t;)i="0"+i;return r+i}Fq.exports=fd.default});var Tv=p((Xa,Bq)=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.default=void 0;var Hr=VV(qi());function VV(e){return e&&e.__esModule?e:{default:e}}var zV={y:function(e,t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return(0,Hr.default)(t==="yy"?i%100:i,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):(0,Hr.default)(r+1,2)},d:function(e,t){return(0,Hr.default)(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return(0,Hr.default)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,Hr.default)(e.getUTCHours(),t.length)},m:function(e,t){return(0,Hr.default)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,Hr.default)(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,i=e.getUTCMilliseconds(),n=Math.floor(i*Math.pow(10,r-3));return(0,Hr.default)(n,t.length)}},QV=zV;Xa.default=QV;Bq.exports=Xa.default});var Yq=p((cd,Uq)=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.default=JV;var KV=Hq(_()),XV=Hq(v());function Hq(e){return e&&e.__esModule?e:{default:e}}var ZV=864e5;function JV(e){(0,XV.default)(1,arguments);var t=(0,KV.default)(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=t.getTime(),n=r-i;return Math.floor(n/ZV)+1}Uq.exports=cd.default});var Za=p((pd,Gq)=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.default=r7;var e7=$q(_()),t7=$q(v());function $q(e){return e&&e.__esModule?e:{default:e}}function r7(e){(0,t7.default)(1,arguments);var t=1,r=(0,e7.default)(e),i=r.getUTCDay(),n=(i<t?7:0)+i-t;return r.setUTCDate(r.getUTCDate()-n),r.setUTCHours(0,0,0,0),r}Gq.exports=pd.default});var Sv=p((md,zq)=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.default=a7;var i7=jv(_()),Vq=jv(Za()),n7=jv(v());function jv(e){return e&&e.__esModule?e:{default:e}}function a7(e){(0,n7.default)(1,arguments);var t=(0,i7.default)(e),r=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(r+1,0,4),i.setUTCHours(0,0,0,0);var n=(0,Vq.default)(i),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=(0,Vq.default)(a);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}zq.exports=md.default});var Kq=p((gd,Qq)=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.default=l7;var o7=qv(Sv()),s7=qv(Za()),u7=qv(v());function qv(e){return e&&e.__esModule?e:{default:e}}function l7(e){(0,u7.default)(1,arguments);var t=(0,o7.default)(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var i=(0,s7.default)(r);return i}Qq.exports=gd.default});var Iv=p((vd,Xq)=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.default=g7;var d7=hd(_()),f7=hd(Za()),c7=hd(Kq()),p7=hd(v());function hd(e){return e&&e.__esModule?e:{default:e}}var m7=6048e5;function g7(e){(0,p7.default)(1,arguments);var t=(0,d7.default)(e),r=(0,f7.default)(t).getTime()-(0,c7.default)(t).getTime();return Math.round(r/m7)+1}Xq.exports=vd.default});var Ja=p((xd,Jq)=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.default=x7;var Zq=Dv(N()),h7=Dv(_()),v7=Dv(v());function Dv(e){return e&&e.__esModule?e:{default:e}}function x7(e,t){(0,v7.default)(1,arguments);var r=t||{},i=r.locale,n=i&&i.options&&i.options.weekStartsOn,a=n==null?0:(0,Zq.default)(n),o=r.weekStartsOn==null?a:(0,Zq.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=(0,h7.default)(e),u=s.getUTCDay(),l=(u<o?7:0)+u-o;return s.setUTCDate(s.getUTCDate()-l),s.setUTCHours(0,0,0,0),s}Jq.exports=xd.default});var _d=p((wd,rI)=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.default=_7;var eI=yd(N()),y7=yd(_()),tI=yd(Ja()),w7=yd(v());function yd(e){return e&&e.__esModule?e:{default:e}}function _7(e,t){(0,w7.default)(1,arguments);var r=(0,y7.default)(e,t),i=r.getUTCFullYear(),n=t||{},a=n.locale,o=a&&a.options&&a.options.firstWeekContainsDate,s=o==null?1:(0,eI.default)(o),u=n.firstWeekContainsDate==null?s:(0,eI.default)(n.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(i+1,0,u),l.setUTCHours(0,0,0,0);var d=(0,tI.default)(l,t),f=new Date(0);f.setUTCFullYear(i,0,u),f.setUTCHours(0,0,0,0);var c=(0,tI.default)(f,t);return r.getTime()>=d.getTime()?i+1:r.getTime()>=c.getTime()?i:i-1}rI.exports=wd.default});var aI=p((Od,nI)=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.default=T7;var iI=bd(N()),b7=bd(_d()),O7=bd(Ja()),M7=bd(v());function bd(e){return e&&e.__esModule?e:{default:e}}function T7(e,t){(0,M7.default)(1,arguments);var r=t||{},i=r.locale,n=i&&i.options&&i.options.firstWeekContainsDate,a=n==null?1:(0,iI.default)(n),o=r.firstWeekContainsDate==null?a:(0,iI.default)(r.firstWeekContainsDate),s=(0,b7.default)(e,t),u=new Date(0);u.setUTCFullYear(s,0,o),u.setUTCHours(0,0,0,0);var l=(0,O7.default)(u,t);return l}nI.exports=Od.default});var Nv=p((Td,oI)=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.default=N7;var j7=Md(_()),S7=Md(Ja()),q7=Md(aI()),I7=Md(v());function Md(e){return e&&e.__esModule?e:{default:e}}var D7=6048e5;function N7(e,t){(0,I7.default)(1,arguments);var r=(0,j7.default)(e),i=(0,S7.default)(r,t).getTime()-(0,q7.default)(r,t).getTime();return Math.round(i/D7)+1}oI.exports=Td.default});var dI=p((eo,lI)=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.default=void 0;var Ur=Ii(Tv()),P7=Ii(Yq()),E7=Ii(Iv()),C7=Ii(Sv()),A7=Ii(Nv()),k7=Ii(_d()),fe=Ii(qi());function Ii(e){return e&&e.__esModule?e:{default:e}}var Ln={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},R7={G:function(e,t,r){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var i=e.getUTCFullYear(),n=i>0?i:1-i;return r.ordinalNumber(n,{unit:"year"})}return Ur.default.y(e,t)},Y:function(e,t,r,i){var n=(0,k7.default)(e,i),a=n>0?n:1-n;if(t==="YY"){var o=a%100;return(0,fe.default)(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):(0,fe.default)(a,t.length)},R:function(e,t){var r=(0,C7.default)(e);return(0,fe.default)(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return(0,fe.default)(r,t.length)},Q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return(0,fe.default)(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return(0,fe.default)(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,r){var i=e.getUTCMonth();switch(t){case"M":case"MM":return Ur.default.M(e,t);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,r){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return(0,fe.default)(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,r,i){var n=(0,A7.default)(e,i);return t==="wo"?r.ordinalNumber(n,{unit:"week"}):(0,fe.default)(n,t.length)},I:function(e,t,r){var i=(0,E7.default)(e);return t==="Io"?r.ordinalNumber(i,{unit:"week"}):(0,fe.default)(i,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ur.default.d(e,t)},D:function(e,t,r){var i=(0,P7.default)(e);return t==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):(0,fe.default)(i,t.length)},E:function(e,t,r){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,r,i){var n=e.getUTCDay(),a=(n-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return(0,fe.default)(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,i){var n=e.getUTCDay(),a=(n-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return(0,fe.default)(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){var i=e.getUTCDay(),n=i===0?7:i;switch(t){case"i":return String(n);case"ii":return(0,fe.default)(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,r){var i=e.getUTCHours(),n=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){var i=e.getUTCHours(),n;switch(i===12?n=Ln.noon:i===0?n=Ln.midnight:n=i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){var i=e.getUTCHours(),n;switch(i>=17?n=Ln.evening:i>=12?n=Ln.afternoon:i>=4?n=Ln.morning:n=Ln.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Ur.default.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ur.default.H(e,t)},K:function(e,t,r){var i=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(i,{unit:"hour"}):(0,fe.default)(i,t.length)},k:function(e,t,r){var i=e.getUTCHours();return i===0&&(i=24),t==="ko"?r.ordinalNumber(i,{unit:"hour"}):(0,fe.default)(i,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ur.default.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ur.default.s(e,t)},S:function(e,t){return Ur.default.S(e,t)},X:function(e,t,r,i){var n=i._originalDate||e,a=n.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return uI(a);case"XXXX":case"XX":return Di(a);case"XXXXX":case"XXX":default:return Di(a,":")}},x:function(e,t,r,i){var n=i._originalDate||e,a=n.getTimezoneOffset();switch(t){case"x":return uI(a);case"xxxx":case"xx":return Di(a);case"xxxxx":case"xxx":default:return Di(a,":")}},O:function(e,t,r,i){var n=i._originalDate||e,a=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sI(a,":");case"OOOO":default:return"GMT"+Di(a,":")}},z:function(e,t,r,i){var n=i._originalDate||e,a=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sI(a,":");case"zzzz":default:return"GMT"+Di(a,":")}},t:function(e,t,r,i){var n=i._originalDate||e,a=Math.floor(n.getTime()/1e3);return(0,fe.default)(a,t.length)},T:function(e,t,r,i){var n=i._originalDate||e,a=n.getTime();return(0,fe.default)(a,t.length)}};function sI(e,t){var r=e>0?"-":"+",i=Math.abs(e),n=Math.floor(i/60),a=i%60;if(a===0)return r+String(n);var o=t||"";return r+String(n)+o+(0,fe.default)(a,2)}function uI(e,t){if(e%60==0){var r=e>0?"-":"+";return r+(0,fe.default)(Math.abs(e)/60,2)}return Di(e,t)}function Di(e,t){var r=t||"",i=e>0?"-":"+",n=Math.abs(e),a=(0,fe.default)(Math.floor(n/60),2),o=(0,fe.default)(n%60,2);return i+a+r+o}var L7=R7;eo.default=L7;lI.exports=eo.default});var Pv=p((to,pI)=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.default=void 0;function fI(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function cI(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function W7(e,t){var r=e.match(/(P+)(p+)?/),i=r[1],n=r[2];if(!n)return fI(e,t);var a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",fI(i,t)).replace("{{time}}",cI(n,t))}var F7={p:cI,P:W7},B7=F7;to.default=B7;pI.exports=to.default});var Ev=p(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.isProtectedDayOfYearToken=Y7;ro.isProtectedWeekYearToken=$7;ro.throwProtectedError=G7;var H7=["D","DD"],U7=["YY","YYYY"];function Y7(e){return H7.indexOf(e)!==-1}function $7(e){return U7.indexOf(e)!==-1}function G7(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}});var Cv=p((qd,mI)=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.default=o8;var V7=tr(ct()),z7=tr(Si()),Q7=tr(Rn()),K7=tr(_()),X7=tr(dI()),Z7=tr(Pv()),J7=tr(Mt()),jd=Ev(),Sd=tr(N()),e8=tr(v());function tr(e){return e&&e.__esModule?e:{default:e}}var t8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,r8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i8=/^'([^]*?)'?$/,n8=/''/g,a8=/[a-zA-Z]/;function o8(e,t,r){(0,e8.default)(2,arguments);var i=String(t),n=r||{},a=n.locale||z7.default,o=a.options&&a.options.firstWeekContainsDate,s=o==null?1:(0,Sd.default)(o),u=n.firstWeekContainsDate==null?s:(0,Sd.default)(n.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=a.options&&a.options.weekStartsOn,d=l==null?0:(0,Sd.default)(l),f=n.weekStartsOn==null?d:(0,Sd.default)(n.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var c=(0,K7.default)(e);if(!(0,V7.default)(c))throw new RangeError("Invalid time value");var m=(0,J7.default)(c),g=(0,Q7.default)(c,m),y={firstWeekContainsDate:u,weekStartsOn:f,locale:a,_originalDate:c},w=i.match(r8).map(function(O){var T=O[0];if(T==="p"||T==="P"){var q=Z7.default[T];return q(O,a.formatLong,y)}return O}).join("").match(t8).map(function(O){if(O==="''")return"'";var T=O[0];if(T==="'")return s8(O);var q=X7.default[T];if(q)return!n.useAdditionalWeekYearTokens&&(0,jd.isProtectedWeekYearToken)(O)&&(0,jd.throwProtectedError)(O,t,e),!n.useAdditionalDayOfYearTokens&&(0,jd.isProtectedDayOfYearToken)(O)&&(0,jd.throwProtectedError)(O,t,e),q(g,O,a.localize,y);if(T.match(a8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return O}).join("");return w}function s8(e){return e.match(i8)[1].replace(n8,"'")}mI.exports=qd.default});var Av=p((Id,gI)=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.default=u8;function u8(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");t=t||{};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}gI.exports=Id.default});var kv=p((Dd,hI)=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.default=f8;var l8=d8(Av());function d8(e){return e&&e.__esModule?e:{default:e}}function f8(e){return(0,l8.default)({},e)}hI.exports=Dd.default});var Lv=p((Pd,yI)=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.default=w8;var c8=Yr(Fr()),p8=Yr(Fa()),m8=Yr(wl()),g8=Yr(Si()),Nd=Yr(_()),h8=Yr(kv()),vI=Yr(Mt()),v8=Yr(v());function Yr(e){return e&&e.__esModule?e:{default:e}}var xI=1440,x8=2520,Rv=43200,y8=86400;function w8(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,v8.default)(2,arguments);var i=r.locale||g8.default;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var n=(0,c8.default)(e,t);if(isNaN(n))throw new RangeError("Invalid time value");var a=(0,h8.default)(r);a.addSuffix=Boolean(r.addSuffix),a.comparison=n;var o,s;n>0?(o=(0,Nd.default)(t),s=(0,Nd.default)(e)):(o=(0,Nd.default)(e),s=(0,Nd.default)(t));var u=(0,m8.default)(s,o),l=((0,vI.default)(s)-(0,vI.default)(o))/1e3,d=Math.round((u-l)/60),f;if(d<2)return r.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,a):u<10?i.formatDistance("lessThanXSeconds",10,a):u<20?i.formatDistance("lessThanXSeconds",20,a):u<40?i.formatDistance("halfAMinute",null,a):u<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):d===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",d,a);if(d<45)return i.formatDistance("xMinutes",d,a);if(d<90)return i.formatDistance("aboutXHours",1,a);if(d<xI){var c=Math.round(d/60);return i.formatDistance("aboutXHours",c,a)}else{if(d<x8)return i.formatDistance("xDays",1,a);if(d<Rv){var m=Math.round(d/xI);return i.formatDistance("xDays",m,a)}else if(d<y8)return f=Math.round(d/Rv),i.formatDistance("aboutXMonths",f,a)}if(f=(0,p8.default)(s,o),f<12){var g=Math.round(d/Rv);return i.formatDistance("xMonths",g,a)}else{var y=f%12,w=Math.floor(f/12);return y<3?i.formatDistance("aboutXYears",w,a):y<9?i.formatDistance("overXYears",w,a):i.formatDistance("almostXYears",w+1,a)}}yI.exports=Pd.default});var Wv=p((Ad,MI)=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.default=T8;var wI=Wn(Mt()),_8=Wn(Fr()),Ed=Wn(_()),b8=Wn(kv()),O8=Wn(Si()),M8=Wn(v());function Wn(e){return e&&e.__esModule?e:{default:e}}var _I=1e3*60,Cd=60*24,bI=Cd*30,OI=Cd*365;function T8(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,M8.default)(2,arguments);var i=r.locale||O8.default;if(!i.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var n=(0,_8.default)(e,t);if(isNaN(n))throw new RangeError("Invalid time value");var a=(0,b8.default)(r);a.addSuffix=Boolean(r.addSuffix),a.comparison=n;var o,s;n>0?(o=(0,Ed.default)(t),s=(0,Ed.default)(e)):(o=(0,Ed.default)(e),s=(0,Ed.default)(t));var u=r.roundingMethod==null?"round":String(r.roundingMethod),l;if(u==="floor")l=Math.floor;else if(u==="ceil")l=Math.ceil;else if(u==="round")l=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var d=s.getTime()-o.getTime(),f=d/_I,c=(0,wI.default)(s)-(0,wI.default)(o),m=(d-c)/_I,g;if(r.unit==null?f<1?g="second":f<60?g="minute":f<Cd?g="hour":m<bI?g="day":m<OI?g="month":g="year":g=String(r.unit),g==="second"){var y=l(d/1e3);return i.formatDistance("xSeconds",y,a)}else if(g==="minute"){var w=l(f);return i.formatDistance("xMinutes",w,a)}else if(g==="hour"){var O=l(f/60);return i.formatDistance("xHours",O,a)}else if(g==="day"){var T=l(m/Cd);return i.formatDistance("xDays",T,a)}else if(g==="month"){var q=l(m/bI);return q===12&&r.unit!=="month"?i.formatDistance("xYears",1,a):i.formatDistance("xMonths",q,a)}else if(g==="year"){var P=l(m/OI);return i.formatDistance("xYears",P,a)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}MI.exports=Ad.default});var SI=p((kd,jI)=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.default=q8;var j8=TI(Lv()),S8=TI(v());function TI(e){return e&&e.__esModule?e:{default:e}}function q8(e,t){return(0,S8.default)(1,arguments),(0,j8.default)(e,Date.now(),t)}jI.exports=kd.default});var DI=p((Rd,II)=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.default=N8;var I8=qI(Wv()),D8=qI(v());function qI(e){return e&&e.__esModule?e:{default:e}}function N8(e,t){return(0,D8.default)(1,arguments),(0,I8.default)(e,Date.now(),t)}II.exports=Rd.default});var PI=p((Ld,NI)=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.default=A8;var P8=E8(Si());function E8(e){return e&&e.__esModule?e:{default:e}}var C8=["years","months","weeks","days","hours","minutes","seconds"];function A8(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=(t==null?void 0:t.format)||C8,i=(t==null?void 0:t.locale)||P8.default,n=(t==null?void 0:t.zero)||!1,a=(t==null?void 0:t.delimiter)||" ",o=r.reduce(function(s,u){var l="x".concat(u.replace(/(^.)/,function(f){return f.toUpperCase()})),d=typeof e[u]=="number"&&(n||e[u]);return d?s.concat(i.formatDistance(l,e[u])):s},[]).join(a);return o}NI.exports=Ld.default});var CI=p((Wd,EI)=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.default=L8;var k8=Fv(_()),R8=Fv(ct()),$r=Fv(qi());function Fv(e){return e&&e.__esModule?e:{default:e}}function L8(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=(0,k8.default)(e);if(!(0,R8.default)(r))throw new RangeError("Invalid time value");var i=t||{},n=i.format==null?"extended":String(i.format),a=i.representation==null?"complete":String(i.representation);if(n!=="extended"&&n!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var o="",s="",u=n==="extended"?"-":"",l=n==="extended"?":":"";if(a!=="time"){var d=(0,$r.default)(r.getDate(),2),f=(0,$r.default)(r.getMonth()+1,2),c=(0,$r.default)(r.getFullYear(),4);o="".concat(c).concat(u).concat(f).concat(u).concat(d)}if(a!=="date"){var m=r.getTimezoneOffset();if(m!==0){var g=Math.abs(m),y=(0,$r.default)(Math.floor(g/60),2),w=(0,$r.default)(g%60,2),O=m<0?"+":"-";s="".concat(O).concat(y,":").concat(w)}else s="Z";var T=(0,$r.default)(r.getHours(),2),q=(0,$r.default)(r.getMinutes(),2),P=(0,$r.default)(r.getSeconds(),2),L=o===""?"":"T",Ie=[T,q,P].join(l);o="".concat(o).concat(L).concat(Ie).concat(s)}return o}EI.exports=Wd.default});var kI=p((Fd,AI)=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.default=B8;var W8=Bv(_()),F8=Bv(ct()),Fn=Bv(qi());function Bv(e){return e&&e.__esModule?e:{default:e}}function B8(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=(0,W8.default)(e);if(!(0,F8.default)(r))throw new RangeError("Invalid time value");var i=t||{},n=i.format==null?"extended":String(i.format),a=i.representation==null?"complete":String(i.representation);if(n!=="extended"&&n!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var o="",s=n==="extended"?"-":"",u=n==="extended"?":":"";if(a!=="time"){var l=(0,Fn.default)(r.getDate(),2),d=(0,Fn.default)(r.getMonth()+1,2),f=(0,Fn.default)(r.getFullYear(),4);o="".concat(f).concat(s).concat(d).concat(s).concat(l)}if(a!=="date"){var c=(0,Fn.default)(r.getHours(),2),m=(0,Fn.default)(r.getMinutes(),2),g=(0,Fn.default)(r.getSeconds(),2),y=o===""?"":" ";o="".concat(o).concat(y).concat(c).concat(u).concat(m).concat(u).concat(g)}return o}AI.exports=Fd.default});var LI=p((Bd,RI)=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.default=Y8;var H8=U8(v());function U8(e){return e&&e.__esModule?e:{default:e}}function Y8(e){if((0,H8.default)(1,arguments),typeof e!="object")throw new Error("Duration must be an object");var t=e.years,r=t===void 0?0:t,i=e.months,n=i===void 0?0:i,a=e.days,o=a===void 0?0:a,s=e.hours,u=s===void 0?0:s,l=e.minutes,d=l===void 0?0:l,f=e.seconds,c=f===void 0?0:f;return"P".concat(r,"Y").concat(n,"M").concat(o,"DT").concat(u,"H").concat(d,"M").concat(c,"S")}RI.exports=Bd.default});var FI=p((Ud,WI)=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.default=z8;var $8=Hd(_()),G8=Hd(ct()),Gr=Hd(qi()),V8=Hd(N());function Hd(e){return e&&e.__esModule?e:{default:e}}function z8(e,t){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var r=(0,$8.default)(e);if(!(0,G8.default)(r))throw new RangeError("Invalid time value");var i=t||{},n=i.fractionDigits,a=n===void 0?0:n;if(!(a>=0&&a<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var o=(0,Gr.default)(r.getDate(),2),s=(0,Gr.default)(r.getMonth()+1,2),u=r.getFullYear(),l=(0,Gr.default)(r.getHours(),2),d=(0,Gr.default)(r.getMinutes(),2),f=(0,Gr.default)(r.getSeconds(),2),c="";if(a>0){var m=r.getMilliseconds(),g=Math.floor(m*Math.pow(10,a-3));c="."+(0,Gr.default)(g,a)}var y="",w=r.getTimezoneOffset();if(w!==0){var O=Math.abs(w),T=(0,Gr.default)((0,V8.default)(O/60),2),q=(0,Gr.default)(O%60,2),P=w<0?"+":"-";y="".concat(P).concat(T,":").concat(q)}else y="Z";return"".concat(u,"-").concat(s,"-").concat(o,"T").concat(l,":").concat(d,":").concat(f).concat(c).concat(y)}WI.exports=Ud.default});var HI=p(($d,BI)=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.default=J8;var Q8=Hv(_()),K8=Hv(ct()),Yd=Hv(qi());function Hv(e){return e&&e.__esModule?e:{default:e}}var X8=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Z8=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function J8(e){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var t=(0,Q8.default)(e);if(!(0,K8.default)(t))throw new RangeError("Invalid time value");var r=X8[t.getUTCDay()],i=(0,Yd.default)(t.getUTCDate(),2),n=Z8[t.getUTCMonth()],a=t.getUTCFullYear(),o=(0,Yd.default)(t.getUTCHours(),2),s=(0,Yd.default)(t.getUTCMinutes(),2),u=(0,Yd.default)(t.getUTCSeconds(),2);return"".concat(r,", ").concat(i," ").concat(n," ").concat(a," ").concat(o,":").concat(s,":").concat(u," GMT")}BI.exports=$d.default});var VI=p((Gd,GI)=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.default=nz;var ez=Ni(Wr()),tz=Ni(Cv()),rz=Ni(Si()),UI=Ni(Rn()),YI=Ni(_()),$I=Ni(Mt()),iz=Ni(v());function Ni(e){return e&&e.__esModule?e:{default:e}}function nz(e,t,r){(0,iz.default)(2,arguments);var i=(0,YI.default)(e),n=(0,YI.default)(t),a=r||{},o=a.locale,s=o===void 0?rz.default:o,u=a.weekStartsOn,l=u===void 0?0:u;if(!s.localize)throw new RangeError("locale must contain localize property");if(!s.formatLong)throw new RangeError("locale must contain formatLong property");if(!s.formatRelative)throw new RangeError("locale must contain formatRelative property");var d=(0,ez.default)(i,n);if(isNaN(d))throw new RangeError("Invalid time value");var f;d<-6?f="other":d<-1?f="lastWeek":d<0?f="yesterday":d<1?f="today":d<2?f="tomorrow":d<7?f="nextWeek":f="other";var c=(0,UI.default)(i,(0,$I.default)(i)),m=(0,UI.default)(n,(0,$I.default)(n)),g=s.formatRelative(f,c,m,{locale:s,weekStartsOn:l});return(0,tz.default)(i,g,{locale:s,weekStartsOn:l})}GI.exports=Gd.default});var QI=p((Vd,zI)=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.default=uz;var az=Uv(_()),oz=Uv(N()),sz=Uv(v());function Uv(e){return e&&e.__esModule?e:{default:e}}function uz(e){(0,sz.default)(1,arguments);var t=(0,oz.default)(e);return(0,az.default)(t*1e3)}zI.exports=Vd.default});var Yv=p((zd,XI)=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.default=fz;var lz=KI(_()),dz=KI(v());function KI(e){return e&&e.__esModule?e:{default:e}}function fz(e){(0,dz.default)(1,arguments);var t=(0,lz.default)(e),r=t.getDate();return r}XI.exports=zd.default});var io=p((Qd,JI)=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.default=mz;var cz=ZI(_()),pz=ZI(v());function ZI(e){return e&&e.__esModule?e:{default:e}}function mz(e){(0,pz.default)(1,arguments);var t=(0,cz.default)(e),r=t.getDay();return r}JI.exports=Qd.default});var tD=p((Xd,eD)=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.default=yz;var gz=Kd(_()),hz=Kd(Yl()),vz=Kd(Wr()),xz=Kd(v());function Kd(e){return e&&e.__esModule?e:{default:e}}function yz(e){(0,xz.default)(1,arguments);var t=(0,gz.default)(e),r=(0,vz.default)(t,(0,hz.default)(t)),i=r+1;return i}eD.exports=Xd.default});var $v=p((Zd,iD)=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.default=bz;var wz=rD(_()),_z=rD(v());function rD(e){return e&&e.__esModule?e:{default:e}}function bz(e){(0,_z.default)(1,arguments);var t=(0,wz.default)(e),r=t.getFullYear(),i=t.getMonth(),n=new Date(0);return n.setFullYear(r,i+1,0),n.setHours(0,0,0,0),n.getDate()}iD.exports=Zd.default});var Gv=p((Jd,aD)=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.default=Tz;var Oz=nD(_()),Mz=nD(v());function nD(e){return e&&e.__esModule?e:{default:e}}function Tz(e){(0,Mz.default)(1,arguments);var t=(0,Oz.default)(e),r=t.getFullYear();return r%400==0||r%4==0&&r%100!=0}aD.exports=Jd.default});var sD=p((ef,oD)=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.default=Iz;var jz=Vv(_()),Sz=Vv(Gv()),qz=Vv(v());function Vv(e){return e&&e.__esModule?e:{default:e}}function Iz(e){(0,qz.default)(1,arguments);var t=(0,jz.default)(e);return String(new Date(t))==="Invalid Date"?NaN:(0,Sz.default)(t)?366:365}oD.exports=ef.default});var dD=p((tf,lD)=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.default=Pz;var Dz=uD(_()),Nz=uD(v());function uD(e){return e&&e.__esModule?e:{default:e}}function Pz(e){(0,Nz.default)(1,arguments);var t=(0,Dz.default)(e),r=t.getFullYear(),i=Math.floor(r/10)*10;return i}lD.exports=tf.default});var pD=p((rf,cD)=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.default=Az;var Ez=fD(_()),Cz=fD(v());function fD(e){return e&&e.__esModule?e:{default:e}}function Az(e){(0,Cz.default)(1,arguments);var t=(0,Ez.default)(e),r=t.getHours();return r}cD.exports=rf.default});var zv=p((nf,gD)=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.default=Lz;var kz=mD(_()),Rz=mD(v());function mD(e){return e&&e.__esModule?e:{default:e}}function Lz(e){(0,Rz.default)(1,arguments);var t=(0,kz.default)(e),r=t.getDay();return r===0&&(r=7),r}gD.exports=nf.default});var Qv=p((of,hD)=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.default=Yz;var Wz=af(_()),Fz=af(Lr()),Bz=af(Cn()),Hz=af(v());function af(e){return e&&e.__esModule?e:{default:e}}var Uz=6048e5;function Yz(e){(0,Hz.default)(1,arguments);var t=(0,Wz.default)(e),r=(0,Fz.default)(t).getTime()-(0,Bz.default)(t).getTime();return Math.round(r/Uz)+1}hD.exports=of.default});var yD=p((sf,xD)=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.default=zz;var vD=Kv(Cn()),$z=Kv(ka()),Gz=Kv(v());function Kv(e){return e&&e.__esModule?e:{default:e}}var Vz=6048e5;function zz(e){(0,Gz.default)(1,arguments);var t=(0,vD.default)(e),r=(0,vD.default)((0,$z.default)(t,60)),i=r.valueOf()-t.valueOf();return Math.round(i/Vz)}xD.exports=sf.default});var bD=p((uf,_D)=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.default=Xz;var Qz=wD(_()),Kz=wD(v());function wD(e){return e&&e.__esModule?e:{default:e}}function Xz(e){(0,Kz.default)(1,arguments);var t=(0,Qz.default)(e),r=t.getMilliseconds();return r}_D.exports=uf.default});var TD=p((lf,MD)=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.default=eQ;var Zz=OD(_()),Jz=OD(v());function OD(e){return e&&e.__esModule?e:{default:e}}function eQ(e){(0,Jz.default)(1,arguments);var t=(0,Zz.default)(e),r=t.getMinutes();return r}MD.exports=lf.default});var qD=p((df,SD)=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.default=iQ;var tQ=jD(_()),rQ=jD(v());function jD(e){return e&&e.__esModule?e:{default:e}}function iQ(e){(0,rQ.default)(1,arguments);var t=(0,tQ.default)(e),r=t.getMonth();return r}SD.exports=df.default});var ND=p((cf,DD)=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.default=oQ;var ff=ID(_()),nQ=ID(v());function ID(e){return e&&e.__esModule?e:{default:e}}var aQ=24*60*60*1e3;function oQ(e,t){(0,nQ.default)(2,arguments);var r=e||{},i=t||{},n=(0,ff.default)(r.start).getTime(),a=(0,ff.default)(r.end).getTime(),o=(0,ff.default)(i.start).getTime(),s=(0,ff.default)(i.end).getTime();if(!(n<=a&&o<=s))throw new RangeError("Invalid interval");var u=n<s&&o<a;if(!u)return 0;var l=o<n?n:o,d=s>a?a:s,f=d-l;return Math.ceil(f/aQ)}DD.exports=cf.default});var CD=p((pf,ED)=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.default=lQ;var sQ=PD(_()),uQ=PD(v());function PD(e){return e&&e.__esModule?e:{default:e}}function lQ(e){(0,uQ.default)(1,arguments);var t=(0,sQ.default)(e),r=t.getSeconds();return r}ED.exports=pf.default});var Xv=p((mf,kD)=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.default=cQ;var dQ=AD(_()),fQ=AD(v());function AD(e){return e&&e.__esModule?e:{default:e}}function cQ(e){(0,fQ.default)(1,arguments);var t=(0,dQ.default)(e),r=t.getTime();return r}kD.exports=mf.default});var WD=p((gf,LD)=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.default=gQ;var pQ=RD(Xv()),mQ=RD(v());function RD(e){return e&&e.__esModule?e:{default:e}}function gQ(e){return(0,mQ.default)(1,arguments),Math.floor((0,pQ.default)(e)/1e3)}LD.exports=gf.default});var Zv=p((vf,HD)=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.default=xQ;var FD=hf(er()),hQ=hf(_()),BD=hf(N()),vQ=hf(v());function hf(e){return e&&e.__esModule?e:{default:e}}function xQ(e,t){var r,i;(0,vQ.default)(1,arguments);var n=(0,hQ.default)(e),a=n.getFullYear(),o=t==null||(r=t.locale)===null||r===void 0||(i=r.options)===null||i===void 0?void 0:i.firstWeekContainsDate,s=o==null?1:(0,BD.default)(o),u=(t==null?void 0:t.firstWeekContainsDate)==null?s:(0,BD.default)(t.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setFullYear(a+1,0,u),l.setHours(0,0,0,0);var d=(0,FD.default)(l,t),f=new Date(0);f.setFullYear(a,0,u),f.setHours(0,0,0,0);var c=(0,FD.default)(f,t);return n.getTime()>=d.getTime()?a+1:n.getTime()>=c.getTime()?a:a-1}HD.exports=vf.default});var wf=p((yf,YD)=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.default=bQ;var yQ=xf(Zv()),wQ=xf(er()),UD=xf(N()),_Q=xf(v());function xf(e){return e&&e.__esModule?e:{default:e}}function bQ(e,t){(0,_Q.default)(1,arguments);var r=t||{},i=r.locale,n=i&&i.options&&i.options.firstWeekContainsDate,a=n==null?1:(0,UD.default)(n),o=r.firstWeekContainsDate==null?a:(0,UD.default)(r.firstWeekContainsDate),s=(0,yQ.default)(e,t),u=new Date(0);u.setFullYear(s,0,o),u.setHours(0,0,0,0);var l=(0,wQ.default)(u,t);return l}YD.exports=yf.default});var Jv=p((bf,$D)=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.default=qQ;var OQ=_f(er()),MQ=_f(wf()),TQ=_f(_()),jQ=_f(v());function _f(e){return e&&e.__esModule?e:{default:e}}var SQ=6048e5;function qQ(e,t){(0,jQ.default)(1,arguments);var r=(0,TQ.default)(e),i=(0,OQ.default)(r,t).getTime()-(0,MQ.default)(r,t).getTime();return Math.round(i/SQ)+1}$D.exports=bf.default});var zD=p((Of,VD)=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.default=EQ;var IQ=no(Yv()),DQ=no(io()),NQ=no(Ba()),GD=no(N()),PQ=no(v());function no(e){return e&&e.__esModule?e:{default:e}}function EQ(e,t){(0,PQ.default)(1,arguments);var r=t||{},i=r.locale,n=i&&i.options&&i.options.weekStartsOn,a=n==null?0:(0,GD.default)(n),o=r.weekStartsOn==null?a:(0,GD.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=(0,IQ.default)(e);if(isNaN(s))return s;var u=(0,DQ.default)((0,NQ.default)(e)),l=0;u>=o?l=o+7-u:l=o-u;var d=1;if(s>l){var f=s-l;d=d+Math.ceil(f/7)}return d}VD.exports=Of.default});var ex=p((Mf,KD)=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.default=kQ;var CQ=QD(_()),AQ=QD(v());function QD(e){return e&&e.__esModule?e:{default:e}}function kQ(e){(0,AQ.default)(1,arguments);var t=(0,CQ.default)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}KD.exports=Mf.default});var ZD=p((jf,XD)=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.default=BQ;var RQ=Tf(Zh()),LQ=Tf(ex()),WQ=Tf(Ba()),FQ=Tf(v());function Tf(e){return e&&e.__esModule?e:{default:e}}function BQ(e,t){return(0,FQ.default)(1,arguments),(0,RQ.default)((0,LQ.default)(e),(0,WQ.default)(e),t)+1}XD.exports=jf.default});var tN=p((Sf,eN)=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.default=YQ;var HQ=JD(_()),UQ=JD(v());function JD(e){return e&&e.__esModule?e:{default:e}}function YQ(e){(0,UQ.default)(1,arguments);var t=(0,HQ.default)(e),r=t.getFullYear();return r}eN.exports=Sf.default});var iN=p((qf,rN)=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.default=zQ;var $Q=VQ(v()),GQ=ne();function VQ(e){return e&&e.__esModule?e:{default:e}}function zQ(e){return(0,$Q.default)(1,arguments),Math.floor(e*GQ.millisecondsInHour)}rN.exports=qf.default});var aN=p((If,nN)=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.default=ZQ;var QQ=XQ(v()),KQ=ne();function XQ(e){return e&&e.__esModule?e:{default:e}}function ZQ(e){return(0,QQ.default)(1,arguments),Math.floor(e*KQ.minutesInHour)}nN.exports=If.default});var sN=p((Df,oN)=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.default=rK;var JQ=tK(v()),eK=ne();function tK(e){return e&&e.__esModule?e:{default:e}}function rK(e){return(0,JQ.default)(1,arguments),Math.floor(e*eK.secondsInHour)}oN.exports=Df.default});var ao=p((Nf,uN)=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.default=oK;var iK=tx(N()),nK=tx(Ot()),aK=tx(v());function tx(e){return e&&e.__esModule?e:{default:e}}function oK(e,t){(0,aK.default)(2,arguments);var r=(0,iK.default)(t);return(0,nK.default)(e,-r)}uN.exports=Nf.default});var ix=p((Pf,lN)=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.default=dK;var sK=rx(N()),uK=rx(Nn()),lK=rx(v());function rx(e){return e&&e.__esModule?e:{default:e}}function dK(e,t){(0,lK.default)(2,arguments);var r=(0,sK.default)(t);return(0,uK.default)(e,-r)}lN.exports=Pf.default});var nx=p((Cf,dN)=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.default=mK;var fK=Ef(ao()),cK=Ef(ix()),pK=Ef(v()),Pi=Ef(N());function Ef(e){return e&&e.__esModule?e:{default:e}}function mK(e,t){if((0,pK.default)(2,arguments),!t||typeof t!="object")return new Date(NaN);var r=t.years?(0,Pi.default)(t.years):0,i=t.months?(0,Pi.default)(t.months):0,n=t.weeks?(0,Pi.default)(t.weeks):0,a=t.days?(0,Pi.default)(t.days):0,o=t.hours?(0,Pi.default)(t.hours):0,s=t.minutes?(0,Pi.default)(t.minutes):0,u=t.seconds?(0,Pi.default)(t.seconds):0,l=(0,cK.default)(e,i+r*12),d=(0,fK.default)(l,a+n*7),f=s+o*60,c=u+f*60,m=c*1e3,g=new Date(d.getTime()-m);return g}dN.exports=Cf.default});var mN=p((Af,pN)=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.default=OK;var gK=pt(Fr()),hK=pt(lv()),vK=pt(Fa()),xK=pt(al()),yK=pt(rv()),wK=pt(av()),_K=pt(wl()),fN=pt(ct()),bK=pt(v()),cN=pt(_()),oo=pt(nx());function pt(e){return e&&e.__esModule?e:{default:e}}function OK(e){var t=e.start,r=e.end;(0,bK.default)(1,arguments);var i=(0,cN.default)(t),n=(0,cN.default)(r);if(!(0,fN.default)(i))throw new RangeError("Start Date is invalid");if(!(0,fN.default)(n))throw new RangeError("End Date is invalid");var a={years:0,months:0,days:0,hours:0,minutes:0,seconds:0},o=(0,gK.default)(i,n);a.years=Math.abs((0,hK.default)(i,n));var s=(0,oo.default)(i,{years:o*a.years});a.months=Math.abs((0,vK.default)(s,n));var u=(0,oo.default)(s,{months:o*a.months});a.days=Math.abs((0,xK.default)(u,n));var l=(0,oo.default)(u,{days:o*a.days});a.hours=Math.abs((0,yK.default)(l,n));var d=(0,oo.default)(l,{hours:o*a.hours});a.minutes=Math.abs((0,wK.default)(d,n));var f=(0,oo.default)(d,{minutes:o*a.minutes});return a.seconds=Math.abs((0,_K.default)(f,n)),a}pN.exports=Af.default});var hN=p((kf,gN)=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.default=jK;var MK=TK(v());function TK(e){return e&&e.__esModule?e:{default:e}}function jK(e,t,r){var i;(0,MK.default)(1,arguments);var n;return SK(t)?n=t:r=t,new Intl.DateTimeFormat((i=r)===null||i===void 0?void 0:i.locale,n).format(e)}function SK(e){return e!==void 0&&!("locale"in e)}gN.exports=kf.default});var wN=p((Rf,yN)=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.default=IK;var vN=xN(_()),qK=xN(v());function xN(e){return e&&e.__esModule?e:{default:e}}function IK(e,t){(0,qK.default)(2,arguments);var r=(0,vN.default)(e),i=(0,vN.default)(t);return r.getTime()>i.getTime()}yN.exports=Rf.default});var MN=p((Lf,ON)=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.default=NK;var _N=bN(_()),DK=bN(v());function bN(e){return e&&e.__esModule?e:{default:e}}function NK(e,t){(0,DK.default)(2,arguments);var r=(0,_N.default)(e),i=(0,_N.default)(t);return r.getTime()<i.getTime()}ON.exports=Lf.default});var qN=p((Wf,SN)=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.default=EK;var TN=jN(_()),PK=jN(v());function jN(e){return e&&e.__esModule?e:{default:e}}function EK(e,t){(0,PK.default)(2,arguments);var r=(0,TN.default)(e),i=(0,TN.default)(t);return r.getTime()===i.getTime()}SN.exports=Wf.default});var DN=p((Ff,IN)=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.default=CK;function CK(e,t,r){if(arguments.length<3)throw new TypeError("3 argument required, but only "+arguments.length+" present");var i=new Date(e,t,r);return i.getFullYear()===e&&i.getMonth()===t&&i.getDate()===r}IN.exports=Ff.default});var EN=p((Bf,PN)=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.default=RK;var AK=NN(_()),kK=NN(v());function NN(e){return e&&e.__esModule?e:{default:e}}function RK(e){return(0,kK.default)(1,arguments),(0,AK.default)(e).getDate()===1}PN.exports=Bf.default});var kN=p((Hf,AN)=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.default=FK;var LK=CN(_()),WK=CN(v());function CN(e){return e&&e.__esModule?e:{default:e}}function FK(e){return(0,WK.default)(1,arguments),(0,LK.default)(e).getDay()===5}AN.exports=Hf.default});var WN=p((Uf,LN)=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.default=UK;var BK=RN(_()),HK=RN(v());function RN(e){return e&&e.__esModule?e:{default:e}}function UK(e){return(0,HK.default)(1,arguments),(0,BK.default)(e).getTime()>Date.now()}LN.exports=Uf.default});var BN=p((Yf,FN)=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.default=GK;var ax=ox(N()),YK=ox(_()),$K=ox(v());function ox(e){return e&&e.__esModule?e:{default:e}}function GK(e,t,r){(0,$K.default)(2,arguments);var i=r||{},n=i.locale,a=n&&n.options&&n.options.weekStartsOn,o=a==null?0:(0,ax.default)(a),s=i.weekStartsOn==null?o:(0,ax.default)(i.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,YK.default)(e),l=(0,ax.default)(t),d=u.getUTCDay(),f=l%7,c=(f+7)%7,m=(c<s?7:0)+l-d;return u.setUTCDate(u.getUTCDate()+m),u}FN.exports=Yf.default});var UN=p(($f,HN)=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.default=KK;var VK=sx(N()),zK=sx(_()),QK=sx(v());function sx(e){return e&&e.__esModule?e:{default:e}}function KK(e,t){(0,QK.default)(2,arguments);var r=(0,VK.default)(t);r%7==0&&(r=r-7);var i=1,n=(0,zK.default)(e),a=n.getUTCDay(),o=r%7,s=(o+7)%7,u=(s<i?7:0)+r-a;return n.setUTCDate(n.getUTCDate()+u),n}HN.exports=$f.default});var $N=p((Vf,YN)=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.default=tX;var XK=Gf(N()),ZK=Gf(_()),JK=Gf(Iv()),eX=Gf(v());function Gf(e){return e&&e.__esModule?e:{default:e}}function tX(e,t){(0,eX.default)(2,arguments);var r=(0,ZK.default)(e),i=(0,XK.default)(t),n=(0,JK.default)(r)-i;return r.setUTCDate(r.getUTCDate()-n*7),r}YN.exports=Vf.default});var VN=p((Qf,GN)=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.default=oX;var rX=zf(N()),iX=zf(_()),nX=zf(Nv()),aX=zf(v());function zf(e){return e&&e.__esModule?e:{default:e}}function oX(e,t,r){(0,aX.default)(2,arguments);var i=(0,iX.default)(e),n=(0,rX.default)(t),a=(0,nX.default)(i,r)-n;return i.setUTCDate(i.getUTCDate()-a*7),i}GN.exports=Qf.default});var JN=p((so,ZN)=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.default=void 0;var sX=Ei(_d()),ux=Ei(BN()),uX=Ei(UN()),lX=Ei($N()),dX=Ei(VN()),zN=Ei(Za()),lx=Ei(Ja());function Ei(e){return e&&e.__esModule?e:{default:e}}var fX=36e5,cX=6e4,pX=1e3,ce={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Tt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ue(e,t,r){var i=t.match(e);if(!i)return null;var n=parseInt(i[0],10);return{value:r?r(n):n,rest:t.slice(i[0].length)}}function jt(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var i=r[1]==="+"?1:-1,n=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:i*(n*fX+a*cX+o*pX),rest:t.slice(r[0].length)}}function QN(e,t){return ue(ce.anyDigitsSigned,e,t)}function le(e,t,r){switch(e){case 1:return ue(ce.singleDigit,t,r);case 2:return ue(ce.twoDigits,t,r);case 3:return ue(ce.threeDigits,t,r);case 4:return ue(ce.fourDigits,t,r);default:return ue(new RegExp("^\\d{1,"+e+"}"),t,r)}}function Kf(e,t,r){switch(e){case 1:return ue(ce.singleDigitSigned,t,r);case 2:return ue(ce.twoDigitsSigned,t,r);case 3:return ue(ce.threeDigitsSigned,t,r);case 4:return ue(ce.fourDigitsSigned,t,r);default:return ue(new RegExp("^-?\\d{1,"+e+"}"),t,r)}}function dx(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function KN(e,t){var r=t>0,i=r?t:1-t,n;if(i<=50)n=e||100;else{var a=i+50,o=Math.floor(a/100)*100,s=e>=a%100;n=e+o-(s?100:0)}return r?n:1-n}var mX=[31,28,31,30,31,30,31,31,30,31,30,31],gX=[31,29,31,30,31,30,31,31,30,31,30,31];function XN(e){return e%400==0||e%4==0&&e%100!=0}var hX={G:{priority:140,parse:function(e,t,r,i){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}},set:function(e,t,r,i){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,r,i){var n=function(a){return{year:a,isTwoDigitYear:t==="yy"}};switch(t){case"y":return le(4,e,n);case"yo":return r.ordinalNumber(e,{unit:"year",valueCallback:n});default:return le(t.length,e,n)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,i){var n=e.getUTCFullYear();if(r.isTwoDigitYear){var a=KN(r.year,n);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var o=!("era"in t)||t.era===1?r.year:1-r.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,r,i){var n=function(a){return{year:a,isTwoDigitYear:t==="YY"}};switch(t){case"Y":return le(4,e,n);case"Yo":return r.ordinalNumber(e,{unit:"year",valueCallback:n});default:return le(t.length,e,n)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,i){var n=(0,sX.default)(e,i);if(r.isTwoDigitYear){var a=KN(r.year,n);return e.setUTCFullYear(a,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,lx.default)(e,i)}var o=!("era"in t)||t.era===1?r.year:1-r.year;return e.setUTCFullYear(o,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,lx.default)(e,i)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,r,i){return Kf(t==="R"?4:t.length,e)},set:function(e,t,r,i){var n=new Date(0);return n.setUTCFullYear(r,0,4),n.setUTCHours(0,0,0,0),(0,zN.default)(n)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,r,i){return Kf(t==="u"?4:t.length,e)},set:function(e,t,r,i){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,r,i){switch(t){case"Q":case"QQ":return le(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,i){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,r,i){switch(t){case"q":case"qq":return le(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,i){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,r,i){var n=function(a){return a-1};switch(t){case"M":return ue(ce.month,e,n);case"MM":return le(2,e,n);case"Mo":return r.ordinalNumber(e,{unit:"month",valueCallback:n});case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,i){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,r,i){var n=function(a){return a-1};switch(t){case"L":return ue(ce.month,e,n);case"LL":return le(2,e,n);case"Lo":return r.ordinalNumber(e,{unit:"month",valueCallback:n});case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,i){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,r,i){switch(t){case"w":return ue(ce.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return le(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,i){return(0,lx.default)((0,dX.default)(e,r,i),i)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,r,i){switch(t){case"I":return ue(ce.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return le(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,i){return(0,zN.default)((0,lX.default)(e,r,i),i)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,r,i){switch(t){case"d":return ue(ce.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return le(t.length,e)}},validate:function(e,t,r){var i=e.getUTCFullYear(),n=XN(i),a=e.getUTCMonth();return n?t>=1&&t<=gX[a]:t>=1&&t<=mX[a]},set:function(e,t,r,i){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,r,i){switch(t){case"D":case"DD":return ue(ce.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return le(t.length,e)}},validate:function(e,t,r){var i=e.getUTCFullYear(),n=XN(i);return n?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,r,i){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,r,i){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,i){return e=(0,ux.default)(e,r,i),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,r,i){var n=function(a){var o=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+o};switch(t){case"e":case"ee":return le(t.length,e,n);case"eo":return r.ordinalNumber(e,{unit:"day",valueCallback:n});case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,i){return e=(0,ux.default)(e,r,i),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,r,i){var n=function(a){var o=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+o};switch(t){case"c":case"cc":return le(t.length,e,n);case"co":return r.ordinalNumber(e,{unit:"day",valueCallback:n});case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,i){return e=(0,ux.default)(e,r,i),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,r,i){var n=function(a){return a===0?7:a};switch(t){case"i":case"ii":return le(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return r.day(e,{width:"abbreviated",context:"formatting",valueCallback:n})||r.day(e,{width:"short",context:"formatting",valueCallback:n})||r.day(e,{width:"narrow",context:"formatting",valueCallback:n});case"iiiii":return r.day(e,{width:"narrow",context:"formatting",valueCallback:n});case"iiiiii":return r.day(e,{width:"short",context:"formatting",valueCallback:n})||r.day(e,{width:"narrow",context:"formatting",valueCallback:n});case"iiii":default:return r.day(e,{width:"wide",context:"formatting",valueCallback:n})||r.day(e,{width:"abbreviated",context:"formatting",valueCallback:n})||r.day(e,{width:"short",context:"formatting",valueCallback:n})||r.day(e,{width:"narrow",context:"formatting",valueCallback:n})}},validate:function(e,t,r){return t>=1&&t<=7},set:function(e,t,r,i){return e=(0,uX.default)(e,r,i),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,r,i){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,i){return e.setUTCHours(dx(r),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,r,i){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,i){return e.setUTCHours(dx(r),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,r,i){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,i){return e.setUTCHours(dx(r),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,r,i){switch(t){case"h":return ue(ce.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return le(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=12},set:function(e,t,r,i){var n=e.getUTCHours()>=12;return n&&r<12?e.setUTCHours(r+12,0,0,0):!n&&r===12?e.setUTCHours(0,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,r,i){switch(t){case"H":return ue(ce.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return le(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=23},set:function(e,t,r,i){return e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,r,i){switch(t){case"K":return ue(ce.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return le(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,i){var n=e.getUTCHours()>=12;return n&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,r,i){switch(t){case"k":return ue(ce.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return le(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=24},set:function(e,t,r,i){var n=r<=24?r%24:r;return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,r,i){switch(t){case"m":return ue(ce.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return le(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,i){return e.setUTCMinutes(r,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,r,i){switch(t){case"s":return ue(ce.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return le(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,i){return e.setUTCSeconds(r,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,r,i){var n=function(a){return Math.floor(a*Math.pow(10,-t.length+3))};return le(t.length,e,n)},set:function(e,t,r,i){return e.setUTCMilliseconds(r),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,r,i){switch(t){case"X":return jt(Tt.basicOptionalMinutes,e);case"XX":return jt(Tt.basic,e);case"XXXX":return jt(Tt.basicOptionalSeconds,e);case"XXXXX":return jt(Tt.extendedOptionalSeconds,e);case"XXX":default:return jt(Tt.extended,e)}},set:function(e,t,r,i){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,r,i){switch(t){case"x":return jt(Tt.basicOptionalMinutes,e);case"xx":return jt(Tt.basic,e);case"xxxx":return jt(Tt.basicOptionalSeconds,e);case"xxxxx":return jt(Tt.extendedOptionalSeconds,e);case"xxx":default:return jt(Tt.extended,e)}},set:function(e,t,r,i){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,r,i){return QN(e)},set:function(e,t,r,i){return[new Date(r*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,r,i){return QN(e)},set:function(e,t,r,i){return[new Date(r),{timestampIsSet:!0}]},incompatibleTokens:"*"}},vX=hX;so.default=vX;ZN.exports=so.default});var fx=p((Jf,tP)=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.default=PX;var xX=rr(Si()),yX=rr(Rn()),eP=rr(_()),wX=rr(Av()),_X=rr(Pv()),bX=rr(Mt()),Xf=Ev(),Zf=rr(N()),OX=rr(JN()),MX=rr(v());function rr(e){return e&&e.__esModule?e:{default:e}}var TX=10,jX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qX=/^'([^]*?)'?$/,IX=/''/g,DX=/\S/,NX=/[a-zA-Z]/;function PX(e,t,r,i){(0,MX.default)(3,arguments);var n=String(e),a=String(t),o=i||{},s=o.locale||xX.default;if(!s.match)throw new RangeError("locale must contain match property");var u=s.options&&s.options.firstWeekContainsDate,l=u==null?1:(0,Zf.default)(u),d=o.firstWeekContainsDate==null?l:(0,Zf.default)(o.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=s.options&&s.options.weekStartsOn,c=f==null?0:(0,Zf.default)(f),m=o.weekStartsOn==null?c:(0,Zf.default)(o.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(a==="")return n===""?(0,eP.default)(r):new Date(NaN);var g={firstWeekContainsDate:d,weekStartsOn:m,locale:s},y=[{priority:TX,subPriority:-1,set:EX,index:0}],w,O=a.match(SX).map(function(Pe){var Ye=Pe[0];if(Ye==="p"||Ye==="P"){var Dt=_X.default[Ye];return Dt(Pe,s.formatLong,g)}return Pe}).join("").match(jX),T=[];for(w=0;w<O.length;w++){var q=O[w];!o.useAdditionalWeekYearTokens&&(0,Xf.isProtectedWeekYearToken)(q)&&(0,Xf.throwProtectedError)(q,a,e),!o.useAdditionalDayOfYearTokens&&(0,Xf.isProtectedDayOfYearToken)(q)&&(0,Xf.throwProtectedError)(q,a,e);var P=q[0],L=OX.default[P];if(L){var Ie=L.incompatibleTokens;if(Array.isArray(Ie)){for(var je=void 0,de=0;de<T.length;de++){var be=T[de].token;if(Ie.indexOf(be)!==-1||be===P){je=T[de];break}}if(je)throw new RangeError("The format string mustn't contain `".concat(je.fullToken,"` and `").concat(q,"` at the same time"))}else if(L.incompatibleTokens==="*"&&T.length)throw new RangeError("The format string mustn't contain `".concat(q,"` and any other token at the same time"));T.push({token:P,fullToken:q});var Ue=L.parse(n,q,s.match,g);if(!Ue)return new Date(NaN);y.push({priority:L.priority,subPriority:L.subPriority||0,set:L.set,validate:L.validate,value:Ue.value,index:y.length}),n=Ue.rest}else{if(P.match(NX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");if(q==="''"?q="'":P==="'"&&(q=CX(q)),n.indexOf(q)===0)n=n.slice(q.length);else return new Date(NaN)}}if(n.length>0&&DX.test(n))return new Date(NaN);var qt=y.map(function(Pe){return Pe.priority}).sort(function(Pe,Ye){return Ye-Pe}).filter(function(Pe,Ye,Dt){return Dt.indexOf(Pe)===Ye}).map(function(Pe){return y.filter(function(Ye){return Ye.priority===Pe}).sort(function(Ye,Dt){return Dt.subPriority-Ye.subPriority})}).map(function(Pe){return Pe[0]}),tt=(0,eP.default)(r);if(isNaN(tt))return new Date(NaN);var Se=(0,yX.default)(tt,(0,bX.default)(tt)),gt={};for(w=0;w<qt.length;w++){var Le=qt[w];if(Le.validate&&!Le.validate(Se,Le.value,g))return new Date(NaN);var It=Le.set(Se,gt,Le.value,g);It[0]?(Se=It[0],(0,wX.default)(gt,It[1])):Se=It}return Se}function EX(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}function CX(e){return e.match(qX)[1].replace(IX,"'")}tP.exports=Jf.default});var iP=p((ec,rP)=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.default=LX;var AX=cx(fx()),kX=cx(ct()),RX=cx(v());function cx(e){return e&&e.__esModule?e:{default:e}}function LX(e,t,r){return(0,RX.default)(2,arguments),(0,kX.default)((0,AX.default)(e,t,new Date,r))}rP.exports=ec.default});var oP=p((tc,aP)=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.default=BX;var WX=nP(_()),FX=nP(v());function nP(e){return e&&e.__esModule?e:{default:e}}function BX(e){return(0,FX.default)(1,arguments),(0,WX.default)(e).getDay()===1}aP.exports=tc.default});var lP=p((rc,uP)=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.default=YX;var HX=sP(_()),UX=sP(v());function sP(e){return e&&e.__esModule?e:{default:e}}function YX(e){return(0,UX.default)(1,arguments),(0,HX.default)(e).getTime()<Date.now()}uP.exports=rc.default});var px=p((ic,fP)=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.default=VX;var $X=dP(_()),GX=dP(v());function dP(e){return e&&e.__esModule?e:{default:e}}function VX(e){(0,GX.default)(1,arguments);var t=(0,$X.default)(e);return t.setMinutes(0,0,0),t}fP.exports=ic.default});var mx=p((nc,mP)=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.default=QX;var cP=pP(px()),zX=pP(v());function pP(e){return e&&e.__esModule?e:{default:e}}function QX(e,t){(0,zX.default)(2,arguments);var r=(0,cP.default)(e),i=(0,cP.default)(t);return r.getTime()===i.getTime()}mP.exports=nc.default});var oc=p((ac,vP)=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.default=XX;var gP=hP(er()),KX=hP(v());function hP(e){return e&&e.__esModule?e:{default:e}}function XX(e,t,r){(0,KX.default)(2,arguments);var i=(0,gP.default)(e,r),n=(0,gP.default)(t,r);return i.getTime()===n.getTime()}vP.exports=ac.default});var gx=p((sc,yP)=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.default=eZ;var ZX=xP(oc()),JX=xP(v());function xP(e){return e&&e.__esModule?e:{default:e}}function eZ(e,t){return(0,JX.default)(2,arguments),(0,ZX.default)(e,t,{weekStartsOn:1})}yP.exports=sc.default});var OP=p((uc,bP)=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.default=rZ;var wP=_P(Cn()),tZ=_P(v());function _P(e){return e&&e.__esModule?e:{default:e}}function rZ(e,t){(0,tZ.default)(2,arguments);var r=(0,wP.default)(e),i=(0,wP.default)(t);return r.getTime()===i.getTime()}bP.exports=uc.default});var hx=p((lc,jP)=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.default=nZ;var MP=TP(Sl()),iZ=TP(v());function TP(e){return e&&e.__esModule?e:{default:e}}function nZ(e,t){(0,iZ.default)(2,arguments);var r=(0,MP.default)(e),i=(0,MP.default)(t);return r.getTime()===i.getTime()}jP.exports=lc.default});var vx=p((dc,IP)=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.default=oZ;var SP=qP(_()),aZ=qP(v());function qP(e){return e&&e.__esModule?e:{default:e}}function oZ(e,t){(0,aZ.default)(2,arguments);var r=(0,SP.default)(e),i=(0,SP.default)(t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}IP.exports=dc.default});var xx=p((fc,PP)=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.default=uZ;var DP=NP(Pl()),sZ=NP(v());function NP(e){return e&&e.__esModule?e:{default:e}}function uZ(e,t){(0,sZ.default)(2,arguments);var r=(0,DP.default)(e),i=(0,DP.default)(t);return r.getTime()===i.getTime()}PP.exports=fc.default});var yx=p((cc,CP)=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.default=fZ;var lZ=EP(_()),dZ=EP(v());function EP(e){return e&&e.__esModule?e:{default:e}}function fZ(e){(0,dZ.default)(1,arguments);var t=(0,lZ.default)(e);return t.setMilliseconds(0),t}CP.exports=cc.default});var wx=p((pc,RP)=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.default=pZ;var AP=kP(yx()),cZ=kP(v());function kP(e){return e&&e.__esModule?e:{default:e}}function pZ(e,t){(0,cZ.default)(2,arguments);var r=(0,AP.default)(e),i=(0,AP.default)(t);return r.getTime()===i.getTime()}RP.exports=pc.default});var _x=p((mc,FP)=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.default=gZ;var LP=WP(_()),mZ=WP(v());function WP(e){return e&&e.__esModule?e:{default:e}}function gZ(e,t){(0,mZ.default)(2,arguments);var r=(0,LP.default)(e),i=(0,LP.default)(t);return r.getFullYear()===i.getFullYear()}FP.exports=mc.default});var UP=p((gc,HP)=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.default=xZ;var hZ=BP(mx()),vZ=BP(v());function BP(e){return e&&e.__esModule?e:{default:e}}function xZ(e){return(0,vZ.default)(1,arguments),(0,hZ.default)(Date.now(),e)}HP.exports=gc.default});var GP=p((hc,$P)=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.default=_Z;var yZ=YP(gx()),wZ=YP(v());function YP(e){return e&&e.__esModule?e:{default:e}}function _Z(e){return(0,wZ.default)(1,arguments),(0,yZ.default)(e,Date.now())}$P.exports=hc.default});var QP=p((vc,zP)=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.default=MZ;var bZ=VP(hx()),OZ=VP(v());function VP(e){return e&&e.__esModule?e:{default:e}}function MZ(e){return(0,OZ.default)(1,arguments),(0,bZ.default)(Date.now(),e)}zP.exports=vc.default});var ZP=p((xc,XP)=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.default=SZ;var TZ=KP(vx()),jZ=KP(v());function KP(e){return e&&e.__esModule?e:{default:e}}function SZ(e){return(0,jZ.default)(1,arguments),(0,TZ.default)(Date.now(),e)}XP.exports=xc.default});var tE=p((yc,eE)=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.default=DZ;var qZ=JP(xx()),IZ=JP(v());function JP(e){return e&&e.__esModule?e:{default:e}}function DZ(e){return(0,IZ.default)(1,arguments),(0,qZ.default)(Date.now(),e)}eE.exports=yc.default});var nE=p((wc,iE)=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.default=EZ;var NZ=rE(wx()),PZ=rE(v());function rE(e){return e&&e.__esModule?e:{default:e}}function EZ(e){return(0,PZ.default)(1,arguments),(0,NZ.default)(Date.now(),e)}iE.exports=wc.default});var sE=p((_c,oE)=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.default=kZ;var CZ=aE(oc()),AZ=aE(v());function aE(e){return e&&e.__esModule?e:{default:e}}function kZ(e,t){return(0,AZ.default)(1,arguments),(0,CZ.default)(e,Date.now(),t)}oE.exports=_c.default});var dE=p((bc,lE)=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.default=WZ;var RZ=uE(_x()),LZ=uE(v());function uE(e){return e&&e.__esModule?e:{default:e}}function WZ(e){return(0,LZ.default)(1,arguments),(0,RZ.default)(e,Date.now())}lE.exports=bc.default});var pE=p((Oc,cE)=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.default=HZ;var FZ=fE(_()),BZ=fE(v());function fE(e){return e&&e.__esModule?e:{default:e}}function HZ(e){return(0,BZ.default)(1,arguments),(0,FZ.default)(e).getDay()===4}cE.exports=Oc.default});var hE=p((Mc,gE)=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.default=$Z;var UZ=mE(An()),YZ=mE(v());function mE(e){return e&&e.__esModule?e:{default:e}}function $Z(e){return(0,YZ.default)(1,arguments),(0,UZ.default)(e,Date.now())}gE.exports=Mc.default});var xE=p((Tc,vE)=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.default=QZ;var GZ=bx(Ot()),VZ=bx(An()),zZ=bx(v());function bx(e){return e&&e.__esModule?e:{default:e}}function QZ(e){return(0,zZ.default)(1,arguments),(0,VZ.default)(e,(0,GZ.default)(Date.now(),1))}vE.exports=Tc.default});var _E=p((jc,wE)=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.default=ZZ;var KZ=yE(_()),XZ=yE(v());function yE(e){return e&&e.__esModule?e:{default:e}}function ZZ(e){return(0,XZ.default)(1,arguments),(0,KZ.default)(e).getDay()===2}wE.exports=jc.default});var ME=p((Sc,OE)=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.default=tJ;var JZ=bE(_()),eJ=bE(v());function bE(e){return e&&e.__esModule?e:{default:e}}function tJ(e){return(0,eJ.default)(1,arguments),(0,JZ.default)(e).getDay()===3}OE.exports=Sc.default});var SE=p((qc,jE)=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.default=iJ;var Ox=TE(_()),rJ=TE(v());function TE(e){return e&&e.__esModule?e:{default:e}}function iJ(e,t){(0,rJ.default)(2,arguments);var r=(0,Ox.default)(e).getTime(),i=(0,Ox.default)(t.start).getTime(),n=(0,Ox.default)(t.end).getTime();if(!(i<=n))throw new RangeError("Invalid interval");return r>=i&&r<=n}jE.exports=qc.default});var IE=p((Ic,qE)=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.default=sJ;var nJ=Mx(An()),aJ=Mx(ao()),oJ=Mx(v());function Mx(e){return e&&e.__esModule?e:{default:e}}function sJ(e){return(0,oJ.default)(1,arguments),(0,nJ.default)(e,(0,aJ.default)(Date.now(),1))}qE.exports=Ic.default});var PE=p((Dc,NE)=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.default=dJ;var uJ=DE(_()),lJ=DE(v());function DE(e){return e&&e.__esModule?e:{default:e}}function dJ(e){(0,lJ.default)(1,arguments);var t=(0,uJ.default)(e),r=t.getFullYear(),i=9+Math.floor(r/10)*10;return t.setFullYear(i+1,0,0),t.setHours(0,0,0,0),t}NE.exports=Dc.default});var jx=p((Nc,CE)=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.default=pJ;var fJ=Tx(_()),EE=Tx(N()),cJ=Tx(v());function Tx(e){return e&&e.__esModule?e:{default:e}}function pJ(e,t){(0,cJ.default)(1,arguments);var r=t||{},i=r.locale,n=i&&i.options&&i.options.weekStartsOn,a=n==null?0:(0,EE.default)(n),o=r.weekStartsOn==null?a:(0,EE.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var s=(0,fJ.default)(e),u=s.getDay(),l=(u<o?-7:0)+6-(u-o);return s.setHours(0,0,0,0),s.setDate(s.getDate()+l),s}CE.exports=Nc.default});var RE=p((Pc,kE)=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.default=hJ;var mJ=AE(jx()),gJ=AE(v());function AE(e){return e&&e.__esModule?e:{default:e}}function hJ(e){return(0,gJ.default)(1,arguments),(0,mJ.default)(e,{weekStartsOn:1})}kE.exports=Pc.default});var WE=p((Ec,LE)=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.default=wJ;var vJ=Sx(ji()),xJ=Sx(Lr()),yJ=Sx(v());function Sx(e){return e&&e.__esModule?e:{default:e}}function wJ(e){(0,yJ.default)(1,arguments);var t=(0,vJ.default)(e),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);var i=(0,xJ.default)(r);return i.setDate(i.getDate()-1),i}LE.exports=Ec.default});var HE=p((Cc,BE)=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.default=OJ;var _J=FE(_()),bJ=FE(v());function FE(e){return e&&e.__esModule?e:{default:e}}function OJ(e){(0,bJ.default)(1,arguments);var t=(0,_J.default)(e),r=t.getMonth(),i=r-r%3+3;return t.setMonth(i,0),t.setHours(0,0,0,0),t}BE.exports=Cc.default});var $E=p((Ac,YE)=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.default=jJ;var MJ=UE(_()),TJ=UE(v());function UE(e){return e&&e.__esModule?e:{default:e}}function jJ(e){(0,TJ.default)(1,arguments);var t=(0,MJ.default)(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(0,0,0,0),t}YE.exports=Ac.default});var VE=p((kc,GE)=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.default=RJ;var SJ=Bn(_()),qJ=Bn(Tv()),IJ=Bn(Mt()),DJ=Bn(ct()),NJ=Bn(Rn()),PJ=Bn(v());function Bn(e){return e&&e.__esModule?e:{default:e}}var EJ=/(\w)\1*|''|'(''|[^'])+('|$)|./g,CJ=/^'([^]*?)'?$/,AJ=/''/g,kJ=/[a-zA-Z]/;function RJ(e,t){(0,PJ.default)(2,arguments);var r=(0,SJ.default)(e);if(!(0,DJ.default)(r))throw new RangeError("Invalid time value");var i=(0,IJ.default)(r),n=(0,NJ.default)(r,i),a=t.match(EJ);if(!a)return"";var o=a.map(function(s){if(s==="''")return"'";var u=s[0];if(u==="'")return LJ(s);var l=qJ.default[u];if(l)return l(n,s);if(u.match(kJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return s}).join("");return o}function LJ(e){var t=e.match(CJ);return t?t[1].replace(AJ,"'"):e}GE.exports=kc.default});var KE=p((Rc,QE)=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.default=BJ;var WJ=FJ(v());function FJ(e){return e&&e.__esModule?e:{default:e}}var zE=365.2425;function BJ(e){var t=e.years,r=e.months,i=e.weeks,n=e.days,a=e.hours,o=e.minutes,s=e.seconds;(0,WJ.default)(1,arguments);var u=0;t&&(u+=t*zE),r&&(u+=r*(zE/12)),i&&(u+=i*7),n&&(u+=n);var l=u*24*60*60;return a&&(l+=a*60*60),o&&(l+=o*60),s&&(l+=s),Math.round(l*1e3)}QE.exports=Rc.default});var ZE=p((Lc,XE)=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.default=$J;var HJ=YJ(v()),UJ=ne();function YJ(e){return e&&e.__esModule?e:{default:e}}function $J(e){(0,HJ.default)(1,arguments);var t=e/UJ.millisecondsInHour;return Math.floor(t)}XE.exports=Lc.default});var eC=p((Wc,JE)=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.default=QJ;var GJ=zJ(v()),VJ=ne();function zJ(e){return e&&e.__esModule?e:{default:e}}function QJ(e){(0,GJ.default)(1,arguments);var t=e/VJ.millisecondsInMinute;return Math.floor(t)}JE.exports=Wc.default});var rC=p((Fc,tC)=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.default=JJ;var KJ=ZJ(v()),XJ=ne();function ZJ(e){return e&&e.__esModule?e:{default:e}}function JJ(e){(0,KJ.default)(1,arguments);var t=e/XJ.millisecondsInSecond;return Math.floor(t)}tC.exports=Fc.default});var nC=p((Bc,iC)=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.default=iee;var eee=ree(v()),tee=ne();function ree(e){return e&&e.__esModule?e:{default:e}}function iee(e){(0,eee.default)(1,arguments);var t=e/tee.minutesInHour;return Math.floor(t)}iC.exports=Bc.default});var oC=p((Hc,aC)=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.default=see;var nee=oee(v()),aee=ne();function oee(e){return e&&e.__esModule?e:{default:e}}function see(e){return(0,nee.default)(1,arguments),Math.floor(e*aee.millisecondsInMinute)}aC.exports=Hc.default});var uC=p((Uc,sC)=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.default=fee;var uee=dee(v()),lee=ne();function dee(e){return e&&e.__esModule?e:{default:e}}function fee(e){return(0,uee.default)(1,arguments),Math.floor(e*lee.secondsInMinute)}sC.exports=Uc.default});var dC=p((Yc,lC)=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.default=gee;var cee=mee(v()),pee=ne();function mee(e){return e&&e.__esModule?e:{default:e}}function gee(e){(0,cee.default)(1,arguments);var t=e/pee.monthsInQuarter;return Math.floor(t)}lC.exports=Yc.default});var cC=p(($c,fC)=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.default=yee;var hee=xee(v()),vee=ne();function xee(e){return e&&e.__esModule?e:{default:e}}function yee(e){(0,hee.default)(1,arguments);var t=e/vee.monthsInYear;return Math.floor(t)}fC.exports=$c.default});var ir=p((Gc,pC)=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.default=Oee;var wee=qx(Ot()),_ee=qx(io()),bee=qx(v());function qx(e){return e&&e.__esModule?e:{default:e}}function Oee(e,t){(0,bee.default)(2,arguments);var r=t-(0,_ee.default)(e);return r<=0&&(r+=7),(0,wee.default)(e,r)}pC.exports=Gc.default});var gC=p((Vc,mC)=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.default=See;var Mee=Ix(v()),Tee=Ix(ir()),jee=Ix(_());function Ix(e){return e&&e.__esModule?e:{default:e}}function See(e){return(0,Mee.default)(1,arguments),(0,Tee.default)((0,jee.default)(e),5)}mC.exports=Vc.default});var vC=p((zc,hC)=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.default=Nee;var qee=Dx(v()),Iee=Dx(ir()),Dee=Dx(_());function Dx(e){return e&&e.__esModule?e:{default:e}}function Nee(e){return(0,qee.default)(1,arguments),(0,Iee.default)((0,Dee.default)(e),1)}hC.exports=zc.default});var yC=p((Qc,xC)=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.default=Aee;var Pee=Nx(v()),Eee=Nx(ir()),Cee=Nx(_());function Nx(e){return e&&e.__esModule?e:{default:e}}function Aee(e){return(0,Pee.default)(1,arguments),(0,Eee.default)((0,Cee.default)(e),6)}xC.exports=Qc.default});var _C=p((Kc,wC)=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.default=Wee;var kee=Px(v()),Ree=Px(ir()),Lee=Px(_());function Px(e){return e&&e.__esModule?e:{default:e}}function Wee(e){return(0,kee.default)(1,arguments),(0,Ree.default)((0,Lee.default)(e),0)}wC.exports=Kc.default});var OC=p((Xc,bC)=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.default=Uee;var Fee=Ex(v()),Bee=Ex(ir()),Hee=Ex(_());function Ex(e){return e&&e.__esModule?e:{default:e}}function Uee(e){return(0,Fee.default)(1,arguments),(0,Bee.default)((0,Hee.default)(e),4)}bC.exports=Xc.default});var TC=p((Zc,MC)=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.default=Vee;var Yee=Cx(v()),$ee=Cx(ir()),Gee=Cx(_());function Cx(e){return e&&e.__esModule?e:{default:e}}function Vee(e){return(0,Yee.default)(1,arguments),(0,$ee.default)((0,Gee.default)(e),2)}MC.exports=Zc.default});var SC=p((Jc,jC)=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.default=Xee;var zee=Ax(v()),Qee=Ax(ir()),Kee=Ax(_());function Ax(e){return e&&e.__esModule?e:{default:e}}function Xee(e){return(0,zee.default)(1,arguments),(0,Qee.default)((0,Kee.default)(e),3)}jC.exports=Jc.default});var EC=p((tp,PC)=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.default=nte;var Zee=qC(N()),Jee=qC(v());function qC(e){return e&&e.__esModule?e:{default:e}}var IC=36e5,DC=6e4,ete=2,ep={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tte=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rte=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ite=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nte(e,t){(0,Jee.default)(1,arguments);var r=t||{},i=r.additionalDigits==null?ete:(0,Zee.default)(r.additionalDigits);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var n=ate(e),a;if(n.date){var o=ote(n.date,i);a=ste(o.restDateString,o.year)}if(isNaN(a)||!a)return new Date(NaN);var s=a.getTime(),u=0,l;if(n.time&&(u=ute(n.time),isNaN(u)||u===null))return new Date(NaN);if(n.timezone){if(l=lte(n.timezone),isNaN(l))return new Date(NaN)}else{var d=new Date(s+u),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(s+u+l)}function ate(e){var t={},r=e.split(ep.dateTimeDelimiter),i;if(r.length>2)return t;if(/:/.test(r[0])?(t.date=null,i=r[0]):(t.date=r[0],i=r[1],ep.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ep.timeZoneDelimiter)[0],i=e.substr(t.date.length,e.length))),i){var n=ep.timezone.exec(i);n?(t.time=i.replace(n[1],""),t.timezone=n[1]):t.time=i}return t}function ote(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(r);if(!i)return{year:null};var n=i[1]&&parseInt(i[1]),a=i[2]&&parseInt(i[2]);return{year:a==null?n:a*100,restDateString:e.slice((i[1]||i[2]).length)}}function ste(e,t){if(t===null)return null;var r=e.match(tte);if(!r)return null;var i=!!r[4],n=uo(r[1]),a=uo(r[2])-1,o=uo(r[3]),s=uo(r[4]),u=uo(r[5])-1;if(i)return mte(t,s,u)?dte(t,s,u):new Date(NaN);var l=new Date(0);return!cte(t,a,o)||!pte(t,n)?new Date(NaN):(l.setUTCFullYear(t,a,Math.max(n,o)),l)}function uo(e){return e?parseInt(e):1}function ute(e){var t=e.match(rte);if(!t)return null;var r=kx(t[1]),i=kx(t[2]),n=kx(t[3]);return gte(r,i,n)?r*IC+i*DC+n*1e3:NaN}function kx(e){return e&&parseFloat(e.replace(",","."))||0}function lte(e){if(e==="Z")return 0;var t=e.match(ite);if(!t)return 0;var r=t[1]==="+"?-1:1,i=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return hte(i,n)?r*(i*IC+n*DC):NaN}function dte(e,t,r){var i=new Date(0);i.setUTCFullYear(e,0,4);var n=i.getUTCDay()||7,a=(t-1)*7+r+1-n;return i.setUTCDate(i.getUTCDate()+a),i}var fte=[31,null,31,30,31,30,31,31,30,31,30,31];function NC(e){return e%400==0||e%4==0&&e%100}function cte(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(fte[t]||(NC(e)?29:28))}function pte(e,t){return t>=1&&t<=(NC(e)?366:365)}function mte(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function gte(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function hte(e,t){return t>=0&&t<=59}PC.exports=tp.default});var kC=p((rp,AC)=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.default=yte;var vte=CC(_()),xte=CC(v());function CC(e){return e&&e.__esModule?e:{default:e}}function yte(e){if((0,xte.default)(1,arguments),typeof e=="string"){var t=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return t?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4]-(+t[9]||0)*(t[8]=="-"?-1:1),+t[5]-(+t[10]||0)*(t[8]=="-"?-1:1),+t[6],+((t[7]||"0")+"00").substring(0,3))):new Date(NaN)}return(0,vte.default)(e)}AC.exports=rp.default});var nr=p((ip,RC)=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.default=Ote;var wte=Rx(v()),_te=Rx(io()),bte=Rx(ao());function Rx(e){return e&&e.__esModule?e:{default:e}}function Ote(e,t){(0,wte.default)(2,arguments);var r=(0,_te.default)(e)-t;return r<=0&&(r+=7),(0,bte.default)(e,r)}RC.exports=ip.default});var FC=p((np,WC)=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.default=jte;var Mte=LC(v()),Tte=LC(nr());function LC(e){return e&&e.__esModule?e:{default:e}}function jte(e){return(0,Mte.default)(1,arguments),(0,Tte.default)(e,5)}WC.exports=np.default});var UC=p((ap,HC)=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.default=Ite;var Ste=BC(v()),qte=BC(nr());function BC(e){return e&&e.__esModule?e:{default:e}}function Ite(e){return(0,Ste.default)(1,arguments),(0,qte.default)(e,1)}HC.exports=ap.default});var GC=p((op,$C)=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.default=Pte;var Dte=YC(v()),Nte=YC(nr());function YC(e){return e&&e.__esModule?e:{default:e}}function Pte(e){return(0,Dte.default)(1,arguments),(0,Nte.default)(e,6)}$C.exports=op.default});var QC=p((sp,zC)=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.default=Ate;var Ete=VC(v()),Cte=VC(nr());function VC(e){return e&&e.__esModule?e:{default:e}}function Ate(e){return(0,Ete.default)(1,arguments),(0,Cte.default)(e,0)}zC.exports=sp.default});var ZC=p((up,XC)=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.default=Lte;var kte=KC(v()),Rte=KC(nr());function KC(e){return e&&e.__esModule?e:{default:e}}function Lte(e){return(0,kte.default)(1,arguments),(0,Rte.default)(e,4)}XC.exports=up.default});var tA=p((lp,eA)=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.default=Bte;var Wte=JC(v()),Fte=JC(nr());function JC(e){return e&&e.__esModule?e:{default:e}}function Bte(e){return(0,Wte.default)(1,arguments),(0,Fte.default)(e,2)}eA.exports=lp.default});var nA=p((dp,iA)=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.default=Yte;var Hte=rA(v()),Ute=rA(nr());function rA(e){return e&&e.__esModule?e:{default:e}}function Yte(e){return(0,Hte.default)(1,arguments),(0,Ute.default)(e,3)}iA.exports=dp.default});var oA=p((fp,aA)=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.default=zte;var $te=Vte(v()),Gte=ne();function Vte(e){return e&&e.__esModule?e:{default:e}}function zte(e){return(0,$te.default)(1,arguments),Math.floor(e*Gte.monthsInQuarter)}aA.exports=fp.default});var uA=p((cp,sA)=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.default=Zte;var Qte=Xte(v()),Kte=ne();function Xte(e){return e&&e.__esModule?e:{default:e}}function Zte(e){(0,Qte.default)(1,arguments);var t=e/Kte.quartersInYear;return Math.floor(t)}sA.exports=cp.default});var fA=p((pp,dA)=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.default=tre;var Jte=lA(_()),ere=lA(N());function lA(e){return e&&e.__esModule?e:{default:e}}function tre(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var r=t&&"nearestTo"in t?(0,ere.default)(t.nearestTo):1;if(r<1||r>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var i=(0,Jte.default)(e),n=i.getSeconds(),a=i.getMinutes()+n/60,o=Math.floor(a/r)*r,s=a%r,u=Math.round(s/r)*r;return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),o+u)}dA.exports=pp.default});var pA=p((mp,cA)=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.default=are;var rre=nre(v()),ire=ne();function nre(e){return e&&e.__esModule?e:{default:e}}function are(e){(0,rre.default)(1,arguments);var t=e/ire.secondsInHour;return Math.floor(t)}cA.exports=mp.default});var gA=p((gp,mA)=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.default=lre;var ore=ure(v()),sre=ne();function ure(e){return e&&e.__esModule?e:{default:e}}function lre(e){return(0,ore.default)(1,arguments),e*sre.millisecondsInSecond}mA.exports=gp.default});var vA=p((hp,hA)=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.default=pre;var dre=cre(v()),fre=ne();function cre(e){return e&&e.__esModule?e:{default:e}}function pre(e){(0,dre.default)(1,arguments);var t=e/fre.secondsInMinute;return Math.floor(t)}hA.exports=hp.default});var yp=p((xp,xA)=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.default=xre;var mre=vp(N()),gre=vp(_()),hre=vp($v()),vre=vp(v());function vp(e){return e&&e.__esModule?e:{default:e}}function xre(e,t){(0,vre.default)(2,arguments);var r=(0,gre.default)(e),i=(0,mre.default)(t),n=r.getFullYear(),a=r.getDate(),o=new Date(0);o.setFullYear(n,i,15),o.setHours(0,0,0,0);var s=(0,hre.default)(o);return r.setMonth(i,Math.min(a,s)),r}xA.exports=xp.default});var wA=p((_p,yA)=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.default=bre;var yre=wp(_()),wre=wp(yp()),lo=wp(N()),_re=wp(v());function wp(e){return e&&e.__esModule?e:{default:e}}function bre(e,t){if((0,_re.default)(2,arguments),typeof t!="object"||t===null)throw new RangeError("values parameter must be an object");var r=(0,yre.default)(e);return isNaN(r.getTime())?new Date(NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=(0,wre.default)(r,t.month)),t.date!=null&&r.setDate((0,lo.default)(t.date)),t.hours!=null&&r.setHours((0,lo.default)(t.hours)),t.minutes!=null&&r.setMinutes((0,lo.default)(t.minutes)),t.seconds!=null&&r.setSeconds((0,lo.default)(t.seconds)),t.milliseconds!=null&&r.setMilliseconds((0,lo.default)(t.milliseconds)),r)}yA.exports=_p.default});var bA=p((bp,_A)=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.default=jre;var Ore=Lx(N()),Mre=Lx(_()),Tre=Lx(v());function Lx(e){return e&&e.__esModule?e:{default:e}}function jre(e,t){(0,Tre.default)(2,arguments);var r=(0,Mre.default)(e),i=(0,Ore.default)(t);return r.setDate(i),r}_A.exports=bp.default});var MA=p((Mp,OA)=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.default=Dre;var Sre=Op(Ot()),qre=Op(_()),Wx=Op(N()),Ire=Op(v());function Op(e){return e&&e.__esModule?e:{default:e}}function Dre(e,t,r){(0,Ire.default)(2,arguments);var i=r||{},n=i.locale,a=n&&n.options&&n.options.weekStartsOn,o=a==null?0:(0,Wx.default)(a),s=i.weekStartsOn==null?o:(0,Wx.default)(i.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,qre.default)(e),l=(0,Wx.default)(t),d=u.getDay(),f=l%7,c=(f+7)%7,m=7-s,g=l<0||l>6?l-(d+m)%7:(c+m)%7-(d+m)%7;return(0,Sre.default)(u,g)}OA.exports=Mp.default});var jA=p((Tp,TA)=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.default=Cre;var Nre=Fx(N()),Pre=Fx(_()),Ere=Fx(v());function Fx(e){return e&&e.__esModule?e:{default:e}}function Cre(e,t){(0,Ere.default)(2,arguments);var r=(0,Pre.default)(e),i=(0,Nre.default)(t);return r.setMonth(0),r.setDate(i),r}TA.exports=Tp.default});var qA=p((jp,SA)=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.default=Lre;var Are=Bx(N()),kre=Bx(_()),Rre=Bx(v());function Bx(e){return e&&e.__esModule?e:{default:e}}function Lre(e,t){(0,Rre.default)(2,arguments);var r=(0,kre.default)(e),i=(0,Are.default)(t);return r.setHours(i),r}SA.exports=jp.default});var DA=p((Sp,IA)=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.default=Yre;var Wre=fo(N()),Fre=fo(_()),Bre=fo(Ot()),Hre=fo(zv()),Ure=fo(v());function fo(e){return e&&e.__esModule?e:{default:e}}function Yre(e,t){(0,Ure.default)(2,arguments);var r=(0,Fre.default)(e),i=(0,Wre.default)(t),n=(0,Hre.default)(r),a=i-n;return(0,Bre.default)(r,a)}IA.exports=Sp.default});var PA=p((Ip,NA)=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.default=Qre;var $re=qp(N()),Gre=qp(_()),Vre=qp(Qv()),zre=qp(v());function qp(e){return e&&e.__esModule?e:{default:e}}function Qre(e,t){(0,zre.default)(2,arguments);var r=(0,Gre.default)(e),i=(0,$re.default)(t),n=(0,Vre.default)(r)-i;return r.setDate(r.getDate()-n*7),r}NA.exports=Ip.default});var CA=p((Dp,EA)=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.default=Jre;var Kre=Hx(N()),Xre=Hx(_()),Zre=Hx(v());function Hx(e){return e&&e.__esModule?e:{default:e}}function Jre(e,t){(0,Zre.default)(2,arguments);var r=(0,Xre.default)(e),i=(0,Kre.default)(t);return r.setMilliseconds(i),r}EA.exports=Dp.default});var kA=p((Np,AA)=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.default=iie;var eie=Ux(N()),tie=Ux(_()),rie=Ux(v());function Ux(e){return e&&e.__esModule?e:{default:e}}function iie(e,t){(0,rie.default)(2,arguments);var r=(0,tie.default)(e),i=(0,eie.default)(t);return r.setMinutes(i),r}AA.exports=Np.default});var LA=p((Ep,RA)=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.default=uie;var nie=Pp(N()),aie=Pp(_()),oie=Pp(yp()),sie=Pp(v());function Pp(e){return e&&e.__esModule?e:{default:e}}function uie(e,t){(0,sie.default)(2,arguments);var r=(0,aie.default)(e),i=(0,nie.default)(t),n=Math.floor(r.getMonth()/3)+1,a=i-n;return(0,oie.default)(r,r.getMonth()+a*3)}RA.exports=Ep.default});var FA=p((Cp,WA)=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.default=cie;var lie=Yx(N()),die=Yx(_()),fie=Yx(v());function Yx(e){return e&&e.__esModule?e:{default:e}}function cie(e,t){(0,fie.default)(2,arguments);var r=(0,die.default)(e),i=(0,lie.default)(t);return r.setSeconds(i),r}WA.exports=Cp.default});var HA=p((kp,BA)=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.default=vie;var pie=Ap(Jv()),mie=Ap(_()),gie=Ap(N()),hie=Ap(v());function Ap(e){return e&&e.__esModule?e:{default:e}}function vie(e,t,r){(0,hie.default)(2,arguments);var i=(0,mie.default)(e),n=(0,gie.default)(t),a=(0,pie.default)(i,r)-n;return i.setDate(i.getDate()-a*7),i}BA.exports=kp.default});var $A=p((Rp,YA)=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.default=_ie;var xie=co(Wr()),UA=co(wf()),yie=co(_()),$x=co(N()),wie=co(v());function co(e){return e&&e.__esModule?e:{default:e}}function _ie(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,wie.default)(2,arguments);var i=r.locale,n=i&&i.options&&i.options.firstWeekContainsDate,a=n==null?1:(0,$x.default)(n),o=r.firstWeekContainsDate==null?a:(0,$x.default)(r.firstWeekContainsDate),s=(0,yie.default)(e),u=(0,$x.default)(t),l=(0,xie.default)(s,(0,UA.default)(s,r)),d=new Date(0);return d.setFullYear(u,0,o),d.setHours(0,0,0,0),s=(0,UA.default)(d,r),s.setDate(s.getDate()+l),s}YA.exports=Rp.default});var VA=p((Lp,GA)=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.default=Tie;var bie=Gx(N()),Oie=Gx(_()),Mie=Gx(v());function Gx(e){return e&&e.__esModule?e:{default:e}}function Tie(e,t){(0,Mie.default)(2,arguments);var r=(0,Oie.default)(e),i=(0,bie.default)(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(i),r)}GA.exports=Lp.default});var KA=p((Wp,QA)=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.default=qie;var jie=zA(_()),Sie=zA(v());function zA(e){return e&&e.__esModule?e:{default:e}}function qie(e){(0,Sie.default)(1,arguments);var t=(0,jie.default)(e),r=t.getFullYear(),i=Math.floor(r/10)*10;return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}QA.exports=Wp.default});var ZA=p((Fp,XA)=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.default=Nie;var Iie=Die(Ca());function Die(e){return e&&e.__esModule?e:{default:e}}function Nie(){return(0,Iie.default)(Date.now())}XA.exports=Fp.default});var ek=p((Bp,JA)=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.default=Pie;function Pie(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),i=e.getDate(),n=new Date(0);return n.setFullYear(t,r,i+1),n.setHours(0,0,0,0),n}JA.exports=Bp.default});var rk=p((Hp,tk)=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.default=Eie;function Eie(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),i=e.getDate(),n=new Date(0);return n.setFullYear(t,r,i-1),n.setHours(0,0,0,0),n}tk.exports=Hp.default});var nk=p((Up,ik)=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.default=Rie;var Cie=Vx(N()),Aie=Vx(Th()),kie=Vx(v());function Vx(e){return e&&e.__esModule?e:{default:e}}function Rie(e,t){(0,kie.default)(2,arguments);var r=(0,Cie.default)(t);return(0,Aie.default)(e,-r)}ik.exports=Up.default});var ok=p((Yp,ak)=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.default=Bie;var Lie=zx(N()),Wie=zx(yu()),Fie=zx(v());function zx(e){return e&&e.__esModule?e:{default:e}}function Bie(e,t){(0,Fie.default)(2,arguments);var r=(0,Lie.default)(t);return(0,Wie.default)(e,-r)}ak.exports=Yp.default});var uk=p(($p,sk)=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.default=$ie;var Hie=Qx(N()),Uie=Qx(Nu()),Yie=Qx(v());function Qx(e){return e&&e.__esModule?e:{default:e}}function $ie(e,t){(0,Yie.default)(2,arguments);var r=(0,Hie.default)(t);return(0,Uie.default)(e,-r)}sk.exports=$p.default});var dk=p((Gp,lk)=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.default=Qie;var Gie=Kx(N()),Vie=Kx(Eu()),zie=Kx(v());function Kx(e){return e&&e.__esModule?e:{default:e}}function Qie(e,t){(0,zie.default)(2,arguments);var r=(0,Gie.default)(t);return(0,Vie.default)(e,-r)}lk.exports=Gp.default});var ck=p((Vp,fk)=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.default=Jie;var Kie=Xx(N()),Xie=Xx(Rh()),Zie=Xx(v());function Xx(e){return e&&e.__esModule?e:{default:e}}function Jie(e,t){(0,Zie.default)(2,arguments);var r=(0,Kie.default)(t);return(0,Xie.default)(e,-r)}fk.exports=Vp.default});var mk=p((zp,pk)=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.default=ine;var ene=Zx(N()),tne=Zx(ka()),rne=Zx(v());function Zx(e){return e&&e.__esModule?e:{default:e}}function ine(e,t){(0,rne.default)(2,arguments);var r=(0,ene.default)(t);return(0,tne.default)(e,-r)}pk.exports=zp.default});var hk=p((Qp,gk)=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.default=sne;var nne=Jx(N()),ane=Jx(Fh()),one=Jx(v());function Jx(e){return e&&e.__esModule?e:{default:e}}function sne(e,t){(0,one.default)(2,arguments);var r=(0,nne.default)(t);return(0,ane.default)(e,-r)}gk.exports=Qp.default});var xk=p((Kp,vk)=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.default=fne;var une=dne(v()),lne=ne();function dne(e){return e&&e.__esModule?e:{default:e}}function fne(e){return(0,une.default)(1,arguments),Math.floor(e*lne.daysInWeek)}vk.exports=Kp.default});var wk=p((Xp,yk)=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.default=gne;var cne=mne(v()),pne=ne();function mne(e){return e&&e.__esModule?e:{default:e}}function gne(e){return(0,cne.default)(1,arguments),Math.floor(e*pne.monthsInYear)}yk.exports=Xp.default});var bk=p((Zp,_k)=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.default=yne;var hne=xne(v()),vne=ne();function xne(e){return e&&e.__esModule?e:{default:e}}function yne(e){return(0,hne.default)(1,arguments),Math.floor(e*vne.quartersInYear)}_k.exports=Zp.default});var Jp=p(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});var wne={add:!0,addBusinessDays:!0,addDays:!0,addHours:!0,addISOWeekYears:!0,addMilliseconds:!0,addMinutes:!0,addMonths:!0,addQuarters:!0,addSeconds:!0,addWeeks:!0,addYears:!0,areIntervalsOverlapping:!0,clamp:!0,closestIndexTo:!0,closestTo:!0,compareAsc:!0,compareDesc:!0,daysToWeeks:!0,differenceInBusinessDays:!0,differenceInCalendarDays:!0,differenceInCalendarISOWeekYears:!0,differenceInCalendarISOWeeks:!0,differenceInCalendarMonths:!0,differenceInCalendarQuarters:!0,differenceInCalendarWeeks:!0,differenceInCalendarYears:!0,differenceInDays:!0,differenceInHours:!0,differenceInISOWeekYears:!0,differenceInMilliseconds:!0,differenceInMinutes:!0,differenceInMonths:!0,differenceInQuarters:!0,differenceInSeconds:!0,differenceInWeeks:!0,differenceInYears:!0,eachDayOfInterval:!0,eachHourOfInterval:!0,eachMinuteOfInterval:!0,eachMonthOfInterval:!0,eachQuarterOfInterval:!0,eachWeekOfInterval:!0,eachWeekendOfInterval:!0,eachWeekendOfMonth:!0,eachWeekendOfYear:!0,eachYearOfInterval:!0,endOfDay:!0,endOfDecade:!0,endOfHour:!0,endOfISOWeek:!0,endOfISOWeekYear:!0,endOfMinute:!0,endOfMonth:!0,endOfQuarter:!0,endOfSecond:!0,endOfToday:!0,endOfTomorrow:!0,endOfWeek:!0,endOfYear:!0,endOfYesterday:!0,format:!0,formatDistance:!0,formatDistanceStrict:!0,formatDistanceToNow:!0,formatDistanceToNowStrict:!0,formatDuration:!0,formatISO:!0,formatISO9075:!0,formatISODuration:!0,formatRFC3339:!0,formatRFC7231:!0,formatRelative:!0,fromUnixTime:!0,getDate:!0,getDay:!0,getDayOfYear:!0,getDaysInMonth:!0,getDaysInYear:!0,getDecade:!0,getHours:!0,getISODay:!0,getISOWeek:!0,getISOWeekYear:!0,getISOWeeksInYear:!0,getMilliseconds:!0,getMinutes:!0,getMonth:!0,getOverlappingDaysInIntervals:!0,getQuarter:!0,getSeconds:!0,getTime:!0,getUnixTime:!0,getWeek:!0,getWeekOfMonth:!0,getWeekYear:!0,getWeeksInMonth:!0,getYear:!0,hoursToMilliseconds:!0,hoursToMinutes:!0,hoursToSeconds:!0,intervalToDuration:!0,intlFormat:!0,isAfter:!0,isBefore:!0,isDate:!0,isEqual:!0,isExists:!0,isFirstDayOfMonth:!0,isFriday:!0,isFuture:!0,isLastDayOfMonth:!0,isLeapYear:!0,isMatch:!0,isMonday:!0,isPast:!0,isSameDay:!0,isSameHour:!0,isSameISOWeek:!0,isSameISOWeekYear:!0,isSameMinute:!0,isSameMonth:!0,isSameQuarter:!0,isSameSecond:!0,isSameWeek:!0,isSameYear:!0,isSaturday:!0,isSunday:!0,isThisHour:!0,isThisISOWeek:!0,isThisMinute:!0,isThisMonth:!0,isThisQuarter:!0,isThisSecond:!0,isThisWeek:!0,isThisYear:!0,isThursday:!0,isToday:!0,isTomorrow:!0,isTuesday:!0,isValid:!0,isWednesday:!0,isWeekend:!0,isWithinInterval:!0,isYesterday:!0,lastDayOfDecade:!0,lastDayOfISOWeek:!0,lastDayOfISOWeekYear:!0,lastDayOfMonth:!0,lastDayOfQuarter:!0,lastDayOfWeek:!0,lastDayOfYear:!0,lightFormat:!0,max:!0,milliseconds:!0,millisecondsToHours:!0,millisecondsToMinutes:!0,millisecondsToSeconds:!0,min:!0,minutesToHours:!0,minutesToMilliseconds:!0,minutesToSeconds:!0,monthsToQuarters:!0,monthsToYears:!0,nextDay:!0,nextFriday:!0,nextMonday:!0,nextSaturday:!0,nextSunday:!0,nextThursday:!0,nextTuesday:!0,nextWednesday:!0,parse:!0,parseISO:!0,parseJSON:!0,previousDay:!0,previousFriday:!0,previousMonday:!0,previousSaturday:!0,previousSunday:!0,previousThursday:!0,previousTuesday:!0,previousWednesday:!0,quartersToMonths:!0,quartersToYears:!0,roundToNearestMinutes:!0,secondsToHours:!0,secondsToMilliseconds:!0,secondsToMinutes:!0,set:!0,setDate:!0,setDay:!0,setDayOfYear:!0,setHours:!0,setISODay:!0,setISOWeek:!0,setISOWeekYear:!0,setMilliseconds:!0,setMinutes:!0,setMonth:!0,setQuarter:!0,setSeconds:!0,setWeek:!0,setWeekYear:!0,setYear:!0,startOfDay:!0,startOfDecade:!0,startOfHour:!0,startOfISOWeek:!0,startOfISOWeekYear:!0,startOfMinute:!0,startOfMonth:!0,startOfQuarter:!0,startOfSecond:!0,startOfToday:!0,startOfTomorrow:!0,startOfWeek:!0,startOfWeekYear:!0,startOfYear:!0,startOfYesterday:!0,sub:!0,subBusinessDays:!0,subDays:!0,subHours:!0,subISOWeekYears:!0,subMilliseconds:!0,subMinutes:!0,subMonths:!0,subQuarters:!0,subSeconds:!0,subWeeks:!0,subYears:!0,toDate:!0,weeksToDays:!0,yearsToMonths:!0,yearsToQuarters:!0};Object.defineProperty(h,"add",{enumerable:!0,get:function(){return _ne.default}});Object.defineProperty(h,"addBusinessDays",{enumerable:!0,get:function(){return bne.default}});Object.defineProperty(h,"addDays",{enumerable:!0,get:function(){return One.default}});Object.defineProperty(h,"addHours",{enumerable:!0,get:function(){return Mne.default}});Object.defineProperty(h,"addISOWeekYears",{enumerable:!0,get:function(){return Tne.default}});Object.defineProperty(h,"addMilliseconds",{enumerable:!0,get:function(){return jne.default}});Object.defineProperty(h,"addMinutes",{enumerable:!0,get:function(){return Sne.default}});Object.defineProperty(h,"addMonths",{enumerable:!0,get:function(){return qne.default}});Object.defineProperty(h,"addQuarters",{enumerable:!0,get:function(){return Ine.default}});Object.defineProperty(h,"addSeconds",{enumerable:!0,get:function(){return Dne.default}});Object.defineProperty(h,"addWeeks",{enumerable:!0,get:function(){return Nne.default}});Object.defineProperty(h,"addYears",{enumerable:!0,get:function(){return Pne.default}});Object.defineProperty(h,"areIntervalsOverlapping",{enumerable:!0,get:function(){return Ene.default}});Object.defineProperty(h,"clamp",{enumerable:!0,get:function(){return Cne.default}});Object.defineProperty(h,"closestIndexTo",{enumerable:!0,get:function(){return Ane.default}});Object.defineProperty(h,"closestTo",{enumerable:!0,get:function(){return kne.default}});Object.defineProperty(h,"compareAsc",{enumerable:!0,get:function(){return Rne.default}});Object.defineProperty(h,"compareDesc",{enumerable:!0,get:function(){return Lne.default}});Object.defineProperty(h,"daysToWeeks",{enumerable:!0,get:function(){return Wne.default}});Object.defineProperty(h,"differenceInBusinessDays",{enumerable:!0,get:function(){return Fne.default}});Object.defineProperty(h,"differenceInCalendarDays",{enumerable:!0,get:function(){return Bne.default}});Object.defineProperty(h,"differenceInCalendarISOWeekYears",{enumerable:!0,get:function(){return Hne.default}});Object.defineProperty(h,"differenceInCalendarISOWeeks",{enumerable:!0,get:function(){return Une.default}});Object.defineProperty(h,"differenceInCalendarMonths",{enumerable:!0,get:function(){return Yne.default}});Object.defineProperty(h,"differenceInCalendarQuarters",{enumerable:!0,get:function(){return $ne.default}});Object.defineProperty(h,"differenceInCalendarWeeks",{enumerable:!0,get:function(){return Gne.default}});Object.defineProperty(h,"differenceInCalendarYears",{enumerable:!0,get:function(){return Vne.default}});Object.defineProperty(h,"differenceInDays",{enumerable:!0,get:function(){return zne.default}});Object.defineProperty(h,"differenceInHours",{enumerable:!0,get:function(){return Qne.default}});Object.defineProperty(h,"differenceInISOWeekYears",{enumerable:!0,get:function(){return Kne.default}});Object.defineProperty(h,"differenceInMilliseconds",{enumerable:!0,get:function(){return Xne.default}});Object.defineProperty(h,"differenceInMinutes",{enumerable:!0,get:function(){return Zne.default}});Object.defineProperty(h,"differenceInMonths",{enumerable:!0,get:function(){return Jne.default}});Object.defineProperty(h,"differenceInQuarters",{enumerable:!0,get:function(){return eae.default}});Object.defineProperty(h,"differenceInSeconds",{enumerable:!0,get:function(){return tae.default}});Object.defineProperty(h,"differenceInWeeks",{enumerable:!0,get:function(){return rae.default}});Object.defineProperty(h,"differenceInYears",{enumerable:!0,get:function(){return iae.default}});Object.defineProperty(h,"eachDayOfInterval",{enumerable:!0,get:function(){return nae.default}});Object.defineProperty(h,"eachHourOfInterval",{enumerable:!0,get:function(){return aae.default}});Object.defineProperty(h,"eachMinuteOfInterval",{enumerable:!0,get:function(){return oae.default}});Object.defineProperty(h,"eachMonthOfInterval",{enumerable:!0,get:function(){return sae.default}});Object.defineProperty(h,"eachQuarterOfInterval",{enumerable:!0,get:function(){return uae.default}});Object.defineProperty(h,"eachWeekOfInterval",{enumerable:!0,get:function(){return lae.default}});Object.defineProperty(h,"eachWeekendOfInterval",{enumerable:!0,get:function(){return dae.default}});Object.defineProperty(h,"eachWeekendOfMonth",{enumerable:!0,get:function(){return fae.default}});Object.defineProperty(h,"eachWeekendOfYear",{enumerable:!0,get:function(){return cae.default}});Object.defineProperty(h,"eachYearOfInterval",{enumerable:!0,get:function(){return pae.default}});Object.defineProperty(h,"endOfDay",{enumerable:!0,get:function(){return mae.default}});Object.defineProperty(h,"endOfDecade",{enumerable:!0,get:function(){return gae.default}});Object.defineProperty(h,"endOfHour",{enumerable:!0,get:function(){return hae.default}});Object.defineProperty(h,"endOfISOWeek",{enumerable:!0,get:function(){return vae.default}});Object.defineProperty(h,"endOfISOWeekYear",{enumerable:!0,get:function(){return xae.default}});Object.defineProperty(h,"endOfMinute",{enumerable:!0,get:function(){return yae.default}});Object.defineProperty(h,"endOfMonth",{enumerable:!0,get:function(){return wae.default}});Object.defineProperty(h,"endOfQuarter",{enumerable:!0,get:function(){return _ae.default}});Object.defineProperty(h,"endOfSecond",{enumerable:!0,get:function(){return bae.default}});Object.defineProperty(h,"endOfToday",{enumerable:!0,get:function(){return Oae.default}});Object.defineProperty(h,"endOfTomorrow",{enumerable:!0,get:function(){return Mae.default}});Object.defineProperty(h,"endOfWeek",{enumerable:!0,get:function(){return Tae.default}});Object.defineProperty(h,"endOfYear",{enumerable:!0,get:function(){return jae.default}});Object.defineProperty(h,"endOfYesterday",{enumerable:!0,get:function(){return Sae.default}});Object.defineProperty(h,"format",{enumerable:!0,get:function(){return qae.default}});Object.defineProperty(h,"formatDistance",{enumerable:!0,get:function(){return Iae.default}});Object.defineProperty(h,"formatDistanceStrict",{enumerable:!0,get:function(){return Dae.default}});Object.defineProperty(h,"formatDistanceToNow",{enumerable:!0,get:function(){return Nae.default}});Object.defineProperty(h,"formatDistanceToNowStrict",{enumerable:!0,get:function(){return Pae.default}});Object.defineProperty(h,"formatDuration",{enumerable:!0,get:function(){return Eae.default}});Object.defineProperty(h,"formatISO",{enumerable:!0,get:function(){return Cae.default}});Object.defineProperty(h,"formatISO9075",{enumerable:!0,get:function(){return Aae.default}});Object.defineProperty(h,"formatISODuration",{enumerable:!0,get:function(){return kae.default}});Object.defineProperty(h,"formatRFC3339",{enumerable:!0,get:function(){return Rae.default}});Object.defineProperty(h,"formatRFC7231",{enumerable:!0,get:function(){return Lae.default}});Object.defineProperty(h,"formatRelative",{enumerable:!0,get:function(){return Wae.default}});Object.defineProperty(h,"fromUnixTime",{enumerable:!0,get:function(){return Fae.default}});Object.defineProperty(h,"getDate",{enumerable:!0,get:function(){return Bae.default}});Object.defineProperty(h,"getDay",{enumerable:!0,get:function(){return Hae.default}});Object.defineProperty(h,"getDayOfYear",{enumerable:!0,get:function(){return Uae.default}});Object.defineProperty(h,"getDaysInMonth",{enumerable:!0,get:function(){return Yae.default}});Object.defineProperty(h,"getDaysInYear",{enumerable:!0,get:function(){return $ae.default}});Object.defineProperty(h,"getDecade",{enumerable:!0,get:function(){return Gae.default}});Object.defineProperty(h,"getHours",{enumerable:!0,get:function(){return Vae.default}});Object.defineProperty(h,"getISODay",{enumerable:!0,get:function(){return zae.default}});Object.defineProperty(h,"getISOWeek",{enumerable:!0,get:function(){return Qae.default}});Object.defineProperty(h,"getISOWeekYear",{enumerable:!0,get:function(){return Kae.default}});Object.defineProperty(h,"getISOWeeksInYear",{enumerable:!0,get:function(){return Xae.default}});Object.defineProperty(h,"getMilliseconds",{enumerable:!0,get:function(){return Zae.default}});Object.defineProperty(h,"getMinutes",{enumerable:!0,get:function(){return Jae.default}});Object.defineProperty(h,"getMonth",{enumerable:!0,get:function(){return eoe.default}});Object.defineProperty(h,"getOverlappingDaysInIntervals",{enumerable:!0,get:function(){return toe.default}});Object.defineProperty(h,"getQuarter",{enumerable:!0,get:function(){return roe.default}});Object.defineProperty(h,"getSeconds",{enumerable:!0,get:function(){return ioe.default}});Object.defineProperty(h,"getTime",{enumerable:!0,get:function(){return noe.default}});Object.defineProperty(h,"getUnixTime",{enumerable:!0,get:function(){return aoe.default}});Object.defineProperty(h,"getWeek",{enumerable:!0,get:function(){return ooe.default}});Object.defineProperty(h,"getWeekOfMonth",{enumerable:!0,get:function(){return soe.default}});Object.defineProperty(h,"getWeekYear",{enumerable:!0,get:function(){return uoe.default}});Object.defineProperty(h,"getWeeksInMonth",{enumerable:!0,get:function(){return loe.default}});Object.defineProperty(h,"getYear",{enumerable:!0,get:function(){return doe.default}});Object.defineProperty(h,"hoursToMilliseconds",{enumerable:!0,get:function(){return foe.default}});Object.defineProperty(h,"hoursToMinutes",{enumerable:!0,get:function(){return coe.default}});Object.defineProperty(h,"hoursToSeconds",{enumerable:!0,get:function(){return poe.default}});Object.defineProperty(h,"intervalToDuration",{enumerable:!0,get:function(){return moe.default}});Object.defineProperty(h,"intlFormat",{enumerable:!0,get:function(){return goe.default}});Object.defineProperty(h,"isAfter",{enumerable:!0,get:function(){return hoe.default}});Object.defineProperty(h,"isBefore",{enumerable:!0,get:function(){return voe.default}});Object.defineProperty(h,"isDate",{enumerable:!0,get:function(){return xoe.default}});Object.defineProperty(h,"isEqual",{enumerable:!0,get:function(){return yoe.default}});Object.defineProperty(h,"isExists",{enumerable:!0,get:function(){return woe.default}});Object.defineProperty(h,"isFirstDayOfMonth",{enumerable:!0,get:function(){return _oe.default}});Object.defineProperty(h,"isFriday",{enumerable:!0,get:function(){return boe.default}});Object.defineProperty(h,"isFuture",{enumerable:!0,get:function(){return Ooe.default}});Object.defineProperty(h,"isLastDayOfMonth",{enumerable:!0,get:function(){return Moe.default}});Object.defineProperty(h,"isLeapYear",{enumerable:!0,get:function(){return Toe.default}});Object.defineProperty(h,"isMatch",{enumerable:!0,get:function(){return joe.default}});Object.defineProperty(h,"isMonday",{enumerable:!0,get:function(){return Soe.default}});Object.defineProperty(h,"isPast",{enumerable:!0,get:function(){return qoe.default}});Object.defineProperty(h,"isSameDay",{enumerable:!0,get:function(){return Ioe.default}});Object.defineProperty(h,"isSameHour",{enumerable:!0,get:function(){return Doe.default}});Object.defineProperty(h,"isSameISOWeek",{enumerable:!0,get:function(){return Noe.default}});Object.defineProperty(h,"isSameISOWeekYear",{enumerable:!0,get:function(){return Poe.default}});Object.defineProperty(h,"isSameMinute",{enumerable:!0,get:function(){return Eoe.default}});Object.defineProperty(h,"isSameMonth",{enumerable:!0,get:function(){return Coe.default}});Object.defineProperty(h,"isSameQuarter",{enumerable:!0,get:function(){return Aoe.default}});Object.defineProperty(h,"isSameSecond",{enumerable:!0,get:function(){return koe.default}});Object.defineProperty(h,"isSameWeek",{enumerable:!0,get:function(){return Roe.default}});Object.defineProperty(h,"isSameYear",{enumerable:!0,get:function(){return Loe.default}});Object.defineProperty(h,"isSaturday",{enumerable:!0,get:function(){return Woe.default}});Object.defineProperty(h,"isSunday",{enumerable:!0,get:function(){return Foe.default}});Object.defineProperty(h,"isThisHour",{enumerable:!0,get:function(){return Boe.default}});Object.defineProperty(h,"isThisISOWeek",{enumerable:!0,get:function(){return Hoe.default}});Object.defineProperty(h,"isThisMinute",{enumerable:!0,get:function(){return Uoe.default}});Object.defineProperty(h,"isThisMonth",{enumerable:!0,get:function(){return Yoe.default}});Object.defineProperty(h,"isThisQuarter",{enumerable:!0,get:function(){return $oe.default}});Object.defineProperty(h,"isThisSecond",{enumerable:!0,get:function(){return Goe.default}});Object.defineProperty(h,"isThisWeek",{enumerable:!0,get:function(){return Voe.default}});Object.defineProperty(h,"isThisYear",{enumerable:!0,get:function(){return zoe.default}});Object.defineProperty(h,"isThursday",{enumerable:!0,get:function(){return Qoe.default}});Object.defineProperty(h,"isToday",{enumerable:!0,get:function(){return Koe.default}});Object.defineProperty(h,"isTomorrow",{enumerable:!0,get:function(){return Xoe.default}});Object.defineProperty(h,"isTuesday",{enumerable:!0,get:function(){return Zoe.default}});Object.defineProperty(h,"isValid",{enumerable:!0,get:function(){return Joe.default}});Object.defineProperty(h,"isWednesday",{enumerable:!0,get:function(){return ese.default}});Object.defineProperty(h,"isWeekend",{enumerable:!0,get:function(){return tse.default}});Object.defineProperty(h,"isWithinInterval",{enumerable:!0,get:function(){return rse.default}});Object.defineProperty(h,"isYesterday",{enumerable:!0,get:function(){return ise.default}});Object.defineProperty(h,"lastDayOfDecade",{enumerable:!0,get:function(){return nse.default}});Object.defineProperty(h,"lastDayOfISOWeek",{enumerable:!0,get:function(){return ase.default}});Object.defineProperty(h,"lastDayOfISOWeekYear",{enumerable:!0,get:function(){return ose.default}});Object.defineProperty(h,"lastDayOfMonth",{enumerable:!0,get:function(){return sse.default}});Object.defineProperty(h,"lastDayOfQuarter",{enumerable:!0,get:function(){return use.default}});Object.defineProperty(h,"lastDayOfWeek",{enumerable:!0,get:function(){return lse.default}});Object.defineProperty(h,"lastDayOfYear",{enumerable:!0,get:function(){return dse.default}});Object.defineProperty(h,"lightFormat",{enumerable:!0,get:function(){return fse.default}});Object.defineProperty(h,"max",{enumerable:!0,get:function(){return cse.default}});Object.defineProperty(h,"milliseconds",{enumerable:!0,get:function(){return pse.default}});Object.defineProperty(h,"millisecondsToHours",{enumerable:!0,get:function(){return mse.default}});Object.defineProperty(h,"millisecondsToMinutes",{enumerable:!0,get:function(){return gse.default}});Object.defineProperty(h,"millisecondsToSeconds",{enumerable:!0,get:function(){return hse.default}});Object.defineProperty(h,"min",{enumerable:!0,get:function(){return vse.default}});Object.defineProperty(h,"minutesToHours",{enumerable:!0,get:function(){return xse.default}});Object.defineProperty(h,"minutesToMilliseconds",{enumerable:!0,get:function(){return yse.default}});Object.defineProperty(h,"minutesToSeconds",{enumerable:!0,get:function(){return wse.default}});Object.defineProperty(h,"monthsToQuarters",{enumerable:!0,get:function(){return _se.default}});Object.defineProperty(h,"monthsToYears",{enumerable:!0,get:function(){return bse.default}});Object.defineProperty(h,"nextDay",{enumerable:!0,get:function(){return Ose.default}});Object.defineProperty(h,"nextFriday",{enumerable:!0,get:function(){return Mse.default}});Object.defineProperty(h,"nextMonday",{enumerable:!0,get:function(){return Tse.default}});Object.defineProperty(h,"nextSaturday",{enumerable:!0,get:function(){return jse.default}});Object.defineProperty(h,"nextSunday",{enumerable:!0,get:function(){return Sse.default}});Object.defineProperty(h,"nextThursday",{enumerable:!0,get:function(){return qse.default}});Object.defineProperty(h,"nextTuesday",{enumerable:!0,get:function(){return Ise.default}});Object.defineProperty(h,"nextWednesday",{enumerable:!0,get:function(){return Dse.default}});Object.defineProperty(h,"parse",{enumerable:!0,get:function(){return Nse.default}});Object.defineProperty(h,"parseISO",{enumerable:!0,get:function(){return Pse.default}});Object.defineProperty(h,"parseJSON",{enumerable:!0,get:function(){return Ese.default}});Object.defineProperty(h,"previousDay",{enumerable:!0,get:function(){return Cse.default}});Object.defineProperty(h,"previousFriday",{enumerable:!0,get:function(){return Ase.default}});Object.defineProperty(h,"previousMonday",{enumerable:!0,get:function(){return kse.default}});Object.defineProperty(h,"previousSaturday",{enumerable:!0,get:function(){return Rse.default}});Object.defineProperty(h,"previousSunday",{enumerable:!0,get:function(){return Lse.default}});Object.defineProperty(h,"previousThursday",{enumerable:!0,get:function(){return Wse.default}});Object.defineProperty(h,"previousTuesday",{enumerable:!0,get:function(){return Fse.default}});Object.defineProperty(h,"previousWednesday",{enumerable:!0,get:function(){return Bse.default}});Object.defineProperty(h,"quartersToMonths",{enumerable:!0,get:function(){return Hse.default}});Object.defineProperty(h,"quartersToYears",{enumerable:!0,get:function(){return Use.default}});Object.defineProperty(h,"roundToNearestMinutes",{enumerable:!0,get:function(){return Yse.default}});Object.defineProperty(h,"secondsToHours",{enumerable:!0,get:function(){return $se.default}});Object.defineProperty(h,"secondsToMilliseconds",{enumerable:!0,get:function(){return Gse.default}});Object.defineProperty(h,"secondsToMinutes",{enumerable:!0,get:function(){return Vse.default}});Object.defineProperty(h,"set",{enumerable:!0,get:function(){return zse.default}});Object.defineProperty(h,"setDate",{enumerable:!0,get:function(){return Qse.default}});Object.defineProperty(h,"setDay",{enumerable:!0,get:function(){return Kse.default}});Object.defineProperty(h,"setDayOfYear",{enumerable:!0,get:function(){return Xse.default}});Object.defineProperty(h,"setHours",{enumerable:!0,get:function(){return Zse.default}});Object.defineProperty(h,"setISODay",{enumerable:!0,get:function(){return Jse.default}});Object.defineProperty(h,"setISOWeek",{enumerable:!0,get:function(){return eue.default}});Object.defineProperty(h,"setISOWeekYear",{enumerable:!0,get:function(){return tue.default}});Object.defineProperty(h,"setMilliseconds",{enumerable:!0,get:function(){return rue.default}});Object.defineProperty(h,"setMinutes",{enumerable:!0,get:function(){return iue.default}});Object.defineProperty(h,"setMonth",{enumerable:!0,get:function(){return nue.default}});Object.defineProperty(h,"setQuarter",{enumerable:!0,get:function(){return aue.default}});Object.defineProperty(h,"setSeconds",{enumerable:!0,get:function(){return oue.default}});Object.defineProperty(h,"setWeek",{enumerable:!0,get:function(){return sue.default}});Object.defineProperty(h,"setWeekYear",{enumerable:!0,get:function(){return uue.default}});Object.defineProperty(h,"setYear",{enumerable:!0,get:function(){return lue.default}});Object.defineProperty(h,"startOfDay",{enumerable:!0,get:function(){return due.default}});Object.defineProperty(h,"startOfDecade",{enumerable:!0,get:function(){return fue.default}});Object.defineProperty(h,"startOfHour",{enumerable:!0,get:function(){return cue.default}});Object.defineProperty(h,"startOfISOWeek",{enumerable:!0,get:function(){return pue.default}});Object.defineProperty(h,"startOfISOWeekYear",{enumerable:!0,get:function(){return mue.default}});Object.defineProperty(h,"startOfMinute",{enumerable:!0,get:function(){return gue.default}});Object.defineProperty(h,"startOfMonth",{enumerable:!0,get:function(){return hue.default}});Object.defineProperty(h,"startOfQuarter",{enumerable:!0,get:function(){return vue.default}});Object.defineProperty(h,"startOfSecond",{enumerable:!0,get:function(){return xue.default}});Object.defineProperty(h,"startOfToday",{enumerable:!0,get:function(){return yue.default}});Object.defineProperty(h,"startOfTomorrow",{enumerable:!0,get:function(){return wue.default}});Object.defineProperty(h,"startOfWeek",{enumerable:!0,get:function(){return _ue.default}});Object.defineProperty(h,"startOfWeekYear",{enumerable:!0,get:function(){return bue.default}});Object.defineProperty(h,"startOfYear",{enumerable:!0,get:function(){return Oue.default}});Object.defineProperty(h,"startOfYesterday",{enumerable:!0,get:function(){return Mue.default}});Object.defineProperty(h,"sub",{enumerable:!0,get:function(){return Tue.default}});Object.defineProperty(h,"subBusinessDays",{enumerable:!0,get:function(){return jue.default}});Object.defineProperty(h,"subDays",{enumerable:!0,get:function(){return Sue.default}});Object.defineProperty(h,"subHours",{enumerable:!0,get:function(){return que.default}});Object.defineProperty(h,"subISOWeekYears",{enumerable:!0,get:function(){return Iue.default}});Object.defineProperty(h,"subMilliseconds",{enumerable:!0,get:function(){return Due.default}});Object.defineProperty(h,"subMinutes",{enumerable:!0,get:function(){return Nue.default}});Object.defineProperty(h,"subMonths",{enumerable:!0,get:function(){return Pue.default}});Object.defineProperty(h,"subQuarters",{enumerable:!0,get:function(){return Eue.default}});Object.defineProperty(h,"subSeconds",{enumerable:!0,get:function(){return Cue.default}});Object.defineProperty(h,"subWeeks",{enumerable:!0,get:function(){return Aue.default}});Object.defineProperty(h,"subYears",{enumerable:!0,get:function(){return kue.default}});Object.defineProperty(h,"toDate",{enumerable:!0,get:function(){return Rue.default}});Object.defineProperty(h,"weeksToDays",{enumerable:!0,get:function(){return Lue.default}});Object.defineProperty(h,"yearsToMonths",{enumerable:!0,get:function(){return Wue.default}});Object.defineProperty(h,"yearsToQuarters",{enumerable:!0,get:function(){return Fue.default}});var _ne=x(QT()),bne=x(Th()),One=x(Ot()),Mne=x(yu()),Tne=x(Eh()),jne=x(En()),Sne=x(Nu()),qne=x(Nn()),Ine=x(Eu()),Dne=x(Rh()),Nne=x(ka()),Pne=x(Fh()),Ene=x(Ij()),Cne=x(Aj()),Ane=x(Wj()),kne=x(Uj()),Rne=x(Fr()),Lne=x(Kj()),Wne=x(Jj()),Fne=x(lS()),Bne=x(Wr()),Hne=x(Gh()),Une=x(hS()),Yne=x(zh()),$ne=x(TS()),Gne=x(Zh()),Vne=x(Jh()),zne=x(al()),Qne=x(rv()),Kne=x($S()),Xne=x(Ra()),Zne=x(av()),Jne=x(Fa()),eae=x(r1()),tae=x(wl()),rae=x(s1()),iae=x(lv()),nae=x(fv()),aae=x(m1()),oae=x(y1()),sae=x(b1()),uae=x(S1()),lae=x(D1()),dae=x(Wl()),fae=x(A1()),cae=x(B1()),pae=x(Y1()),mae=x(cl()),gae=x(V1()),hae=x(K1()),vae=x(tq()),xae=x(iq()),yae=x(oq()),wae=x(ml()),_ae=x(lq()),bae=x(cq()),Oae=x(mq()),Mae=x(hq()),Tae=x(_v()),jae=x(xv()),Sae=x(xq()),qae=x(Cv()),Iae=x(Lv()),Dae=x(Wv()),Nae=x(SI()),Pae=x(DI()),Eae=x(PI()),Cae=x(CI()),Aae=x(kI()),kae=x(LI()),Rae=x(FI()),Lae=x(HI()),Wae=x(VI()),Fae=x(QI()),Bae=x(Yv()),Hae=x(io()),Uae=x(tD()),Yae=x($v()),$ae=x(sD()),Gae=x(dD()),Vae=x(pD()),zae=x(zv()),Qae=x(Qv()),Kae=x(ji()),Xae=x(yD()),Zae=x(bD()),Jae=x(TD()),eoe=x(qD()),toe=x(ND()),roe=x(Qh()),ioe=x(CD()),noe=x(Xv()),aoe=x(WD()),ooe=x(Jv()),soe=x(zD()),uoe=x(Zv()),loe=x(ZD()),doe=x(tN()),foe=x(iN()),coe=x(aN()),poe=x(sN()),moe=x(mN()),goe=x(hN()),hoe=x(wN()),voe=x(MN()),xoe=x(Yh()),yoe=x(qN()),woe=x(DN()),_oe=x(EN()),boe=x(kN()),Ooe=x(WN()),Moe=x(ov()),Toe=x(Gv()),joe=x(iP()),Soe=x(oP()),qoe=x(lP()),Ioe=x(An()),Doe=x(mx()),Noe=x(gx()),Poe=x(OP()),Eoe=x(hx()),Coe=x(vx()),Aoe=x(xx()),koe=x(wx()),Roe=x(oc()),Loe=x(_x()),Woe=x(Oh()),Foe=x(mu()),Boe=x(UP()),Hoe=x(GP()),Uoe=x(QP()),Yoe=x(ZP()),$oe=x(tE()),Goe=x(nE()),Voe=x(sE()),zoe=x(dE()),Qoe=x(pE()),Koe=x(hE()),Xoe=x(xE()),Zoe=x(_E()),Joe=x(ct()),ese=x(ME()),tse=x(Ea()),rse=x(SE()),ise=x(IE()),nse=x(PE()),ase=x(RE()),ose=x(WE()),sse=x(ex()),use=x(HE()),lse=x(jx()),dse=x($E()),fse=x(VE()),cse=x(Bh()),pse=x(KE()),mse=x(ZE()),gse=x(eC()),hse=x(rC()),vse=x(Hh()),xse=x(nC()),yse=x(oC()),wse=x(uC()),_se=x(dC()),bse=x(cC()),Ose=x(ir()),Mse=x(gC()),Tse=x(vC()),jse=x(yC()),Sse=x(_C()),qse=x(OC()),Ise=x(TC()),Dse=x(SC()),Nse=x(fx()),Pse=x(EC()),Ese=x(kC()),Cse=x(nr()),Ase=x(FC()),kse=x(UC()),Rse=x(GC()),Lse=x(QC()),Wse=x(ZC()),Fse=x(tA()),Bse=x(nA()),Hse=x(oA()),Use=x(uA()),Yse=x(fA()),$se=x(pA()),Gse=x(gA()),Vse=x(vA()),zse=x(wA()),Qse=x(bA()),Kse=x(MA()),Xse=x(jA()),Zse=x(qA()),Jse=x(DA()),eue=x(PA()),tue=x(Ph()),rue=x(CA()),iue=x(kA()),nue=x(yp()),aue=x(LA()),oue=x(FA()),sue=x(HA()),uue=x($A()),lue=x(VA()),due=x(Ca()),fue=x(KA()),cue=x(px()),pue=x(Lr()),mue=x(Cn()),gue=x(Sl()),hue=x(Ba()),vue=x(Pl()),xue=x(yx()),yue=x(ZA()),wue=x(ek()),_ue=x(er()),bue=x(wf()),Oue=x(Yl()),Mue=x(rk()),Tue=x(nx()),jue=x(nk()),Sue=x(ao()),que=x(ok()),Iue=x(nv()),Due=x(Rn()),Nue=x(uk()),Pue=x(ix()),Eue=x(dk()),Cue=x(ck()),Aue=x(mk()),kue=x(hk()),Rue=x(_()),Lue=x(xk()),Wue=x(wk()),Fue=x(bk()),Ok=ne();Object.keys(Ok).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(wne,e)||Object.defineProperty(h,e,{enumerable:!0,get:function(){return Ok[e]}})});function x(e){return e&&e.__esModule?e:{default:e}}});Jk(exports,{activate:()=>Hue});var $k=M(pe()),Zr=M(require("coc.nvim"));var lr;(function(t){function e(r){return Object.entries(r).map(([i,n])=>{let a=async()=>i.split(/:/);return typeof n=="string"?{description:n,args:i,actionArgs:a}:Object.assign({args:i,actionArgs:a},n)})}t.getNormalizeMenus=e})(lr||(lr={}));var qg=M(require("coc.nvim"));var RO=M(pe());function $y(e){return Buffer.byteLength(e)}function Gy(e,t,r=2){let i=[],n=e,a=e.indexOf(t);for(;a!==-1&&r>1;)i.push(n.slice(0,a)),n=n.slice(a+1),a=n.indexOf(t),r-=1;return i.push(n),i}function Vy(e){return/^[\x00-\xFF]*$/.test(e)}var GR={0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089"};function zy(e){return e.toString().split("").map(t=>{var r;return(r=GR[t])!=null?r:t}).join("")}var VR=typeof global=="object"&&global&&global.Object===Object&&global,Po=VR;var zR=typeof self=="object"&&self&&self.Object===Object&&self,QR=Po||zR||Function("return this")(),ge=QR;var KR=ge.Symbol,Oe=KR;var Qy=Object.prototype,XR=Qy.hasOwnProperty,ZR=Qy.toString,Qn=Oe?Oe.toStringTag:void 0;function JR(e){var t=XR.call(e,Qn),r=e[Qn];try{e[Qn]=void 0;var i=!0}catch(a){}var n=ZR.call(e);return i&&(t?e[Qn]=r:delete e[Qn]),n}var Ky=JR;var e2=Object.prototype,t2=e2.toString;function r2(e){return t2.call(e)}var Xy=r2;var i2="[object Null]",n2="[object Undefined]",Zy=Oe?Oe.toStringTag:void 0;function a2(e){return e==null?e===void 0?n2:i2:Zy&&Zy in Object(e)?Ky(e):Xy(e)}var it=a2;function o2(e){return e!=null&&typeof e=="object"}var Ce=o2;var s2="[object Symbol]";function u2(e){return typeof e=="symbol"||Ce(e)&&it(e)==s2}var xt=u2;function l2(e,t){for(var r=-1,i=e==null?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}var Jy=l2;var d2=Array.isArray,ae=d2;var f2=1/0,ew=Oe?Oe.prototype:void 0,tw=ew?ew.toString:void 0;function rw(e){if(typeof e=="string")return e;if(ae(e))return Jy(e,rw)+"";if(xt(e))return tw?tw.call(e):"";var t=e+"";return t=="0"&&1/e==-f2?"-0":t}var iw=rw;var c2=/\s/;function p2(e){for(var t=e.length;t--&&c2.test(e.charAt(t)););return t}var nw=p2;var m2=/^\s+/;function g2(e){return e&&e.slice(0,nw(e)+1).replace(m2,"")}var aw=g2;function h2(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ae=h2;var ow=0/0,v2=/^[-+]0x[0-9a-f]+$/i,x2=/^0b[01]+$/i,y2=/^0o[0-7]+$/i,w2=parseInt;function _2(e){if(typeof e=="number")return e;if(xt(e))return ow;if(Ae(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ae(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=aw(e);var r=x2.test(e);return r||y2.test(e)?w2(e.slice(2),r?2:8):v2.test(e)?ow:+e}var sw=_2;var uw=1/0,b2=17976931348623157e292;function O2(e){if(!e)return e===0?e:0;if(e=sw(e),e===uw||e===-uw){var t=e<0?-1:1;return t*b2}return e===e?e:0}var lw=O2;function M2(e){var t=lw(e),r=t%1;return t===t?r?t-r:t:0}var Eo=M2;function T2(e){return e}var dr=T2;var j2="[object AsyncFunction]",S2="[object Function]",q2="[object GeneratorFunction]",I2="[object Proxy]";function D2(e){if(!Ae(e))return!1;var t=it(e);return t==S2||t==q2||t==j2||t==I2}var Co=D2;var N2=ge["__core-js_shared__"],Ao=N2;var dw=function(){var e=/[^.]+$/.exec(Ao&&Ao.keys&&Ao.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function P2(e){return!!dw&&dw in e}var fw=P2;var E2=Function.prototype,C2=E2.toString;function A2(e){if(e!=null){try{return C2.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var kt=A2;var k2=/[\\^$.*+?()[\]{}|]/g,R2=/^\[object .+?Constructor\]$/,L2=Function.prototype,W2=Object.prototype,F2=L2.toString,B2=W2.hasOwnProperty,H2=RegExp("^"+F2.call(B2).replace(k2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U2(e){if(!Ae(e)||fw(e))return!1;var t=Co(e)?H2:R2;return t.test(kt(e))}var cw=U2;function Y2(e,t){return e==null?void 0:e[t]}var pw=Y2;function $2(e,t){var r=pw(e,t);return cw(r)?r:void 0}var Fe=$2;var G2=Fe(ge,"WeakMap"),ko=G2;var mw=Object.create,V2=function(){function e(){}return function(t){if(!Ae(t))return{};if(mw)return mw(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),gw=V2;function z2(){}var hw=z2;function Q2(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var vw=Q2;var K2=function(){try{var e=Fe(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),bm=K2;function X2(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}var xw=X2;function Z2(e,t,r,i){for(var n=e.length,a=r+(i?1:-1);i?a--:++a<n;)if(t(e[a],a,e))return a;return-1}var Wi=Z2;function J2(e){return e!==e}var yw=J2;function eL(e,t,r){for(var i=r-1,n=e.length;++i<n;)if(e[i]===t)return i;return-1}var ww=eL;function tL(e,t,r){return t===t?ww(e,t,r):Wi(e,yw,r)}var _w=tL;function rL(e,t){var r=e==null?0:e.length;return!!r&&_w(e,t,0)>-1}var bw=rL;var iL=9007199254740991,nL=/^(?:0|[1-9]\d*)$/;function aL(e,t){var r=typeof e;return t=t==null?iL:t,!!t&&(r=="number"||r!="symbol"&&nL.test(e))&&e>-1&&e%1==0&&e<t}var Ro=aL;function oL(e,t,r){t=="__proto__"&&bm?bm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var fr=oL;function sL(e,t){return e===t||e!==e&&t!==t}var Fi=sL;var uL=Object.prototype,lL=uL.hasOwnProperty;function dL(e,t,r){var i=e[t];(!(lL.call(e,t)&&Fi(i,r))||r===void 0&&!(t in e))&&fr(e,t,r)}var Lo=dL;function fL(e,t,r,i){var n=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=i?i(r[s],e[s],s,r,e):void 0;u===void 0&&(u=e[s]),n?fr(r,s,u):Lo(r,s,u)}return r}var cr=fL;var cL=9007199254740991;function pL(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cL}var Bi=pL;function mL(e){return e!=null&&Bi(e.length)&&!Co(e)}var Hi=mL;var gL=Object.prototype;function hL(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||gL;return e===r}var Ui=hL;function vL(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var Ow=vL;var xL="[object Arguments]";function yL(e){return Ce(e)&&it(e)==xL}var Om=yL;var Mw=Object.prototype,wL=Mw.hasOwnProperty,_L=Mw.propertyIsEnumerable,bL=Om(function(){return arguments}())?Om:function(e){return Ce(e)&&wL.call(e,"callee")&&!_L.call(e,"callee")},Yi=bL;function OL(){return!1}var Tw=OL;var jw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Sw=jw&&typeof module=="object"&&module&&!module.nodeType&&module,ML=Sw&&Sw.exports===jw,qw=ML?ge.Buffer:void 0,TL=qw?qw.isBuffer:void 0,jL=TL||Tw,ri=jL;var SL="[object Arguments]",qL="[object Array]",IL="[object Boolean]",DL="[object Date]",NL="[object Error]",PL="[object Function]",EL="[object Map]",CL="[object Number]",AL="[object Object]",kL="[object RegExp]",RL="[object Set]",LL="[object String]",WL="[object WeakMap]",FL="[object ArrayBuffer]",BL="[object DataView]",HL="[object Float32Array]",UL="[object Float64Array]",YL="[object Int8Array]",$L="[object Int16Array]",GL="[object Int32Array]",VL="[object Uint8Array]",zL="[object Uint8ClampedArray]",QL="[object Uint16Array]",KL="[object Uint32Array]",te={};te[HL]=te[UL]=te[YL]=te[$L]=te[GL]=te[VL]=te[zL]=te[QL]=te[KL]=!0;te[SL]=te[qL]=te[FL]=te[IL]=te[BL]=te[DL]=te[NL]=te[PL]=te[EL]=te[CL]=te[AL]=te[kL]=te[RL]=te[LL]=te[WL]=!1;function XL(e){return Ce(e)&&Bi(e.length)&&!!te[it(e)]}var Iw=XL;function ZL(e){return function(t){return e(t)}}var $i=ZL;var Dw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Kn=Dw&&typeof module=="object"&&module&&!module.nodeType&&module,JL=Kn&&Kn.exports===Dw,Mm=JL&&Po.process,eW=function(){try{var e=Kn&&Kn.require&&Kn.require("util").types;return e||Mm&&Mm.binding&&Mm.binding("util")}catch(t){}}(),Rt=eW;var Nw=Rt&&Rt.isTypedArray,tW=Nw?$i(Nw):Iw,Wo=tW;var rW=Object.prototype,iW=rW.hasOwnProperty;function nW(e,t){var r=ae(e),i=!r&&Yi(e),n=!r&&!i&&ri(e),a=!r&&!i&&!n&&Wo(e),o=r||i||n||a,s=o?Ow(e.length,String):[],u=s.length;for(var l in e)(t||iW.call(e,l))&&!(o&&(l=="length"||n&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Ro(l,u)))&&s.push(l);return s}var Fo=nW;function aW(e,t){return function(r){return e(t(r))}}var Bo=aW;var oW=Bo(Object.keys,Object),Pw=oW;var sW=Object.prototype,uW=sW.hasOwnProperty;function lW(e){if(!Ui(e))return Pw(e);var t=[];for(var r in Object(e))uW.call(e,r)&&r!="constructor"&&t.push(r);return t}var Ew=lW;function dW(e){return Hi(e)?Fo(e):Ew(e)}var yt=dW;function fW(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Cw=fW;var cW=Object.prototype,pW=cW.hasOwnProperty;function mW(e){if(!Ae(e))return Cw(e);var t=Ui(e),r=[];for(var i in e)i=="constructor"&&(t||!pW.call(e,i))||r.push(i);return r}var Aw=mW;function gW(e){return Hi(e)?Fo(e,!0):Aw(e)}var Gi=gW;var hW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vW=/^\w*$/;function xW(e,t){if(ae(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||xt(e)?!0:vW.test(e)||!hW.test(e)||t!=null&&e in Object(t)}var Vi=xW;var yW=Fe(Object,"create"),Lt=yW;function wW(){this.__data__=Lt?Lt(null):{},this.size=0}var kw=wW;function _W(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Rw=_W;var bW="__lodash_hash_undefined__",OW=Object.prototype,MW=OW.hasOwnProperty;function TW(e){var t=this.__data__;if(Lt){var r=t[e];return r===bW?void 0:r}return MW.call(t,e)?t[e]:void 0}var Lw=TW;var jW=Object.prototype,SW=jW.hasOwnProperty;function qW(e){var t=this.__data__;return Lt?t[e]!==void 0:SW.call(t,e)}var Ww=qW;var IW="__lodash_hash_undefined__";function DW(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Lt&&t===void 0?IW:t,this}var Fw=DW;function zi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}zi.prototype.clear=kw;zi.prototype.delete=Rw;zi.prototype.get=Lw;zi.prototype.has=Ww;zi.prototype.set=Fw;var Tm=zi;function NW(){this.__data__=[],this.size=0}var Bw=NW;function PW(e,t){for(var r=e.length;r--;)if(Fi(e[r][0],t))return r;return-1}var pr=PW;var EW=Array.prototype,CW=EW.splice;function AW(e){var t=this.__data__,r=pr(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():CW.call(t,r,1),--this.size,!0}var Hw=AW;function kW(e){var t=this.__data__,r=pr(t,e);return r<0?void 0:t[r][1]}var Uw=kW;function RW(e){return pr(this.__data__,e)>-1}var Yw=RW;function LW(e,t){var r=this.__data__,i=pr(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var $w=LW;function Qi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Qi.prototype.clear=Bw;Qi.prototype.delete=Hw;Qi.prototype.get=Uw;Qi.prototype.has=Yw;Qi.prototype.set=$w;var mr=Qi;var WW=Fe(ge,"Map"),gr=WW;function FW(){this.size=0,this.__data__={hash:new Tm,map:new(gr||mr),string:new Tm}}var Gw=FW;function BW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Vw=BW;function HW(e,t){var r=e.__data__;return Vw(t)?r[typeof t=="string"?"string":"hash"]:r.map}var hr=HW;function UW(e){var t=hr(this,e).delete(e);return this.size-=t?1:0,t}var zw=UW;function YW(e){return hr(this,e).get(e)}var Qw=YW;function $W(e){return hr(this,e).has(e)}var Kw=$W;function GW(e,t){var r=hr(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var Xw=GW;function Ki(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Ki.prototype.clear=Gw;Ki.prototype.delete=zw;Ki.prototype.get=Qw;Ki.prototype.has=Kw;Ki.prototype.set=Xw;var ii=Ki;var VW="Expected a function";function jm(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(VW);var r=function(){var i=arguments,n=t?t.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var o=e.apply(this,i);return r.cache=a.set(n,o)||a,o};return r.cache=new(jm.Cache||ii),r}jm.Cache=ii;var Zw=jm;var zW=500;function QW(e){var t=Zw(e,function(i){return r.size===zW&&r.clear(),i}),r=t.cache;return t}var Jw=QW;var KW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XW=/\\(\\)?/g,ZW=Jw(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(KW,function(r,i,n,a){t.push(n?a.replace(XW,"$1"):i||r)}),t}),e_=ZW;function JW(e){return e==null?"":iw(e)}var t_=JW;function eF(e,t){return ae(e)?e:Vi(e,t)?[e]:e_(t_(e))}var Ho=eF;var tF=1/0;function rF(e){if(typeof e=="string"||xt(e))return e;var t=e+"";return t=="0"&&1/e==-tF?"-0":t}var vr=rF;function iF(e,t){t=Ho(t,e);for(var r=0,i=t.length;e!=null&&r<i;)e=e[vr(t[r++])];return r&&r==i?e:void 0}var Uo=iF;function nF(e,t,r){var i=e==null?void 0:Uo(e,t);return i===void 0?r:i}var r_=nF;function aF(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}var Xi=aF;var i_=Oe?Oe.isConcatSpreadable:void 0;function oF(e){return ae(e)||Yi(e)||!!(i_&&e&&e[i_])}var n_=oF;function a_(e,t,r,i,n){var a=-1,o=e.length;for(r||(r=n_),n||(n=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?a_(s,t-1,r,i,n):Xi(n,s):i||(n[n.length]=s)}return n}var o_=a_;function sF(e){var t=e==null?0:e.length;return t?o_(e,1):[]}var qe=sF;var uF=Bo(Object.getPrototypeOf,Object),Yo=uF;function lF(){this.__data__=new mr,this.size=0}var s_=lF;function dF(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var u_=dF;function fF(e){return this.__data__.get(e)}var l_=fF;function cF(e){return this.__data__.has(e)}var d_=cF;var pF=200;function mF(e,t){var r=this.__data__;if(r instanceof mr){var i=r.__data__;if(!gr||i.length<pF-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new ii(i)}return r.set(e,t),this.size=r.size,this}var f_=mF;function Zi(e){var t=this.__data__=new mr(e);this.size=t.size}Zi.prototype.clear=s_;Zi.prototype.delete=u_;Zi.prototype.get=l_;Zi.prototype.has=d_;Zi.prototype.set=f_;var xr=Zi;function gF(e,t){return e&&cr(t,yt(t),e)}var c_=gF;function hF(e,t){return e&&cr(t,Gi(t),e)}var p_=hF;var m_=typeof exports=="object"&&exports&&!exports.nodeType&&exports,g_=m_&&typeof module=="object"&&module&&!module.nodeType&&module,vF=g_&&g_.exports===m_,h_=vF?ge.Buffer:void 0,v_=h_?h_.allocUnsafe:void 0;function xF(e,t){if(t)return e.slice();var r=e.length,i=v_?v_(r):new e.constructor(r);return e.copy(i),i}var x_=xF;function yF(e,t){for(var r=-1,i=e==null?0:e.length,n=0,a=[];++r<i;){var o=e[r];t(o,r,e)&&(a[n++]=o)}return a}var y_=yF;function wF(){return[]}var $o=wF;var _F=Object.prototype,bF=_F.propertyIsEnumerable,w_=Object.getOwnPropertySymbols,OF=w_?function(e){return e==null?[]:(e=Object(e),y_(w_(e),function(t){return bF.call(e,t)}))}:$o,Ji=OF;function MF(e,t){return cr(e,Ji(e),t)}var __=MF;var TF=Object.getOwnPropertySymbols,jF=TF?function(e){for(var t=[];e;)Xi(t,Ji(e)),e=Yo(e);return t}:$o,Go=jF;function SF(e,t){return cr(e,Go(e),t)}var b_=SF;function qF(e,t,r){var i=t(e);return ae(e)?i:Xi(i,r(e))}var Vo=qF;function IF(e){return Vo(e,yt,Ji)}var Xn=IF;function DF(e){return Vo(e,Gi,Go)}var O_=DF;var NF=Fe(ge,"DataView"),zo=NF;var PF=Fe(ge,"Promise"),Qo=PF;var EF=Fe(ge,"Set"),yr=EF;var M_="[object Map]",CF="[object Object]",T_="[object Promise]",j_="[object Set]",S_="[object WeakMap]",q_="[object DataView]",AF=kt(zo),kF=kt(gr),RF=kt(Qo),LF=kt(yr),WF=kt(ko),ni=it;(zo&&ni(new zo(new ArrayBuffer(1)))!=q_||gr&&ni(new gr)!=M_||Qo&&ni(Qo.resolve())!=T_||yr&&ni(new yr)!=j_||ko&&ni(new ko)!=S_)&&(ni=function(e){var t=it(e),r=t==CF?e.constructor:void 0,i=r?kt(r):"";if(i)switch(i){case AF:return q_;case kF:return M_;case RF:return T_;case LF:return j_;case WF:return S_}return t});var Wt=ni;var FF=Object.prototype,BF=FF.hasOwnProperty;function HF(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&BF.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var I_=HF;var UF=ge.Uint8Array,en=UF;function YF(e){var t=new e.constructor(e.byteLength);return new en(t).set(new en(e)),t}var tn=YF;function $F(e,t){var r=t?tn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var D_=$F;var GF=/\w*$/;function VF(e){var t=new e.constructor(e.source,GF.exec(e));return t.lastIndex=e.lastIndex,t}var N_=VF;var P_=Oe?Oe.prototype:void 0,E_=P_?P_.valueOf:void 0;function zF(e){return E_?Object(E_.call(e)):{}}var C_=zF;function QF(e,t){var r=t?tn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var A_=QF;var KF="[object Boolean]",XF="[object Date]",ZF="[object Map]",JF="[object Number]",eB="[object RegExp]",tB="[object Set]",rB="[object String]",iB="[object Symbol]",nB="[object ArrayBuffer]",aB="[object DataView]",oB="[object Float32Array]",sB="[object Float64Array]",uB="[object Int8Array]",lB="[object Int16Array]",dB="[object Int32Array]",fB="[object Uint8Array]",cB="[object Uint8ClampedArray]",pB="[object Uint16Array]",mB="[object Uint32Array]";function gB(e,t,r){var i=e.constructor;switch(t){case nB:return tn(e);case KF:case XF:return new i(+e);case aB:return D_(e,r);case oB:case sB:case uB:case lB:case dB:case fB:case cB:case pB:case mB:return A_(e,r);case ZF:return new i;case JF:case rB:return new i(e);case eB:return N_(e);case tB:return new i;case iB:return C_(e)}}var k_=gB;function hB(e){return typeof e.constructor=="function"&&!Ui(e)?gw(Yo(e)):{}}var R_=hB;var vB="[object Map]";function xB(e){return Ce(e)&&Wt(e)==vB}var L_=xB;var W_=Rt&&Rt.isMap,yB=W_?$i(W_):L_,F_=yB;var wB="[object Set]";function _B(e){return Ce(e)&&Wt(e)==wB}var B_=_B;var H_=Rt&&Rt.isSet,bB=H_?$i(H_):B_,U_=bB;var OB=1,MB=2,TB=4,Y_="[object Arguments]",jB="[object Array]",SB="[object Boolean]",qB="[object Date]",IB="[object Error]",$_="[object Function]",DB="[object GeneratorFunction]",NB="[object Map]",PB="[object Number]",G_="[object Object]",EB="[object RegExp]",CB="[object Set]",AB="[object String]",kB="[object Symbol]",RB="[object WeakMap]",LB="[object ArrayBuffer]",WB="[object DataView]",FB="[object Float32Array]",BB="[object Float64Array]",HB="[object Int8Array]",UB="[object Int16Array]",YB="[object Int32Array]",$B="[object Uint8Array]",GB="[object Uint8ClampedArray]",VB="[object Uint16Array]",zB="[object Uint32Array]",X={};X[Y_]=X[jB]=X[LB]=X[WB]=X[SB]=X[qB]=X[FB]=X[BB]=X[HB]=X[UB]=X[YB]=X[NB]=X[PB]=X[G_]=X[EB]=X[CB]=X[AB]=X[kB]=X[$B]=X[GB]=X[VB]=X[zB]=!0;X[IB]=X[$_]=X[RB]=!1;function Ko(e,t,r,i,n,a){var o,s=t&OB,u=t&MB,l=t&TB;if(r&&(o=n?r(e,i,n,a):r(e)),o!==void 0)return o;if(!Ae(e))return e;var d=ae(e);if(d){if(o=I_(e),!s)return vw(e,o)}else{var f=Wt(e),c=f==$_||f==DB;if(ri(e))return x_(e,s);if(f==G_||f==Y_||c&&!n){if(o=u||c?{}:R_(e),!s)return u?b_(e,p_(o,e)):__(e,c_(o,e))}else{if(!X[f])return n?e:{};o=k_(e,f,s)}}a||(a=new xr);var m=a.get(e);if(m)return m;a.set(e,o),U_(e)?e.forEach(function(w){o.add(Ko(w,t,r,w,e,a))}):F_(e)&&e.forEach(function(w,O){o.set(O,Ko(w,t,r,O,e,a))});var g=l?u?O_:Xn:u?Gi:yt,y=d?void 0:g(e);return xw(y||e,function(w,O){y&&(O=w,w=e[O]),Lo(o,O,Ko(w,t,r,O,e,a))}),o}var V_=Ko;var QB=4;function KB(e){return V_(e,QB)}var Sm=KB;var XB="__lodash_hash_undefined__";function ZB(e){return this.__data__.set(e,XB),this}var z_=ZB;function JB(e){return this.__data__.has(e)}var Q_=JB;function Xo(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ii;++t<r;)this.add(e[t])}Xo.prototype.add=Xo.prototype.push=z_;Xo.prototype.has=Q_;var Zo=Xo;function eH(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}var K_=eH;function tH(e,t){return e.has(t)}var Jo=tH;var rH=1,iH=2;function nH(e,t,r,i,n,a){var o=r&rH,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var f=-1,c=!0,m=r&iH?new Zo:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var g=e[f],y=t[f];if(i)var w=o?i(y,g,f,t,e,a):i(g,y,f,e,t,a);if(w!==void 0){if(w)continue;c=!1;break}if(m){if(!K_(t,function(O,T){if(!Jo(m,T)&&(g===O||n(g,O,r,i,a)))return m.push(T)})){c=!1;break}}else if(!(g===y||n(g,y,r,i,a))){c=!1;break}}return a.delete(e),a.delete(t),c}var es=nH;function aH(e){var t=-1,r=Array(e.size);return e.forEach(function(i,n){r[++t]=[n,i]}),r}var X_=aH;function oH(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var rn=oH;var sH=1,uH=2,lH="[object Boolean]",dH="[object Date]",fH="[object Error]",cH="[object Map]",pH="[object Number]",mH="[object RegExp]",gH="[object Set]",hH="[object String]",vH="[object Symbol]",xH="[object ArrayBuffer]",yH="[object DataView]",Z_=Oe?Oe.prototype:void 0,qm=Z_?Z_.valueOf:void 0;function wH(e,t,r,i,n,a,o){switch(r){case yH:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xH:return!(e.byteLength!=t.byteLength||!a(new en(e),new en(t)));case lH:case dH:case pH:return Fi(+e,+t);case fH:return e.name==t.name&&e.message==t.message;case mH:case hH:return e==t+"";case cH:var s=X_;case gH:var u=i&sH;if(s||(s=rn),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;i|=uH,o.set(e,t);var d=es(s(e),s(t),i,n,a,o);return o.delete(e),d;case vH:if(qm)return qm.call(e)==qm.call(t)}return!1}var J_=wH;var _H=1,bH=Object.prototype,OH=bH.hasOwnProperty;function MH(e,t,r,i,n,a){var o=r&_H,s=Xn(e),u=s.length,l=Xn(t),d=l.length;if(u!=d&&!o)return!1;for(var f=u;f--;){var c=s[f];if(!(o?c in t:OH.call(t,c)))return!1}var m=a.get(e),g=a.get(t);if(m&&g)return m==t&&g==e;var y=!0;a.set(e,t),a.set(t,e);for(var w=o;++f<u;){c=s[f];var O=e[c],T=t[c];if(i)var q=o?i(T,O,c,t,e,a):i(O,T,c,e,t,a);if(!(q===void 0?O===T||n(O,T,r,i,a):q)){y=!1;break}w||(w=c=="constructor")}if(y&&!w){var P=e.constructor,L=t.constructor;P!=L&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof L=="function"&&L instanceof L)&&(y=!1)}return a.delete(e),a.delete(t),y}var eb=MH;var TH=1,tb="[object Arguments]",rb="[object Array]",ts="[object Object]",jH=Object.prototype,ib=jH.hasOwnProperty;function SH(e,t,r,i,n,a){var o=ae(e),s=ae(t),u=o?rb:Wt(e),l=s?rb:Wt(t);u=u==tb?ts:u,l=l==tb?ts:l;var d=u==ts,f=l==ts,c=u==l;if(c&&ri(e)){if(!ri(t))return!1;o=!0,d=!1}if(c&&!d)return a||(a=new xr),o||Wo(e)?es(e,t,r,i,n,a):J_(e,t,u,r,i,n,a);if(!(r&TH)){var m=d&&ib.call(e,"__wrapped__"),g=f&&ib.call(t,"__wrapped__");if(m||g){var y=m?e.value():e,w=g?t.value():t;return a||(a=new xr),n(y,w,r,i,a)}}return c?(a||(a=new xr),eb(e,t,r,i,n,a)):!1}var nb=SH;function ab(e,t,r,i,n){return e===t?!0:e==null||t==null||!Ce(e)&&!Ce(t)?e!==e&&t!==t:nb(e,t,r,i,ab,n)}var rs=ab;var qH=1,IH=2;function DH(e,t,r,i){var n=r.length,a=n,o=!i;if(e==null)return!a;for(e=Object(e);n--;){var s=r[n];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++n<a;){s=r[n];var u=s[0],l=e[u],d=s[1];if(o&&s[2]){if(l===void 0&&!(u in e))return!1}else{var f=new xr;if(i)var c=i(l,d,u,e,t,f);if(!(c===void 0?rs(d,l,qH|IH,i,f):c))return!1}}return!0}var ob=DH;function NH(e){return e===e&&!Ae(e)}var is=NH;function PH(e){for(var t=yt(e),r=t.length;r--;){var i=t[r],n=e[i];t[r]=[i,n,is(n)]}return t}var sb=PH;function EH(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var ns=EH;function CH(e){var t=sb(e);return t.length==1&&t[0][2]?ns(t[0][0],t[0][1]):function(r){return r===e||ob(r,e,t)}}var ub=CH;function AH(e,t){return e!=null&&t in Object(e)}var lb=AH;function kH(e,t,r){t=Ho(t,e);for(var i=-1,n=t.length,a=!1;++i<n;){var o=vr(t[i]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++i!=n?a:(n=e==null?0:e.length,!!n&&Bi(n)&&Ro(o,n)&&(ae(e)||Yi(e)))}var db=kH;function RH(e,t){return e!=null&&db(e,t,lb)}var fb=RH;var LH=1,WH=2;function FH(e,t){return Vi(e)&&is(t)?ns(vr(e),t):function(r){var i=r_(r,e);return i===void 0&&i===t?fb(r,e):rs(t,i,LH|WH)}}var cb=FH;function BH(e){return function(t){return t==null?void 0:t[e]}}var pb=BH;function HH(e){return function(t){return Uo(t,e)}}var mb=HH;function UH(e){return Vi(e)?pb(vr(e)):mb(e)}var gb=UH;function YH(e){return typeof e=="function"?e:e==null?dr:typeof e=="object"?ae(e)?cb(e[0],e[1]):ub(e):gb(e)}var wr=YH;function $H(e,t,r,i){for(var n=-1,a=e==null?0:e.length;++n<a;){var o=e[n];t(i,o,r(o),e)}return i}var hb=$H;function GH(e){return function(t,r,i){for(var n=-1,a=Object(t),o=i(t),s=o.length;s--;){var u=o[e?s:++n];if(r(a[u],u,a)===!1)break}return t}}var vb=GH;var VH=vb(),xb=VH;function zH(e,t){return e&&xb(e,t,yt)}var yb=zH;function QH(e,t){return function(r,i){if(r==null)return r;if(!Hi(r))return e(r,i);for(var n=r.length,a=t?n:-1,o=Object(r);(t?a--:++a<n)&&i(o[a],a,o)!==!1;);return r}}var wb=QH;var KH=wb(yb),_b=KH;function XH(e,t,r,i){return _b(e,function(n,a,o){t(i,n,r(n),o)}),i}var bb=XH;function ZH(e,t){return function(r,i){var n=ae(r)?hb:bb,a=t?t():{};return n(r,e,wr(i,2),a)}}var nn=ZH;function JH(e,t,r){for(var i=-1,n=e==null?0:e.length;++i<n;)if(r(t,e[i]))return!0;return!1}var Ob=JH;var e5=Math.max;function t5(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var n=r==null?0:Eo(r);return n<0&&(n=e5(i+n,0)),Wi(e,wr(t,3),n)}var Zn=t5;var r5=Math.max,i5=Math.min;function n5(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var n=i-1;return r!==void 0&&(n=Eo(r),n=r<0?r5(i+n,0):i5(n,i-1)),Wi(e,wr(t,3),n,!0)}var Jn=n5;var a5=Object.prototype,o5=a5.hasOwnProperty,s5=nn(function(e,t,r){o5.call(e,r)?e[r].push(t):fr(e,r,[t])}),as=s5;function u5(e,t){return e>t}var Mb=u5;var l5=nn(function(e,t,r){fr(e,r,t)}),os=l5;function d5(e,t){return e<t}var ss=d5;function f5(e,t,r){for(var i=-1,n=e.length;++i<n;){var a=e[i],o=t(a);if(o!=null&&(s===void 0?o===o&&!xt(o):r(o,s)))var s=o,u=a}return u}var an=f5;function c5(e){return e&&e.length?an(e,dr,Mb):void 0}var on=c5;function p5(e,t){for(var r,i=-1,n=e.length;++i<n;){var a=t(e[i]);a!==void 0&&(r=r===void 0?a:r+a)}return r}var Tb=p5;function m5(e){return e&&e.length?an(e,dr,ss):void 0}var ea=m5;function g5(e,t){return e&&e.length?an(e,wr(t,2),ss):void 0}var Im=g5;var h5=nn(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),sn=h5;function v5(e){return e&&e.length?Tb(e,dr):0}var he=v5;var x5=1/0,y5=yr&&1/rn(new yr([,-0]))[1]==x5?function(e){return new yr(e)}:hw,jb=y5;var w5=200;function _5(e,t,r){var i=-1,n=bw,a=e.length,o=!0,s=[],u=s;if(r)o=!1,n=Ob;else if(a>=w5){var l=t?null:jb(e);if(l)return rn(l);o=!1,n=Jo,u=new Zo}else u=t?[]:s;e:for(;++i<a;){var d=e[i],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var c=u.length;c--;)if(u[c]===f)continue e;t&&u.push(f),s.push(d)}else n(u,f,r)||(u!==s&&u.push(f),s.push(d))}return s}var Sb=_5;function b5(e){return e&&e.length?Sb(e):[]}var ai=b5;var ye=e=>e.filter(t=>t!=null);function us(e,t,r){let i=e.get(t);return i===void 0&&(i=r(),e.set(t,i)),i}function ls(e,t,r,i){if(t>0){let n=Jn(e,i,t-1);if(n!==-1)return n}if(r&&t<e.length-1){let n=Jn(e.slice(t+1),i);return n===-1?void 0:n+t+1}}function ds(e,t,r,i){if(t<e.length-1){let n=Zn(e,i,t+1);if(n!==-1)return n}if(r&&t>0){let n=Zn(e.slice(0,t),i);return n===-1?void 0:n}}var qb=e=>new Promise(t=>{setTimeout(t,e)});var Be=M(require("fs")),cO=M(require("os")),pO=M(Fb()),Tr=M(require("path")),mO=M(require("readline")),gO=M(H0()),Ze=M(require("util"));var js=M(require("child_process")),uO=M(sO()),Ss=(e,t,r)=>{let i=(0,js.spawn)(e,t,r),n="";return i.stdout.on("data",a=>{n+=a.toString()}),new Promise((a,o)=>{i.stdout.on("error",s=>{o(s)}),i.stdout.on("end",()=>{a(n)})})},pg=(e,t)=>new Promise((r,i)=>{(0,js.exec)(e,t,(n,a)=>{if(n)return i(n);r(a.toString("utf8"))})});function mg(e){return process.platform==="win32"?`"${e.replace(/"/g,'\\"')}"`:(/[^A-Za-z0-9_\/:=-]/.test(e)&&(e="'"+e.replace(/'/g,"'\\''")+"'",e=e.replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")),e)}var ua=async e=>{try{await(0,uO.default)(e)}catch(t){return!1}return!0};var Ge=process.platform==="win32",Cye=process.platform==="darwin",Aye=process.platform==="linux";var qs=M(require("coc.nvim"));var A=qs.workspace.getConfiguration("explorer"),Is=(e=Ns(qs.workspace.cwd))=>qs.workspace.getConfiguration("explorer",e);var gg=e=>{let t=e.get("file.autoReveal");return t!==void 0?I.error("`explorer.file.autoReveal` has been deprecated, please use explorer.file.reveal.auto instead of it"):t=e.get("file.reveal.auto"),t},Ds=(e,t)=>{if(t!==void 0)return t;let r=e.get("file.revealWhenOpen");return r!==void 0?I.error("`explorer.file.autoReveal` has been deprecated, please use explorer.file.reveal.whenOpen instead of it"):r=e.get("file.reveal.whenOpen"),r};function lO(e){return{get config(){return e},get(t,r){return this.config.get(t,r)}}}var hU=async e=>{let{default:t}=await Promise.resolve().then(()=>M(require("trash")));await t(e,{glob:!1})},dO=class{constructor(){this.inited=!1;this.placeholders={list:"%l",sourceFile:"%s"};this.exec_=async()=>{}}async init(){if(this.inited)return;let t=A.get("trash.command");if(t==="nodejs:module"){this.exec_=async a=>{await hU(a)};return}let r=t.match(/^([^\s]+)/),i=r==null?void 0:r[1];if(!i){this.exec_=async()=>{throw new Error("'explorer.trash.command' must not be empty")};return}let n=async a=>{if(!await ua(a))throw new Error(`command(${a}) does not exist`)};t.includes(this.placeholders.list)?this.exec_=async a=>{await n(i);let o=a.map(s=>mg(s)).join(" ");await pg(t.replace(new RegExp(this.placeholders.list,"g"),o))}:t.includes(this.placeholders.sourceFile)&&(this.exec_=async a=>{await n(i);for(let o of a.map(s=>mg(s)))await pg(t.replace(new RegExp(this.placeholders.sourceFile,"g"),o))}),this.inited=!0}async exec(t){await this.init(),await this.exec_(t)}},fO=new dO;var hO=M(fn()),vU=(0,Ze.promisify)(Be.default.open),xU=(0,Ze.promisify)(Be.default.close),vO=async e=>await xU(await vU(e,"w")),gn=pO.default,hn=(0,Ze.promisify)(Be.default.readdir),xO=(0,Ze.promisify)(Be.default.readlink),la=(e,t)=>new Promise(r=>{Be.default.access(e,t,i=>{r(!i)})}),Ps=(0,Ze.promisify)(Be.default.writeFile),yO=(0,Ze.promisify)(Be.default.readFile),Es=la,di=(0,Ze.promisify)(Be.default.stat),fi=(0,Ze.promisify)(Be.default.lstat),yU=(0,Ze.promisify)(Be.default.copyFile),hg=(0,Ze.promisify)(Be.default.rename),wO=(0,Ze.promisify)(gO.default),Cs=async e=>{await fO.exec(typeof e=="string"?[e]:e)};async function vg(e,t){if((await fi(e)).isDirectory()){await gn(t);let i=await hn(e);for(let n of i)await vg(Tr.default.join(e,n),Tr.default.join(t,n))}else await yU(e,t)}async function _O(e,t,r){let i=await hn(e);for(let n of i){let a=Tr.default.join(e,n),o=Tr.default.join(t,n);if(await Es(o)){let s=await fi(a),u=await fi(o);s.isDirectory()&&u.isDirectory()?await _O(a,o,r):(await Cs(o),await r(a,o))}else await r(a,o)}}async function ci(e,t,r){let i=async(n,a)=>{await gn(Tr.default.dirname(a)),await r(n,a)};for(let n=0,a=t.length;n<a;n++){let c=function(){n=a},o=t[n].source,s=t[n].target;if(!await Es(s)){await i(o,s);continue}let u=typeof o=="string"?await fi(o):void 0,l=await fi(s);async function d(){let g=await at(`Rename: ${s} ->`,s,"file");if(!g){n-=1;return}return i(o,g)}async function f(){return await Cs(s),i(o,s)}async function m(g={}){var w;g=re(E({skip:void 0,rename:d,"force replace":f},g),{quit:c});let y=await nt(`${e[0].toUpperCase()}${e.slice(1)}: ${s} already exists.`,Object.keys(g));if(y&&y in g)return(w=g[y])==null?void 0:w.call(g)}o&&(u==null?void 0:u.isDirectory())?l.isDirectory()?await m({merge:()=>_O(o,s,i),"one by one":async()=>{let y=(await hn(o)).map(w=>({source:w,target:Tr.default.join(s,Tr.default.basename(w))}));await ci(e,y,r)}}):await m():l.isDirectory()?await m():await m()}}function bO(e,t,r){if(!Be.default.existsSync(e))return Promise.reject(new Error(`file does not exist: ${e}`));let i=[],n=Be.default.createReadStream(e,{encoding:"utf8"}),a=mO.default.createInterface({input:n,crlfDelay:1/0,terminal:!1}),o=0;return new Promise((s,u)=>{n.on("error",u),a.on("line",l=>{o===0&&l.startsWith("\uFEFF")&&(l=l.slice(1)),o>=t&&o<=r&&i.push(l),o===r&&a.close(),o=o+1}),a.on("close",()=>{s(i)}),a.on("error",u)})}async function xg(e,t){try{let r=await hn(e);for(let i of t)if(i.includes("*")?hO.default.match(r,i,{nobrace:!0,noext:!0,nocomment:!0,nonegate:!0,dot:!0}).length!==0:r.includes(i))return!0}catch{}return!1}function jr(e){let t=cO.default.homedir();return e.startsWith(t)?"~"+e.slice(t.length):e}async function As(){if(Ge)return(await Ss("wmic",["logicaldisk","get","name"])).split(`
`).map(r=>r.trim()).filter(r=>r.endsWith(":")).map(r=>r+"\\");throw new Error("not support listDrive in "+process.platform)}var OO=M(require("os")),Sr=M(require("path"));function ks(e){let t=Sr.default.basename(e).split("."),[r,...i]=t;if(r)return{basename:r,extensions:i};{let[n,...a]=i;return{basename:[r,n].join("."),extensions:a}}}function ve(e){let t=Sr.default.normalize(e);return t[0]==="~"&&(t=Sr.default.join(OO.default.homedir(),t.slice(1))),Ge&&/[a-z]:/.test(t)&&(t=t[0].toUpperCase()+t.slice(1)),t}function Rs(e,t){let r=ve(Sr.default.resolve(e)),i=ve(Sr.default.resolve(t));return r==="//"&&(r="/"),r.endsWith(Sr.default.sep)?i.startsWith(r):i.startsWith(r)&&i[r.length]===Sr.default.sep}var vn=class{},yg=new vn;function xn(e,t,r={}){let i=wU(e,t,r),n=(...a)=>{i(...a).catch(I.error)};return n.cancel=i.cancel,n}function wU(e,t,{leading:r=!0,trailing:i=!1}={}){let n,a,o=async(...s)=>{let u=()=>new Promise((l,d)=>{a={cancel(){l(yg),a=void 0},async invoke(){try{l(await t(...s))}catch(f){d(f)}finally{a=void 0}}}});return n===void 0?(n=setTimeout(()=>{a==null||a.invoke(),n=void 0},e),r?t(...s):u()):i?(a==null||a.cancel(),u()):yg};return o.cancel=()=>{a==null||a.cancel()},o}function ot(e,t){let r=da(e,t),i=(...n)=>{r(...n).catch(I.error)};return i.cancel=r.cancel,i}function da(e,t){let r,i,n=async(...a)=>(i==null||i.cancel(),r=setTimeout(async()=>{i==null||i.invoke()},e),await new Promise((o,s)=>{i={cancel(){r&&(clearTimeout(r),r=void 0),o(yg),i=void 0},async invoke(){try{r=void 0,i=void 0,o(await t(...a))}catch(u){s(u)}}}}));return n.cancel=()=>{i==null||i.cancel()},n}var MO=M(pe()),He=M(require("coc.nvim"));function wg(){return He.workspace.floatSupported}function TO(){return He.workspace.isNvim&&wg()}async function st(){return!!await He.workspace.nvim.getOption("wrapscan")}async function jO(e){let{nvim:t}=He.workspace;(await t.getOption("runtimepath")).split(",").includes(e)||await t.command(`execute 'noa set rtp+='.fnameescape('${e.replace(/'/g,"''")}')`)}async function SO(e){return await He.workspace.nvim.call("strdisplaywidth",[e])}async function pi(e,t,r){return await He.workspace.nvim.call("coc_explorer#util#strdisplayslice",[e,t,r!=null?r:void 0])}function _g(e){return MO.Notifier.create(()=>{He.workspace.nvim.call("coc_explorer#util#close_win_by_bufnr",e,!0)})}async function fa(e){if(!!e)return He.workspace.nvim.call("bufwinnr",e).then(t=>{if(t>0)return t})}async function bg(e){if(!e)return;let t=await He.workspace.nvim.call("win_getid",e);if(t>=0)return t}async function Og(e){if(e)return He.workspace.nvim.createWindow(e)}async function Ls(e){if(!e)return;let t=await He.workspace.nvim.call("winbufnr",e);if(t>=0)return t}async function Mg(e){return await He.workspace.nvim.call("win_findbuf",[e])}async function ut(){return He.workspace.nvim.call("bufnr")}var yn=M(require("coc.nvim"));var ca;async function _U(){return ca||(ca=yn.extensions.all.find(e=>e.id==="coc-floatinput")),ca==null?void 0:ca.exports}async function qO(){var e;if(!!A.get("enableFloatinput"))return(e=await _U())==null?void 0:e.FloatingUI}async function bU(e,t,r){t||(t=["yes","no"],r="no");let i=r?t.indexOf(r):-1,n=await yn.workspace.nvim.call("confirm",[e,t.map(a=>{let o=[...a].findIndex(s=>/[A-Z]/.test(s));return o===-1&&(o=0),a.slice(0,o)+"&"+a[o].toUpperCase()+a.slice(o+1)}).join(`
`),i+1]);if(n!==0)return t[n-1]}async function nt(e,t,r){let i=await qO();return i?i.confirm({prompt:e,values:t,defaultValue:r}):bU(e,t,r)}async function OU(e,t="",r=void 0){return yn.workspace.nvim.callAsync("coc#util#with_callback",["input",[e+" ",t,r]])}async function at(e,t="",r=void 0){var n;let i=await qO();return i?(n=await i.stringInput({prompt:e,defaultValue:t}))!=null?n:"":OU(e,t,r)}async function Ws(e,t,{onSelect:r,noChoice:i,onCancel:n}){var s,u,l;let a=e.get("openAction.select.filter");if(a.sources){let d=a.sources[t];d&&(a=E(E({},a),d))}let o=await yn.workspace.nvim.call("coc_explorer#select_wins#start",[(s=a.buftypes)!=null?s:[],(u=a.filetypes)!=null?u:[],(l=a.floatingWindows)!=null?l:!0]);o>0?await Promise.resolve(r(o)):o===0?await Promise.resolve(i==null?void 0:i()):await Promise.resolve(n==null?void 0:n())}function Ns(e,t="file"){return t==="file"&&Ge&&/^[A-Za-z]:/.test(e)&&(e="/"+e),t+"://"+e}var kO=M(ma());function Bs(e,t,r,i){return{red:e,green:t,blue:r,alpha:i}}function EU(e,t){let r=(e.red+t.red)/2,i=e.red-t.red,n=e.green-t.green,a=e.blue-t.blue;return Math.sqrt(((512+r)*i*i>>8)+4*n*n+((767-r)*a*a>>8))}function Sg(e,t,r=i=>i){return Im(t,i=>EU(r(i),e))}function ga(e){e=e.trim(),e[0]==="#"&&(e=e.slice(1));let t=e.match(/.{1,2}/g);if(!t)return;let[r,i,n]=t;return Bs(parseInt(r,16),parseInt(i,16),parseInt(n,16),1)}function ha(e){return kO.default.rgb.hex(e.red,e.green,e.blue)}var I=new RO.HelperLogger("explorer");var _t=M(require("coc.nvim"));var Hs=Symbol("arg"),va,LO=class extends _t.BasicList{constructor(t){super(_t.workspace.nvim);xy(this,va,void 0);this.name=t.name,yy(this,va,(i,n)=>t.loadItems(this[Hs],i,n)),t.doHighlight&&(this.doHighlight=t.doHighlight),t.defaultAction&&(this.defaultAction=t.defaultAction);let r={addAction:(i,n,a)=>this.addAction(i,(o,s)=>n({arg:this[Hs],item:o,context:s}),a),addLocationActions:()=>this.addLocationActions(),convertLocation:i=>this.convertLocation(i)};t.init.call(r,r)}loadItems(t,r){return vy(this,va).call(this,t,r)}};Hs,va=new WeakMap;function qr(e){return new LO(e)}async function mi(e,t,r,i=[]){t[Hs]=r;let n=e.config,a=e.nvim,o=e.explorerManager.bufManager,s=n.get("floating.hideOnCocList",!0),u=!0;e.isFloating&&s&&(await e.hide(),u=!1);let l=new _t.Emitter,d=_t.listManager.registerList(t);return await a.command(`CocList ${i.join(" ")} ${t.name}`),d.dispose(),{async waitExplorerShow(){await o.waitReload();let f=_t.events.on("BufEnter",async()=>{let c=o.getBufferNode(`list:///${t.name}`);c&&await fa(c.bufnr)||(f.dispose(),e.isFloating&&!u&&(await qb(200),await e.show(),l.fire()))});if(!u)return new Promise(c=>{l.event(()=>{u=!0,c(void 0)})})}}}function CU(e,t){let r=e.indexOf(t);return r===-1?-1:e.length-r}var _n=qg.workspace.createMru("explorer-actions"),WO=qr({name:"explorerActionList",defaultAction:"do",async loadItems(e){let t=await _n.load(),r=e.map(i=>({label:`${i.name} [${i.key||""}] ${i.description}`,data:re(E({},i),{score:CU(t,i.name)})}));return r.sort((i,n)=>n.data.score-i.data.score),r},doHighlight(){let{nvim:e}=qg.workspace;e.pauseNotification(),e.command("syntax match CocExplorerActionName /\\v^[a-zA-Z0-9:|<>]+/",!0),e.command("syntax match CocExplorerActionKey /\\v\\[.*\\]/",!0),e.command("syntax match CocExplorerActionDescription /\\v\\] \\zs.*/",!0),e.command("highlight default link CocExplorerActionName PreProc",!0),e.command("highlight default link CocExplorerActionKey Identifier",!0),e.command("highlight default link CocExplorerActionDescription Comment",!0),e.resumeNotification().catch(I.error)},init(){this.addAction("do",({item:e})=>{new Promise(async t=>{let r=e.data;await r.callback(),await _n.add(r.name),t(void 0)}).catch(I.error)})}});var xa=M(require("coc.nvim"));var bn={"expandable?":{filter:(e,t)=>t.expandable,getHelpDescription:()=>"expandable?"},"expanded?":{filter:(e,t)=>e.view.isExpanded(t),getHelpDescription:()=>"expanded?"},"type?":{filter:(e,t,r)=>t.type===r[0],getHelpDescription:e=>`type is ${e[0]}`}},gi={name:"wait",helpDescription:"<wait>"},Ir={name:"noop",helpDescription:"<noop>"};function AU(e){if(typeof e!="string")return e;let[t,...r]=e.split(/:/);return{name:t,args:r}}function FO(e){let{name:t,args:r}=e;return[t,...r].join(":")}function BO(e){return e.includes("<dot>")?e.replace(/\<dot\>/g,"."):e}function hi(e){return Array.isArray(e)?e.map(hi):AU(e)}function HO(e){let t={};for(let[r,i]of Object.entries(e))t[BO(r)]=hi(i);return t}function Us(e,t){let r=HO(e);for(let[i,n]of Object.entries(t)){if(n===!1){delete r[i];continue}r[BO(i)]=hi(n)}return r}function Ig(e){return Array.isArray(e)?e.map(r=>Ig(r)).filter(r=>r&&!(r.name in bn)&&r.name!==gi.name&&r.name!==Ir.name)[0]:e}var UO=class{constructor(){this.mode=A.get("keyMappingMode","default");this.mouseMappings={none:{},singleclick:{"<LeftRelease>":["expandable?",["expanded?","collapse","expand"],"open"]},doubleclick:{"<2-LeftMouse>":["expandable?",["expanded?","collapse","expand"],"open"]}}[A.get("mouseMode")];this.configByModes={none:{global:{},vmap:{},sources:{}},default:{global:re(E({"*":"toggleSelection","<tab>":"actionMenu",h:["wait","collapse"],l:["wait","expandable?","expand","open"],J:["wait","toggleSelection","normal:j"],K:["wait","toggleSelection","normal:k"],gl:["wait","expand:recursive"],gh:["wait","collapse:recursive"]},this.mouseMappings),{o:["wait","expanded?","collapse","expand"],"<cr>":["wait","expandable?","cd","open"],e:"open",s:"open:split",E:"open:vsplit",t:"open:tab","<bs>":["wait","gotoParent"],gs:["wait","reveal:select"],il:"preview:labeling",ic:"preview:content",Il:"previewOnHover:toggle:labeling",Ic:"previewOnHover:toggle:content",II:"previewOnHover:disable",yp:"copyFilepath",yn:"copyFilename",yy:"copyFile",yY:"copyFile:replace",dd:"cutFile",dD:"cutFile:replace",p:"pasteFile",df:"delete",dF:"deleteForever",a:"addFile",A:"addDirectory",r:"rename",zh:"toggleHidden","g<dot>":"toggleHidden",R:"refresh","?":"help",q:"quit","<esc>":"esc",X:"systemExecute",gd:"listDrive",f:"search",F:"search:recursive",gf:"gotoSource:file",gb:"gotoSource:buffer","[[":["wait","sourcePrev"],"]]":["wait","sourceNext"],"[i":["wait","indentPrev"],"]i":["wait","indentNext"],"[m":["wait","markPrev:modified"],"]m":["wait","markNext:modified"],"[d":["wait","markPrev:diagnosticError:diagnosticWarning"],"]d":["wait","markNext:diagnosticError:diagnosticWarning"],"[D":["wait","markPrev:diagnosticError"],"]D":["wait","markNext:diagnosticError"],"[c":["wait","markPrev:gitUnstaged:gitStaged"],"]c":["wait","markNext:gitUnstaged:gitStaged"],"[C":["wait","markPrev:gitUnstaged"],"]C":["wait","markNext:gitUnstaged"],"<<":"gitStage",">>":"gitUnstage"}),vmap:{il:"textobj:line:i",al:"textobj:line:a",ii:"textobj:indent:i",ai:"textobj:indent:a"},sources:{}}}}get config(){return this.configByModes[this.mode]}globalMappings(){return this.globalMappings_||(this.globalMappings_=Us(this.config.global,E({},A.get("keyMappings.global",{})))),this.globalMappings_}vmapMappings(){return this.vmapMappings_||(this.vmapMappings_=Us(this.config.vmap,E({},A.get("keyMappings.vmap",{})))),this.vmapMappings_}allSourceMappings(){var t;if(!this.allSourceMappings_){let r=(t=this.config.sources)!=null?t:{},i=A.get("keyMappings.sources",{});this.allSourceMappings_=new Map;for(let[n,a]of Object.entries(r))this.allSourceMappings_.set(n,E({},HO(a)));for(let[n,a]of Object.entries(i)){let o=this.allSourceMappings_.get(n);o?this.allSourceMappings_.set(n,Us(o,a)):this.allSourceMappings_.set(n,Us({},a))}}return this.allSourceMappings_}sourceMappings(t){return this.allSourceMappings().get(t)}async filterEscForVim(t){xa.workspace.isVim&&!await xa.workspace.nvim.call("has",["gui_running"])&&t.delete("<esc>")}async getCommonKeys(){let t=new Set;for(let r of Object.keys(this.globalMappings()))t.add(r);for(let r of this.allSourceMappings().values())for(let i of Object.keys(r))t.add(i);return await this.filterEscForVim(t),t}async getVisualKeys(){let t=new Set;for(let r of Object.keys(this.vmapMappings()))t.add(r);return t}getActionExp(t,r,i){var s,u,l;let n=this.vmapMappings(),a=this.globalMappings(),o=this.sourceMappings(t);return i==="v"?(u=(s=n==null?void 0:n[r])!=null?s:o==null?void 0:o[r])!=null?u:a[r]:(l=o==null?void 0:o[r])!=null?l:a[r]}async getMappings(t){let r=this.globalMappings(),i=this.vmapMappings(),n=this.sourceMappings(t),a=E(E({},r),n);return xa.workspace.isVim&&!await xa.workspace.nvim.call("has",["gui_running"])&&delete a["<esc>"],{all:a,vmap:i}}async getReversedMappings(t){let r=await this.getMappings(t),i={};return Object.entries(r.all).find(([n,a])=>{let o=Ig(a);if(o){let s=FO(o);i[s]||(i[s]={}),i[s].all=n}}),Object.entries(r.vmap).find(([n,a])=>{let o=Ig(a);if(o){let s=FO(o);i[s]||(i[s]={}),i[s].vmap=n}}),i}},lt=new UO;function YO(e,t){let r=e.indexOf(t);return r===-1?-1:e.length-r}var Dg=class{constructor(t){this.explorerManager=t}async provideCodeActions(t,r,i,n){let a=await this.explorerManager.currentExplorer();if(!a)return[];let o=await a.view.currentSource();if(!o)return[];let s=await lt.getReversedMappings(o.sourceType),u=o.action.registeredActions(),l=await _n.load();return qe([...u.entries()].filter(([d])=>d!=="actionMenu").sort(([d],[f])=>d.localeCompare(f)).sort(([d],[f])=>d.localeCompare(f)).map(([d,{options:f}])=>{var y;let c=s[d],m=c?(y=c.vmap)!=null?y:c.all:"",g=[{title:`${d} [${m}]`,name:d,command:"explorer.doCodeAction",arguments:[d,d,async()=>[]],score:YO(l,d)}];return f.menus&&g.push(...lr.getNormalizeMenus(f.menus).map(w=>{var P;let O=d+":"+w.args,T=s[O],q=T?(P=T.vmap)!=null?P:T.all:"";return{title:`${O} [${q}]`,name:O,command:"explorer.doCodeAction",arguments:[O,d,()=>w.actionArgs()],score:YO(l,O)}})),g})).sort((d,f)=>f.score-d.score)}};var Ys=M(pe()),Dr=M(require("coc.nvim"));var Je=(e,t,r,i)=>{let n=Dr.events.on(e,I.asyncCatch(t),r),a=Dr.Disposable.create(()=>{typeof t.cancel=="function"&&t.cancel(),n.dispose()});return i&&i.push(a),a};function vi(e,t,r){let i=0,n=t!==0?ot(t,a=>{if(a!==i)return i=a,e(a)}):e;return Je("BufEnter",n,void 0,r)}function Ng(e,t,r){let i=xn(t,e,{leading:!1,trailing:!0});return Je("CursorMoved",i,void 0,r)}var ya=new Ys.HelperVimEvents({BufDelete:{eventExpr:"BufDelete *",argExprs:['+expand("<abuf>")']},ColorScheme:{eventExpr:"ColorScheme *",argExprs:["g:colors_name"]},BufWipeout:{eventExpr:"BufWipeout *",argExprs:['+expand("<abuf>")']},CocDiagnosticChange:{eventExpr:"User CocDiagnosticChange"},CocGitStatusChange:{eventExpr:"User CocGitStatusChange"},FugitiveChanged:{eventExpr:"User FugitiveChanged"},CocBookmarkChange:{eventExpr:"User CocBookmarkChange"}},I,{name:"explorer"}),$t=ya.events,Zwe=new Dr.Emitter;function Pg(e){return Ys.Notifier.create(()=>{Dr.workspace.nvim.call("coc_explorer#util#do_autocmd",[e],!0)})}async function $s(e){await Pg(e).run()}var Lk=M(pe()),St=M(require("coc.nvim"));var GO=M(require("coc.nvim"));var $O=M(require("coc.nvim"));async function Gs(e){let t=await $O.workspace.nvim.eval('get(g:, "coc_explorer_global_presets", {})');return new Map(Object.entries(E(E({},t),e.get("presets"))).map(([r,i])=>[r,new Map(Object.entries(i))]))}var On=class{constructor(t){this.args=t;this.optionValues=new Map}static registerOption(t,r={}){let i=E({type:r.position===void 0?"string":"positional",name:t},r);return this.registeredOptions.set(t,i),i}static registerBoolOption(t,r){let i={type:"boolean",name:t,getDefault:typeof r=="boolean"?()=>r:r};return this.registeredOptions.set(t,i),this.registeredOptions.set("no-"+t,i),i}static async parse(t,r){var l,d;let i=new On(t),n=[...t],a=1;for(;n.length>0;){let f=n.shift();if(f.startsWith("--")){let m,g;/^--[\w-]+=/.test(f)?[m,g]=Gy(f.slice(2),"=",2):m=f.slice(2);let y=this.registeredOptions.get(m);if(!y)throw Error(`coc-explorer command no support option(${m})`);if(g===void 0){if(y.type==="boolean"){i.optionValues.set(y.name,!m.startsWith("no-"));continue}else if(g=n.shift(),g===void 0)continue}i.optionValues.set(y.name,y.parseArg?await y.parseArg(g):g);continue}let c=Array.from(this.registeredOptions.values()).find(m=>m.position===a);c&&i.optionValues.set(c.name,c.parseArg?await c.parseArg(f):f),a+=1}let o=i.optionValues.get("preset");if(!o)return i;let u=(await Gs(r)).get(o);if(!u)return GO.window.showMessage(`coc-explorer preset(${o}) not found`,"warning"),i;for(let[f,c]of u){if(i.optionValues.has(f)||c===void 0)continue;let m=this.registeredOptions.get(f);m&&i.optionValues.set(f,(d=(l=m.parsePreset)==null?void 0:l.call(m,c))!=null?d:c)}return i}has(t){return this.optionValues.has(t.name)}async value(t){var i,n,a,o,s;let r;if(this.optionValues.has(t.name))r=this.optionValues.get(t.name);else if(On.registeredOptions.has(t.name))r=await((n=(i=On.registeredOptions.get(t.name))==null?void 0:i.getDefault)==null?void 0:n.call(i));else throw new Error(`Argument(${t.name}) not found`);return(s=(o=(a=On.registeredOptions.get(t.name))==null?void 0:a.handler)==null?void 0:o.call(a,r))!=null?s:r}async values(t){return(await Promise.all(Object.entries(t).map(async([i,n])=>[i,await this.value(n)]))).reduce((i,[n,a])=>(i[n]=a,i),{})}},B=On;B.registeredOptions=new Map;var Re={rootUri:B.registerOption("root-uri",{position:1}),rootStrategies:B.registerOption("root-strategies",{parseArg:e=>e.split(","),getDefault:()=>A.get("root.strategies")}),toggle:B.registerBoolOption("toggle",()=>A.get("toggle")),openActionStrategy:B.registerOption("open-action-strategy",{getDefault:()=>A.get("openAction.strategy")}),focus:B.registerBoolOption("focus",()=>A.get("focus")),quit:B.registerBoolOption("quit",!1),quitOnOpen:B.registerBoolOption("quit-on-open",()=>A.get("quitOnOpen")),reveal:B.registerOption("reveal",{handler:e=>e&&ve(e)}),revealWhenOpen:B.registerBoolOption("reveal-when-open"),preset:B.registerOption("preset"),sources:B.registerOption("sources",{parseArg:e=>e.split(",").map(t=>{let r=!1,i;return t.endsWith("+")?(r=!0,i=t.slice(0,t.length-1)):t.endsWith("-")?(r=!1,i=t.slice(0,t.length-1)):i=t,{name:i,expand:r}}),getDefault:()=>A.get("sources")}),position:B.registerOption("position",{parseArg:e=>{let[t,r]=e.split(":");return{name:t,arg:r}},parsePreset:e=>Array.isArray(e)?{name:e[0],arg:e[0]}:typeof e=="string"?{name:e}:e,getDefault:()=>{let e=A.get("position");return Array.isArray(e)?{name:e[0],arg:e[1]}:{name:e}}}),width:B.registerOption("width",{parseArg:e=>parseInt(e,10),getDefault:()=>A.get("width")}),contentWidth:B.registerOption("content-width",{parseArg:e=>parseInt(e,10),getDefault:()=>A.get("contentWidth")}),contentWidthType:B.registerOption("content-width-type",{getDefault:()=>A.get("contentWidthType")}),floatingPosition:B.registerOption("floating-position",{parseArg:e=>["left-center","right-center","center","center-top"].includes(e)?e:e.split(",").map(t=>parseInt(t,10)),getDefault:()=>A.get("floating.position")}),floatingWidth:B.registerOption("floating-width",{parseArg:e=>parseInt(e,10),getDefault:()=>A.get("floating.width")}),floatingHeight:B.registerOption("floating-height",{parseArg:e=>parseInt(e,10),getDefault:()=>A.get("floating.height")}),floatingContentWidth:B.registerOption("floating-content-width",{parseArg:e=>parseInt(e,10),getDefault:()=>A.get("floating.contentWidth")})};var Gt=M(require("coc.nvim")),Vs=M(require("path"));var kU=/^\s*(\d+)(.+?)"(.+?)".*/,Eg=class{constructor(t,r){this.explorerManager=r;this.bufferNodes=[];this.onReload=t=>this.reloadEvent.event(t);this.onModified=t=>this.modifiedEvent.event(t);this.bufferNodeMapByFullpath=new Map;this.bufferNodeMapById=new Map;this.nvim=Gt.workspace.nvim;this.reloadEvent=new Gt.Emitter;this.modifiedEvent=new Gt.Emitter;t.subscriptions.push(Je(["BufCreate","BufHidden","BufUnload","BufWinEnter","BufWinLeave"],xn(100,()=>this.reload(),{leading:!1,trailing:!0})),Je("BufWritePost",async i=>{await this.reload();let n=this.bufferNodeMapById.get(i);n&&this.modifiedEvent.fire(n.fullpath)}),$t.on("BufDelete",()=>this.reload()),$t.on("BufWipeout",()=>this.reload()),...["TextChanged","TextChangedI","TextChangedP"].map(i=>Je(i,async n=>{let a=this.bufferNodeMapById.get(n);if(!a)return;let o=this.nvim.createBuffer(n),s=await Gt.workspace.nvim.eval(`bufloaded(${o.id}) ? getbufvar(${o.id}, '&modified') : v:null`);s===null||a.modified===s||(a.modified=s,this.modifiedEvent.fire(a.fullpath))})))}async removeBufNode(t,r){if(!r.skipModified&&t.modified)throw new Error("The content of buffer has not been saved!");let{nvim:i}=this,n=await i.call("win_getid",[]),a=await Mg(t.bufnr);if(a.length){i.pauseNotification();for(let o of a)i.call("win_gotoid",[o],!0),i.command("enew",!0),Gt.workspace.isVim&&i.command("redraw",!0);i.call("win_gotoid",[n],!0),await i.resumeNotification()}r.bwipeout?await i.command(`bwipeout! ${t.bufnr}`):await i.command(`bdelete! ${t.bufnr}`)}async removePrefix(t,r){for(let[i,n]of this.bufferNodeMapByFullpath)i.startsWith(t)&&await this.removeBufNode(n,r)}async remove(t,r){if(r.directory)return this.removePrefix(t+Vs.default.sep,r);{let i=this.bufferNodeMapByFullpath.get(t);if(!i)return;await this.removeBufNode(i,r)}}async replaceBufNode(t,r,i){if(!i.skipModified&&t.modified)throw new Error("The content of buffer has not been saved!");let{nvim:n}=this,a=await n.call("win_getid",[]),o=await Mg(t.bufnr);if(o.length){let s=await n.call("fnameescape",[r]);n.pauseNotification();for(let u of o)n.call("win_gotoid",[u],!0),n.command(`edit ${s}`,!0),Gt.workspace.isVim&&n.command("redraw",!0);n.call("win_gotoid",[a],!0),await n.resumeNotification()}i.bwipeout?await n.command(`bwipeout! ${t.bufnr}`):await n.command(`bdelete! ${t.bufnr}`)}async replacePrefix(t,r,i){for(let[n,a]of this.bufferNodeMapByFullpath)if(n.startsWith(t)){let o=a.fullpath.replace(t,r);await this.replaceBufNode(a,o,i)}}async replace(t,r,i){return this.replacePrefix(t,r,i)}modified(t,r){var i,n;return r.directory?this.modifiedPrefix(t+Vs.default.sep):(n=(i=this.bufferNodeMapByFullpath.get(t))==null?void 0:i.modified)!=null?n:!1}modifiedPrefix(t){for(let[r,i]of this.bufferNodeMapByFullpath)if(r.startsWith(t)&&i.modified)return!0;return!1}getBufferNode(t){return typeof t=="number"?this.bufferNodeMapById.get(t):this.bufferNodeMapByFullpath.get(t)}async waitReload(){return new Promise(t=>{let r=this.onReload(()=>{r.dispose(),t()});setTimeout(t,100)})}async reload(){let t="ls!",r=await this.nvim.call("execute",t);this.bufferNodes=ye(await Promise.all(r.split(/\n/).map(async i=>{let n=i.match(kU);if(!n)return;let a=n[1],o=n[2],s=n[3],u=await Gt.workspace.nvim.call("expand",[`#${a}:p`,1]);return{type:"child",uid:a,level:1,bufnr:parseInt(a),bufnrStr:a,bufname:s,fullpath:u,name:Vs.default.basename(s),unlisted:o.includes("u"),current:o.includes("%"),previous:o.includes("#"),visible:o.includes("a"),hidden:o.includes("h"),modifiable:!o.includes("-"),readonly:o.includes("="),terminal:o.includes("R")||o.includes("F")||o.includes("?"),modified:o.includes("+"),readErrors:o.includes("x")}}))),this.bufferNodeMapByFullpath=this.bufferNodes.reduce((i,n)=>(i.set(n.fullpath,n),i),new Map),this.bufferNodeMapById=this.bufferNodes.reduce((i,n)=>(i.set(n.bufnr,n),i),new Map),this.reloadEvent.fire()}};var Cg=class{getExplorer(t){return this[t.name]}setExplorer(t,r){this[t.name]=r}all(){let t=[];return this.left&&t.push(this.left),this.right&&t.push(this.right),this.tab&&t.push(this.tab),this.floating&&t.push(this.floating),t}};var VO=M(require("coc.nvim")),zs="coc_explorer_context",Ag=class{constructor(t){this.name=t}async set(t){let r=await this.read();t===void 0?Reflect.deleteProperty(r,this.name):Reflect.set(r,this.name,t),await this.write(r)}async get(){let t=await this.read();return Reflect.get(t,this.name)}},wa=class extends Ag{constructor(t,r){super(t);this.name=t;this.buffer=r}async read(){return await this.buffer.getVar(zs)||{}}async write(t){await this.buffer.setVar(zs,t)}};var Qs=class extends Ag{constructor(){super(...arguments);this.nvim=VO.workspace.nvim}async read(){var t;return(t=await this.nvim.getVar(zs))!=null?t:{}}async write(t){await this.nvim.setVar(zs,t)}};var mt=M(pe()),et=M(require("coc.nvim")),kk=M(Lg());var JO=M(ZO()),eM=M(require("coc.nvim"));var _a=class{constructor(t){this.owner=t;this.actions=new Map}addNodesAction(t,r,i,n={}){this.actions.set(t,{callback:r,description:i,options:E({select:!0},n)})}addNodeAction(t,r,i,n={}){this.actions.set(t,{callback:async({source:a,nodes:o,args:s,mode:u})=>{for(let l of o)await r.call(a,{source:a,node:l,args:s,mode:u})},description:i,options:n})}};var Bg=class extends _a{constructor(t){super(t);this.waitActionMutex=new JO.Mutex;this.explorer=this.owner}get locator(){return this.explorer.locator}async doActionByKey(t,r,i=1){for(let n=0;n<i;n++){let a=await this.explorer.getSelectedOrCursorLineIndexes(r),o=this.explorer.lineIndexesGroupBySource(a);for(let{source:s,lineIndexes:u}of o){let l=lt.getActionExp(s.sourceType,t,r);l&&await this.doActionExp(l,{mode:r,lineIndexes:u})}}await this.explorer.view.emitRequestRenderNodes()}async doActionExp(t,r={}){var o,s;let i=(o=r.count)!=null?o:1,n=(s=r.mode)!=null?s:"n",a=r.lineIndexes?new Set(r.lineIndexes):await this.explorer.getSelectedOrCursorLineIndexes(n);try{for(let u=0;u<i;u++){let l=u===0?a:await this.explorer.getSelectedOrCursorLineIndexes(n),d=new Map;for(let f of l){let{source:c}=this.explorer.findSourceByLineIndex(f);d.has(c)||d.set(c,[]);let m=f-c.view.startLineIndex;d.get(c).push(c.view.flattenedNodes[m])}for(let[f,c]of d)await f.action.doActionExp(t,c,{mode:n})}}catch(u){eM.window.showMessage(`Error when do action ${JSON.stringify(t)}`,"error"),I.error(u)}}async nodePrev(t="default",r){let i=async(n,a,o)=>{let s=ls(n,a,await st(),r);s!==void 0&&await this.locator.gotoLineIndex(o+s)};if(t==="insideSource"){let n=await this.explorer.view.currentSource();if(!n)return;await i(n.view.flattenedNodes,n.view.currentLineIndex,n.view.startLineIndex)}else await i(this.explorer.view.flattenedNodes,this.explorer.view.currentLineIndex,0)}async nodeNext(t="default",r){let i=async(n,a,o)=>{let s=ds(n,a,await st(),r);s!==void 0&&await this.locator.gotoLineIndex(o+s)};if(t==="insideSource"){let n=await this.explorer.view.currentSource();if(!n)return;await i(n.view.flattenedNodes,n.view.currentLineIndex,n.view.startLineIndex)}else await i(this.explorer.view.flattenedNodes,this.explorer.view.currentLineIndex,0)}};var Kg=M(pe()),TM=M(require("coc.nvim"));var fM=M(require("coc.nvim")),bt=M(require("path"));var xi=M(require("coc.nvim")),Hg=M(require("path"));var S;(function(d){d.mixed="*",d.unmodified=" ",d.modified="M",d.added="A",d.deleted="D",d.renamed="R",d.copied="C",d.unmerged="U",d.untracked="?",d.ignored="!"})(S||(S={}));var Nr;(function(r){r[r.directory=0]="directory",r[r.file=1]="file"})(Nr||(Nr={}));var se;(function(d){d[d.staged=0]="staged",d[d.ahead=1]="ahead",d[d.behind=2]="behind",d[d.conflicted=3]="conflicted",d[d.untracked=4]="untracked",d[d.stashed=5]="stashed",d[d.modified=6]="modified",d[d.added=7]="added",d[d.renamed=8]="renamed",d[d.deleted=9]="deleted"})(se||(se={}));var LU=(e,t)=>e.x===t.x&&e.y===t.y,WU=(e,t)=>e.allStaged!==t.allStaged?!1:e.formats.join(",")===t.formats.join(","),Ug=class{constructor(){this.sourcesBinding=new Map;this.prevStatusesMapInRoot=new Map;this.prevIgnoresMapInRoot=new Map;this.prevRootStatuses=new Map;this.registerForSourceDisposables=[];this.registerDisposables=[];this.inited=!1;this.reloadDebounceChecker=da(200,()=>{});this.reloadDebounceArgs={sources:new Set,directories:new Set}}get explorerManager(){if(!this.explorerManager_)throw new Error("ExplorerSource(explorerManager) is not bound yet");return this.explorerManager_}get sources(){return Array.from(this.sourcesBinding.keys())}get refTotalCount(){return he(Array.from(this.sourcesBinding.values()).map(t=>t.refCount))}init_(t){this.inited||(this.inited=!0,this.explorerManager_=t.explorer.explorerManager)}bind(t){this.init_(t);let r=us(this.sourcesBinding,t,()=>({refCount:0}));return r.refCount+=1,r.refCount===1&&(this.registerForSourceDisposables=this.registerForSource(t)),this.refTotalCount===1&&(this.registerDisposables=this.register()),xi.Disposable.create(()=>{r.refCount-=1,r.refCount===0&&((0,xi.disposeAll)(this.registerForSourceDisposables),this.registerForSourceDisposables=[]),this.refTotalCount===0&&((0,xi.disposeAll)(this.registerDisposables),this.registerDisposables=[])})}register(){return[...["CocGitStatusChange","FugitiveChanged"].map(t=>$t.on(t,async()=>{await this.reloadDebounce(this.sources,xi.workspace.cwd)})),Je("BufWritePost",ot(500,async t=>{var i;let r=(i=this.explorerManager.bufManager.getBufferNode(t))==null?void 0:i.fullpath;if(r){let n=Hg.default.dirname(r);await this.reloadDebounce(this.sources,n)}}))]}registerForSource(t){return[t.events.on("loaded",async r=>{let i="isRoot"in r?t.root:r.expandable?r.fullpath:r.fullpath&&Hg.default.dirname(r.fullpath);i&&this.reloadDebounce([t],i).catch(I.error)})]}async reloadDebounce(t,r){t.forEach(n=>{this.reloadDebounceArgs.sources.add(n)}),this.reloadDebounceArgs.directories.add(r),!(await this.reloadDebounceChecker()instanceof vn)&&(await this.reload([...this.reloadDebounceArgs.sources],[...this.reloadDebounceArgs.directories]),this.reloadDebounceArgs.sources.clear(),this.reloadDebounceArgs.directories.clear())}async reload(t,r){let i=await U.getGitRoots(r);if(!i.length)return;let n=new Set,a=new Set;for(let o of i){await U.reload(o);let s=U.getMixedStatusesByRoot(o),u=U.getIgnoreByRoot(o),l=U.getRootStatus(o)||{allStaged:!1,formats:[]},d=this.prevStatusesMapInRoot.get(o);d||(d=new Map,this.prevStatusesMapInRoot.set(o,d));let f=this.prevIgnoresMapInRoot.get(o);f||(f=new Map,this.prevIgnoresMapInRoot.set(o,f));let c=this.prevRootStatuses.get(o);c||(c={allStaged:!1,formats:[]},this.prevRootStatuses.set(o,c));let m=(g,y)=>{y===Nr.directory?a.add(g.replace(/[\\/]$/,"")):n.add(g)};for(let[g,y]of s){let w=d.get(g);if(w&&LU(w,y)){d.delete(g);continue}n.add(g)}for(let g of d.keys())n.add(g);for(let[g,y]of u){if(f.get(g)===y){f.delete(g);continue}m(g,y)}for(let[g,y]of f)m(g,y);l&&!WU(c,l)&&n.add(o),this.prevStatusesMapInRoot.set(o,s),this.prevIgnoresMapInRoot.set(o,u),this.prevRootStatuses.set(o,l)}for(let o of t)await o.view.renderPaths([...n,{paths:a,withChildren:!0}])}};var lM=M(require("coc.nvim")),dM=M(uM()),Vg=M(require("path"));var Tn=class{static get binPath(){return A.get("git.command")}static async waitLoaded(){if(!this.loaded)return new Promise(t=>{this.onLoaded(t)})}static async preload(){try{await(0,dM.default)(this.binPath),this.available=!0}catch(t){this.available=!1}finally{this.loaded=!0,this.loadedEmitter.fire()}}get binPath(){return Tn.binPath}async available(){return await Tn.waitLoaded(),Tn.available}spawn(t,{cwd:r}={}){return Ss(this.binPath,t,{cwd:r})}async getRoot(t){let r=await di(t).catch(()=>{}),i=(r==null?void 0:r.isDirectory())?t:Vg.default.dirname(t),n=await this.spawn(["rev-parse","--show-toplevel"],{cwd:i});return ve(n.trim())}parseStatusFormat(t){var r;return(r=Object.values(S).find(i=>i===t))!=null?r:S.unmodified}parsePath(t,r){let i=0,n="",a=!1,o=!1,s=!1,u=[];for(;i<t.length;){let l=t[i];if(!a&&!o){l==='"'&&(o=!0,i+=1),n="",a=!0;continue}else o?s?(n+=l==="t"?"	":l,s=!1):l==='"'?(u.push(n),o=!1,a=!1):l==="\\"?s=!0:n+=l:l===" "&&r&&t.slice(i,i+4)===" -> "?(n.length&&u.push(n),i+=3,a=!1):n+=l;i+=1}return a&&(u.push(n),a=!1),u}parseStatusLine(t,r){let i=this.parseStatusFormat(r[0]),n=this.parseStatusFormat(r[1]),a=r.slice(3),o=[S.renamed,S.copied].includes(i)||[S.renamed,S.copied].includes(n),s=this.parsePath(a,o);return[i,n,...s.map(u=>Vg.default.join(t,u))]}async status(t,{showUntrackedFiles:r="system",showIgnored:i=!0}={}){let n=new Map,a=["status","--porcelain"];return r===!0?a.push("-u"):r===!1&&a.push("-uno"),i&&a.push("--ignored=matching"),(await this.spawn(a,{cwd:t})).split(`
`).forEach(u=>{if(!u)return;let[l,d,f,c]=this.parseStatusLine(t,u),m=l===S.untracked?S.unmodified:l,g=d===S.ignored?S.unmodified:d,y=[S.modified,S.added,S.deleted,S.renamed,S.copied],w=m===S.added||g===S.added,O=m===S.modified||g===S.modified,T=m===S.deleted||g===S.deleted,q=m===S.renamed||g===S.renamed,P=m===S.copied||g===S.copied,L=y.includes(m)&&g===S.unmodified,Ie=m===S.deleted&&g===S.deleted||m===S.added&&g===S.added||m===S.unmerged||g===S.unmerged,je=m===S.ignored,de=g===S.untracked,be=c||f;n.set(be,{fullpath:be,x:m,y:g,added:w,modified:O,deleted:T,renamed:q,copied:P,staged:L,unmerged:Ie,untracked:de,ignored:je})}),n}async stage(t){if(t.length){let r=await this.getRoot(t[0]);await this.spawn(["add",...t],{cwd:r})}}async unstage(t){if(t.length){let r=await this.getRoot(t[0]);await this.spawn(["reset",...t],{cwd:r})}}async fetch(t){await this.spawn(["fetch"],{cwd:t})}async hasPull(t){let r=await this.spawn(["rev-list","--count","@..@{upstream}"],{cwd:t});return parseInt(r)}async hasPush(t){let r=await this.spawn(["rev-list","--count","@{upstream}..@"],{cwd:t});return parseInt(r)}async hasStashed(t){return(await this.spawn(["stash","list"],{cwd:t})).split(/\n/g).length-1}async checkIgnore(t){if(!t.length)return[];let r=await this.getRoot(t[0]);return(await this.spawn(["check-ignore",...t],{cwd:r})).split(/\n/g)}},Vt=Tn;Vt.available=!1,Vt.loadedEmitter=new lM.Emitter,Vt.loaded=!1,Vt.onLoaded=Tn.loadedEmitter.event;var cM=class{constructor(){this.cmd=new Vt;this.rootCache=new Map;this.mixedStatusMapCacheInRoot=new Map;this.ignoreMapCacheInRoot=new Map;this.rootStatusCache=new Map;this.binder=new Ug;this.showIgnored=A.get("git.showIgnored"),this.showUntrackedFiles=A.get("file.git.showUntrackedFiles")}async getGitRoots(t){let r=[...new Set(t)],i=await Promise.all(r.map(n=>this.getGitRoot(n)));return ye(i)}async getGitRoot(t){let r=this.rootCache.get(t);if(r)return r;let i=t.split(bt.default.sep),n=i.indexOf(".git");if(n!==-1){let a=i.slice(0,n).join(bt.default.sep);this.rootCache.set(t,a)}else try{let a=await this.cmd.getRoot(t);bt.default.isAbsolute(a)?this.rootCache.set(t,a):bt.default.join(t,a)}catch(a){I.error(a);return}return this.rootCache.get(t)}async reload(t,r={}){var n,a;let i=await this.getGitRoot(t);if(i){let o={showIgnored:(n=r.showIgnored)!=null?n:this.showIgnored,showUntrackedFiles:(a=r.showUntrackedFiles)!=null?a:this.showUntrackedFiles},s=await this.cmd.status(i,o),u=[...s.values()],l={allStaged:!0,formats:[]};this.rootStatusCache.set(i,l),await this.cmd.hasStashed(i)&&l.formats.push(se.stashed),await this.cmd.hasPull(i)&&l.formats.push(se.behind),await this.cmd.hasPush(i)&&l.formats.push(se.ahead),u.some(c=>c.y===S.unmerged)&&l.formats.push(se.conflicted),u.some(c=>c.y===S.untracked)&&l.formats.push(se.untracked),u.some(c=>c.x===S.modified||c.y===S.modified)&&l.formats.push(se.modified),u.some(c=>c.x===S.added)&&l.formats.push(se.added),u.some(c=>c.x===S.renamed)&&l.formats.push(se.renamed),u.some(c=>c.x===S.deleted||c.y===S.deleted)&&l.formats.push(se.deleted),u.some(c=>c.y!==S.unmodified)&&(l.allStaged=!1);let d=new Map,f=new Map;this.mixedStatusMapCacheInRoot.set(i,d),this.ignoreMapCacheInRoot.set(i,f),s.forEach((c,m)=>{if(c.x===S.ignored){["/","\\"].includes(m[m.length-1])?f.set(m,Nr.directory):f.set(m,Nr.file);return}let y=bt.default.relative(i,m).split(bt.default.sep);for(let w=1;w<=y.length;w++){let O=bt.default.join(i,bt.default.join(...y.slice(0,w))),T=d.get(O);T?(T.x!==S.mixed&&T.x!==c.x&&(T.x===S.unmodified?T.x=c.x:c.x!==S.unmodified&&(T.x=S.mixed)),T.y!==S.mixed&&T.y!==c.y&&(T.y===S.unmodified?T.y=c.y:c.y!==S.unmodified&&(T.y=S.mixed))):d.set(O,{x:c.x,y:c.y})}})}return i}bindColumn(t){return A.get("git.enable")?this.binder.bind(t):fM.Disposable.create(()=>{})}getMixedStatusesByRoot(t){return this.mixedStatusMapCacheInRoot.get(t)||new Map}getIgnoreByRoot(t){return this.ignoreMapCacheInRoot.get(t)||new Map}getMixedStatus(t,r){let i=[...this.mixedStatusMapCacheInRoot.entries()].sort((a,o)=>o[0].localeCompare(a[0])).find(([a])=>t.startsWith(a));if(i){let a=i[1].get(t);if(a)return a}let n=[...this.ignoreMapCacheInRoot.entries()].sort((a,o)=>o[0].localeCompare(a[0])).find(([a])=>t.startsWith(a));if(n&&[...n[1].entries()].some(([s,u])=>u===Nr.file?s===t:(r?t+bt.default.sep:t).startsWith(s)))return{x:S.ignored,y:S.unmodified}}getRootStatus(t){return this.rootStatusCache.get(t)}},U=new cM;var pM=["line","indent"],mM=["i","a"],gM=["default","insideSource"],hM=["select","previousBuffer","previousWindow","sourceWindow","path"],vM=["select","split","split.plain","split.intelligent","vsplit","vsplit.plain","vsplit.intelligent","tab","previousBuffer","previousWindow","sourceWindow"],xM=["toggle","append","replace"],yM=["keepCopy","clear"],wM=["toggle","enable","disable"],zg=["labeling","content"],Xs=["keep","workspace","cwd","sourceBuffer","reveal"],_M=["recursive","noIgnore","strict"],bM=["recursive","compact","uncompact","recursiveSingle"],OM=["recursive","all"];var ba=M(pe()),Qg=M(require("coc.nvim"));async function MM(e,t,r,i,{openByWinnr:n,openStrategy:a,position:o}){if(r.expandable)return;let{nvim:s}=Qg.workspace,u=async()=>{let w=await i();return e.config.get("openAction.relativePath")&&(w=await s.call("fnamemodify",[w,":."])),await s.call("fnameescape",[w])},l,d=()=>e.tryQuitOnOpenNotifier();o==="keep"&&(l=await e.winid,d=()=>ba.Notifier.noop());let f=e.argValues.position,c=()=>{var w;if(o==="keep"){if(!l)return;s.call("win_gotoid",[l],!0)}else o&&s.call("cursor",[o.lineIndex+1,((w=o.columnIndex)!=null?w:0)+1],!0)},m=n!=null?n:async w=>{let O=await d(),T=await u();s.pauseNotification(),s.command(`${w}wincmd w`,!0),s.command(`edit ${T}`,!0),c(),Qg.workspace.isVim&&s.command("redraw",!0),O.notify(),await s.resumeNotification()},g=async(w,O)=>{let T=await e.winid;if(!T)return;let P=(await ba.WinLayoutFinder.create()).findWinid(T);if(P)if(P.parent&&P.parent.group.type==="row"){let L=P.parent.group.children[P.parent.indexInParent+(f.name==="left"?1:-1)];if(L){let Ie=ba.WinLayoutFinder.getFirstLeafWinid(L),je=await d(),de=await u();s.pauseNotification(),s.call("win_gotoid",[Ie],!0),s.command(`${w} ${de}`,!0),c(),je.notify(),await s.resumeNotification()}}else await y["vsplit.plain"]();else await y[O]()},y={select:async()=>{f.name==="floating"&&await e.hide(),await Ws(e.config,t.sourceType,{onSelect:async w=>{await m(w)},noChoice:async()=>{await y.vsplit()},onCancel:async()=>{f.name==="floating"&&await e.show()}})},split:()=>y["split.intelligent"](),"split.plain":async()=>{let w=await d(),O=await u();s.pauseNotification(),s.command(`split ${O}`,!0),c(),w.notify(),await s.resumeNotification()},"split.intelligent":async()=>{if(f.name==="floating"){await y["split.plain"]();return}else if(f.name==="tab"){await y.vsplit();return}await g("split","split.plain")},vsplit:()=>y["vsplit.intelligent"](),"vsplit.plain":async()=>{let w=await d(),O=await u();s.pauseNotification(),s.command(`vsplit ${O}`,!0),c(),w.notify(),await s.resumeNotification()},"vsplit.intelligent":async()=>{if(f.name==="floating"){await y["vsplit.plain"]();return}else if(f.name==="tab"){await y["vsplit.plain"]();return}await g("vsplit","vsplit.plain")},tab:async()=>{await e.tryQuitOnOpen(),s.pauseNotification(),s.command(`tabedit ${await u()}`,!0),c(),await s.resumeNotification()},previousBuffer:async()=>{let w=await e.explorerManager.prevWinnrByPrevBufnr();w?await m(w):await y.vsplit()},previousWindow:async()=>{let w=await e.explorerManager.prevWinnrByPrevWindowID();w?await m(w):await y.vsplit()},sourceWindow:async()=>{let w=await e.sourceWinnr();w?await m(w):await y.vsplit()}};a||(a=await e.args.value(Re.openActionStrategy)),y.hasOwnProperty(a)||new Error(`openStrategy(${a}) is not supported`),await y[a]()}function jM(e){let t=e.owner,r=t.locator,{nvim:i}=TM.workspace,n=[{name:"open strategy",description:vM.join(" | ")},{name:"open with position",description:"line-number,column-number | keep"}],a={select:"use select window UI","select:keep":"use select window UI, but keep cursor in explorer","split.plain":"use vim split","split.intelligent":"use split like vscode","vsplit.plain":"use vim vsplit","vsplit.intelligent":"use vim vsplit, but keep the explorer in the original position",tab:"vim tab",previousBuffer:"use last used buffer",previousWindow:"use last used window",sourceWindow:"use the window where explorer opened"};e.addNodeAction("open",async({source:l,node:d,args:f,mode:c})=>{if(d.expandable){let w=t.config.get("openAction.for.directory");w&&await t.action.doActionExp(hi(w),{mode:c,lineIndexes:[t.view.flattenedNodes.indexOf(d)]});return}let[m,g]=f,y;if(g==="keep")y=g;else if(g){let[w,O]=g.split(",").map(T=>parseInt(T,10));y={lineIndex:w},O&&(y.columnIndex=O)}else if(d.location){let{range:w}=d.location;y={lineIndex:w.start.line-1}}await MM(t,l,d,()=>d.fullpath,{openStrategy:m,position:y})},"open file or directory",{select:!0,args:n,menus:a}),e.addNodeAction("expand",async({source:l,node:d,args:f})=>{var c;if(d.expandable){let m=((c=f[0])!=null?c:"").split("|"),g=m.includes("recursive")||void 0,y=m.includes("compact")||void 0,w=m.includes("uncompact")||void 0,O=m.includes("recursiveSingle")||void 0;await l.view.expand(d,{recursive:g,compact:y,uncompact:w,recursiveSingle:O})}},"expand node",{select:!0,args:[{name:"expand options",description:bM.join(" | ")}],menus:{recursive:"recursively",compact:"single child folders will be compressed in a combined node",uncompact:"reset the combined node","compact|uncompact":"compact or uncompact",recursiveSingle:"expand single child folder recursively"}}),e.addNodeAction("collapse",async({source:l,node:d,args:f})=>{var y;let c=((y=f[0])!=null?y:"").split("|"),m=c.includes("all"),g=c.includes("recursive");if(m&&l.view.rootNode.children)for(let w of l.view.rootNode.children)w.expandable&&l.view.isExpanded(w)&&await l.action.doAction("collapse",w,c.filter(O=>O!=="all"));else d.expandable&&l.view.isExpanded(d)?await l.view.collapse(d,{recursive:g}):d.parent&&await l.view.collapse(d.parent,{recursive:g})},"collapse node",{select:!0,args:[{name:"collapse options",description:OM.join(" | ")}],menus:{recursive:"recursively",all:"for all nodes"}}),e.addNodesAction("gitStage",async({nodes:l,source:d})=>{let f=(0,Kg.compactI)(l.map(m=>m.fullpath));if(!f.length)return;await U.cmd.stage(f);let c=await U.getGitRoots(f);for(let m of c)await U.reload(m);d.view.requestRenderNodes([{nodes:l,withParents:!0,withChildren:!0}])},"add file to git index"),e.addNodesAction("gitUnstage",async({nodes:l,source:d})=>{let f=(0,Kg.compactI)(l.map(m=>m.fullpath));if(!f.length)return;await U.cmd.unstage(f);let c=await U.getGitRoots(f);for(let m of c)await U.reload(m);d.view.requestRenderNodes([{nodes:l,withParents:!0,withChildren:!0}])},"reset file from git index");let o=[{name:"move action options",description:gM.join(" | ")}],s={insideSource:"move inside current source"};e.addNodeAction("nodePrev",async({args:l})=>{if(l[0]==="insideSource"){let f=await t.view.currentSource();if(!f)return;await f.locator.gotoLineIndex(f.view.currentLineIndex-1)}else{let f=t.view.currentLineIndex;await r.gotoLineIndex(f-1)}},"previous node",{args:o,menus:s}),e.addNodeAction("nodeNext",async({args:l})=>{if(l[0]==="insideSource"){let f=await t.view.currentSource();if(!f)return;await f.locator.gotoLineIndex(f.view.currentLineIndex+1)}else{let f=t.view.currentLineIndex;await r.gotoLineIndex(f+1)}},"next node",{args:o,menus:s}),e.addNodeAction("expandablePrev",async({args:l})=>{await t.action.nodePrev(l[0],d=>!!d.expandable)},"previous expandable node",{args:o,menus:s}),e.addNodeAction("expandableNext",async({args:l})=>{await e.nodeNext(l[0],d=>!!d.expandable)},"next expandable node",{args:o,menus:s}),e.addNodeAction("indentPrev",async({node:l,args:d})=>{var c;let f=(c=l.level)!=null?c:0;await e.nodePrev(d[0],m=>m.level!==f)},"previous indent node",{args:o,menus:s}),e.addNodeAction("indentNext",async({node:l,args:d})=>{var c;let f=(c=l.level)!=null?c:0;await e.nodeNext(d[0],m=>m.level!==f)},"next indent node",{args:o,menus:s}),e.addNodeAction("gotoSource",async({args:l})=>{let d=t.sources.find(f=>f.sourceType===l[0]);d&&await d.locator.gotoLineIndex(0)},"go to source"),e.addNodeAction("sourceNext",async()=>{let l=t.sources[await t.view.currentSourceIndex()+1];l?await l.locator.gotoLineIndex(0):await st()&&await t.sources[0].locator.gotoLineIndex(0)},"go to next source"),e.addNodeAction("sourcePrev",async()=>{let l=t.sources[await t.view.currentSourceIndex()-1];l?await l.locator.gotoLineIndex(0):await st()&&await t.sources[t.sources.length-1].locator.gotoLineIndex(0)},"go to previous source"),e.addNodeAction("modifiedPrev",async()=>{await r.gotoPrevMark("modified")},"go to previous modified"),e.addNodeAction("modifiedNext",async()=>{await r.gotoNextMark("modified")},"go to next modified"),e.addNodeAction("diagnosticPrev",async()=>{await r.gotoPrevMark("diagnosticError","diagnosticWarning")},"go to previous diagnostic"),e.addNodeAction("diagnosticNext",async()=>{await r.gotoNextMark("diagnosticError","diagnosticWarning")},"go to next diagnostic"),e.addNodeAction("gitPrev",async()=>{await r.gotoPrevMark("git")},"go to previous git changed"),e.addNodeAction("gitNext",async()=>{await r.gotoNextMark("git")},"go to next git changed");let u={args:[{name:"mark name",description:"string"}],menus:{modified:"modified",diagnosticWarning:"diagnosticWarning",diagnosticError:"diagnosticError",git:"git"}};e.addNodeAction("markPrev",async({args:l})=>{await r.gotoPrevMark(...l)},"go to previous mark",u),e.addNodeAction("markNext",async({args:l})=>{await r.gotoNextMark(...l)},"go to next mark",u),e.addNodeAction("preview",async({source:l,node:d,args:f})=>{let c=f[0];if(!c)return;let m=l.view.getLineByNode(d);m!==void 0&&await t.floatingPreview.previewNode(c,l,d,m)},"preview",{args:[{name:"preview strategy",description:zg.join(" | ")}],menus:{labeling:"preview for node labeling",content:"preview for node content"}}),e.addNodeAction("previewOnHover",async({args:l})=>{let d=l[0];if(!d)return;let f=l[1];if(!f){d==="disable"&&t.floatingPreview.unregisterOnHover();return}let c=l[2]?parseInt(l[2]):0;d==="toggle"?t.floatingPreview.toggleOnHover(f,c):d==="enable"?t.floatingPreview.registerOnHover(f,c):t.floatingPreview.unregisterOnHover()},"preview on hover",{args:[{name:"sub action",description:wM.join(" | ")},{name:"preview strategy",description:zg.join(" | ")},{name:"delay",description:"delay millisecond"}],menus:{"toggle:labeling":"toggle labeling","toggle:labeling:200":"toggle labeling with debounce","toggle:content":"toggle content","enable:content":"enable with content","enable:labeling":"enable with labeling"}}),e.addNodeAction("textobj",async({node:l,args:d})=>{var m;let f=t.view.currentLineIndex,c=(m=d[0])!=null?m:"line";if(c==="line")await i.command("normal! V");else if(c==="indent"){let g=t.view.flattenedNodes,y=ls(g,f,await st(),O=>{var T,q;return((T=l.level)!=null?T:0)>((q=O.level)!=null?q:0)});if(y===void 0)return;let w=ds(g,f,await st(),O=>{var T,q;return((T=l.level)!=null?T:0)>((q=O.level)!=null?q:0)});if(w===void 0)return;await i.command(`normal! ${y+2}GV${w}G`)}},"use visual mode selects",{args:[{name:"target",description:pM.join(" | ")},{name:"type",description:mM.join(" | ")}],menus:{"line:i":"line:i","line:a":"line:a","indent:i":"indent:i","indent:a":"indent:a"}}),e.addNodeAction("select",async({source:l,node:d})=>{l.selectedNodes.add(d),l.view.requestRenderNodes([d])},"select node",{select:"visual"}),e.addNodeAction("unselect",async({source:l,node:d})=>{l.selectedNodes.delete(d),l.view.requestRenderNodes([d])},"unselect node",{select:"visual"}),e.addNodeAction("toggleSelection",async({source:l,node:d})=>{l.selectedNodes.has(d)?await l.action.doAction("unselect",d):await l.action.doAction("select",d)},"toggle node selection",{select:"visual"}),e.addNodeAction("toggleHidden",async({source:l})=>{l.showHidden=!l.showHidden},"toggle visibility of hidden node",{reload:!0}),e.addNodeAction("refresh",async({source:l})=>{l.selectedNodes.clear(),await l.view.sync(async d=>{let f=await l.loadNotifier(d,l.view.rootNode,{force:!0});i.pauseNotification(),l.highlight.clearHighlightsNotify(),f==null||f.notify(),await i.resumeNotification()})},"refresh"),e.addNodeAction("render",async({source:l,node:d})=>{await l.view.render({node:d})},"render"),e.addNodeAction("resize",async({source:l,node:d,args:f})=>{await(async()=>{if(t.isFloating){let[c]=f;if(!c)return;let[m,g]=c.split(/,|x/).map(O=>O.trim()),[y,w]=[m?parseInt(m):void 0,g?parseInt(g):void 0];await t.resize([y,w])}else{let[c]=f;if(!c)return;let m=parseInt(c);await t.resize([m])}})(),await t.render()},"resize",{args:[{name:"size",description:"widthxheight | width,height"}],menus:{path:{description:"resize the explorer window",args:"[size]",async actionArgs(){return[await at("input a the size:","20,10","file")]}}}}),e.addNodeAction("help",async({source:l})=>{await l.explorer.showHelp(l)},"show help"),e.addNodeAction("actionMenu",async({source:l,node:d})=>{await l.action.listActionMenu([d])},"show actions in coc-list"),e.addNodeAction("normal",async({args:l})=>{l[0]&&await i.command('execute "normal '+l[0]+'"')},"execute vim normal mode commands",{args:[{name:"normal commands"}],menus:{zz:"execute normal zz"}}),e.addNodeAction("esc",async({source:l,mode:d})=>{l.explorer.isFloating&&d==="n"?await l.explorer.quit():(l.view.requestRenderNodes(Array.from(l.selectedNodes)),l.selectedNodes.clear())},"esc action"),e.addNodeAction("quit",async()=>{await t.quit()},"quit explorer")}var _e=M(require("coc.nvim")),PM=M(IM());var DM=M(require("coc.nvim")),NM=M(pe()),Ma=class{constructor(t){this.win=t;this.bufnr=this.win.bufnr}static async create(t={}){let r=await NM.FloatingWindow.create({mode:"show",name:t.name});return new Ma(r)}dispose(){this.win.dispose()}async open(t,r,i){await this.win.open({top:i.top,left:i.left,width:i.width,height:i.height,winHl:"CocExplorerNormalFloat",winHlNC:"CocExplorerNormalFloat",borderWinHl:"CocExplorerNormalFloatBorder",lines:t,highlights:r,focus:!1,initedExecute:({winid:n})=>{let a=[];return DM.workspace.isNvim?(a.push(`
            let store_winid = win_getid(winnr())
            if store_winid != ${n}
              noau let successful = win_gotoid(${n})
              if !successful
                return
              endif
            endif
          `),a.push("set filetype="),i.focusLineIndex&&a.push(`call nvim_win_set_cursor(${i.focusLineIndex})`),!i.filetype&&i.filepath&&a.push(`execute 'doautocmd filetypedetect BufRead ' . fnameescape('${i.filepath}')`),i.filetype&&a.push(`set filetype=${i.filetype}`),a.push(`
            if store_winid != ${n}
              noau call win_gotoid(store_winid)
            endif
          `)):(a.push(`call win_execute(${n}, 'set filetype=')`),i.focusLineIndex&&a.push(`call win_execute(${n}, 'call cursor(${i.focusLineIndex}, 1)')`),!i.filetype&&i.filepath&&a.push(`call win_execute(${n}, 'doautocmd filetypedetect BufRead ' . fnameescape('${i.filepath}'))`),i.filetype&&a.push(`call win_execute(${n}, 'set filetype=${i.filetype}'`)),a.join(`
`)}})}async close(){await this.win.close()}};var Zg=class{constructor(t){this.explorer=t;this.shown=!1;this.disposables=[];this.preferTop=!1;this.onHoverStrategy=!1;this.nvim=_e.workspace.nvim;this.onHoverDisposables=[];this.registeredPreviewActions={};this.maxHeight=t.config.get("previewAction.content.maxHeight"),this.registerActions(),this.disposables.push(t.events.on("first-open-post",()=>{this.disposables.push(Je("BufWinLeave",async i=>{i===this.explorer.bufnr&&await this.close()}),vi(async i=>{var n;i!==this.explorer.bufnr&&i!==((n=this.previewWindow)==null?void 0:n.bufnr)&&await this.close()},200),Ng(async i=>{this.onHoverStrategy||i!==this.explorer.bufnr||await this.close()},200),_e.Disposable.create(()=>{(0,_e.disposeAll)(this.onHoverDisposables)}));let r=t.config.get("previewAction.onHover");!r||(Array.isArray(r)?this.registerOnHover(r[0],r[1]):this.registerOnHover(r))}))}dispose(){var t;(t=this.previewWindow)==null||t.dispose()}async getPreviewWindow(){return this.previewWindow||(this.previewWindow=await Ma.create()),this.previewWindow}async close(){var t;await((t=this.previewWindow)==null?void 0:t.close())}toggleOnHover(t,r){this.onHoverStrategy===t?this.unregisterOnHover():this.registerOnHover(t,r)}registerOnHover(t,r=300){if(this.onHoverStrategy===t)return;this.onHoverStrategy=t,(0,_e.disposeAll)(this.onHoverDisposables),this.onHoverDisposables=[];let i=async n=>{if(this.explorer.view.isHelpUI){await this.close();return}if(n!==this.explorer.bufnr)return;await this.explorer.view.refreshLineIndex();let a=await this.explorer.view.currentSource();if(!a)return;let o=a.view.currentNode();if(!o)return;let s=a.view.getLineByNode(o);s!==void 0&&await this.previewNode(t,a,o,s)};this.onHoverDisposables.push(Ng(i,r),vi(i,r)),ut().then(i).catch(I.error),_e.window.showMessage(`Preivew ${t} enabled`)}unregisterOnHover(){!this.onHoverStrategy||(this.onHoverStrategy=!1,(0,_e.disposeAll)(this.onHoverDisposables),this.onHoverDisposables=[],this.close().catch(I.error),_e.window.showMessage("Preview disabled "))}registerAction(t,r){this.registeredPreviewActions[t]=r}registerActions(){this.registerAction("labeling",async({source:t,node:r,nodeIndex:i})=>{var a;let n=await((a=t.view.sourcePainters)==null?void 0:a.drawNodeLabeling(r,i));if(!(!n||!await this.explorer.explorerManager.inExplorer()))return{lines:n.map(o=>o.content),highlights:qe(n.map((o,s)=>o.highlightPositions.map(u=>({hlGroup:u.group,line:s,colStart:u.start,colEnd:u.start+u.size})))),options:{filetype:"coc-explorer-labeling"}}}),this.registerAction("content",async({node:t})=>{if(t.expandable)return;let r;if(t.location)r=t.location;else if(t.fullpath)r=_e.Location.create(t.fullpath,_e.Range.create(0,0,0,0));else return;let{uri:i,range:n}=r;if(await(0,PM.isBinaryFile)(i)){_e.window.showMessage("Preview content skip binary");return}let a=_e.workspace.getDocument(i);return{lines:a?a.getLines(0,n.end.line+this.maxHeight):await bO(i,0,n.end.line+this.maxHeight),highlights:[],options:{filepath:i,focusLineIndex:n.start.line}}})}borderOptions(){return{border_enable:!1,border_chars:[],title:""}}getDimension(t,r,i){if(r===0||i===0)return{width:0,height:0};let n=[];for(let s of t)n.push($y(s.replace(/\t/g,"  ")));let a=ea([on(n),r]);if(a===void 0||a===0)return{width:0,height:0};let o=0;for(let s of n)o=o+Math.max(Math.ceil(s/a),1);return{width:a,height:Math.min(o,i)}}async getFloatOptions(t){let r=_e.workspace.env,i=r.columns,n=r.lines-r.cmdheight-1,a=this.explorer.argValues.position,o=a.name==="floating",s=await this.explorer.args.value(Re.floatingPosition);if(!await this.explorer.win)return;let l=!1,f=await ut()===this.explorer.bufnr?await this.nvim.call("winline"):1;f-=1;let c=o&&this.explorer.config.get("floating.border.enable")?await this.explorer.borderWin:await this.explorer.win;if(!c)return;let[m,g]=await this.nvim.call("win_screenpos",[c.id]);m-=1,g-=1;let y=await c.width,w=i-y-(o?0:1)-2,O=ea([this.maxHeight,n]),{width:T,height:q}=this.getDimension(t,w,O);this.preferTop?(f>=O||f>=n-f)&&(l=!0):n-f<q&&f>q&&(l=!0);let P=m+(l?f-q+1:f),L;if(a.name==="left")L=g+y+2;else if(a.name==="right")L=g-T-2;else if(o&&s==="left-center")L=g+y+1;else if(o&&s==="right-center")L=g-T-1;else return;return E({top:P,left:L,width:T,height:q},this.borderOptions())}async previewNode(t,r,i,n){var u;if(!wg())return;if(!this.registeredPreviewActions[t]){_e.window.showMessage(`coc-explorer no support preview strategy(${t})`);return}let a=await this.registeredPreviewActions[t]({source:r,node:i,nodeIndex:n});if(!a){await this.close();return}let o=await this.getPreviewWindow(),s=await this.getFloatOptions(a.lines);if(!s){await this.close();return}await o.open(a.lines,(u=a.highlights)!=null?u:[],E(E({},s),a.options))}};var wi=M(require("coc.nvim"));var yi=M(require("coc.nvim"));var EM=class{constructor(){this.nvim=yi.workspace.nvim;this.highlights=[]}linkGroup(t,r){let i=`CocExplorer${t}`,n=[`highlight default link ${i} ${r}`],a={group:i,commands:n};return this.highlights.push(a),a}createGroup(t,r){let i=`CocExplorer${t}`,n=[`highlight default ${i} ${r}`],a={group:i,commands:n};return this.highlights.push(a),a}async watchColorScheme(t,r,i=!0){t.push(ya.events.on("ColorScheme",r)),i&&await r()}clearHighlightsNotify(t,r,i,n){t.buffer.clearNamespace(r,i,n)}addHighlightsNotify(t,r,i){for(let n of i)n.size!==0&&t.buffer.highlightRanges(r,n.group,[yi.Range.create(yi.Position.create(n.lineIndex,n.start),yi.Position.create(n.lineIndex,n.start+n.size))])}bootHighlightSyntaxNotify(){let t=[];for(let r of this.highlights)this.nvim.command(`silent! syntax clear ${r.group}`,!0),t.push(...r.commands);this.nvim.call("coc_explorer#util#execute_commands",[t],!0)}},H=new EM;function CM(e){if(!e.length)return[];let t=e.sort((n,a)=>n.nodeIndex-a.nodeIndex),r=[],i;for(let n=0,a=t.length;n<a;n++){let o=t[n];i?i.nodeIndexEnd+1===o.nodeIndex?(i.drawnList.push(o),i.nodeIndexEnd=o.nodeIndex):(r.push(i),n--,i=void 0):i={nodeIndexStart:o.nodeIndex,nodeIndexEnd:o.nodeIndex,drawnList:[o]}}return i&&r.push(i),r}var Jg=e=>he(e.map(t=>t.type==="content"?t.content.length:t.type==="group"?he(t.contents.map(r=>r.type==="content"?r.content.length:0)):0))===0;async function AM(e){async function t(r){return re(E({},r),{width:r.unicode&&!Vy(r.content)?await SO(r.content):r.content.length})}return ye(qe(await Promise.all(e.map(async r=>r.type==="content"?await t(r):r.type==="group"?re(E({},r),{contents:await Promise.all(ye(r.contents.map(i=>i.type==="content"?t(i):void 0)))}):r))))}function kM(e,t,r){let i=e/he(t),n=new Array(t.length);if(r){for(let a=0;a<t.length;a++)Math.ceil(t[a]*i)>r[a]&&(n[a]=r[a],e-=r[a],t[a]=0);i=e/he(t)}for(let a=0;a<t.length;a++)if(n[a]===void 0){let o=Math.ceil(t[a]*i);o<=e?(e-=o,n[a]=o):n[a]=e}return n}async function RM(e){return e.map(t=>{var r;if(t.type==="group"&&((r=t.flexible)==null?void 0:r.padding)&&t.flexible.paddingVolume){let i=he(t.contents.map(n=>n.type==="content"?n.width:0));if(t.flexible.paddingVolume>i){let n=t.flexible.paddingVolume;if(t.flexible.padding==="left")return re(E({},t),{contents:[{type:"content",content:" ".repeat(n),width:n},...t.contents]});if(t.flexible.padding==="right")return re(E({},t),{contents:[...t.contents,{type:"content",content:" ".repeat(n),width:n}]});if(t.flexible.padding==="center"){let a=Math.ceil(n/2),o=n-a;return re(E({},t),{contents:[{type:"content",content:" ".repeat(a),width:a},...t.contents,{type:"content",content:" ".repeat(o),width:o}]})}else return t}else return t}else return t})}async function LM(e,t,r){let i=e-t,n=kM(i,r.map(a=>{var o,s;return a.type==="group"&&((o=a.flexible)==null?void 0:o.grow)?(s=a.flexible.growVolume)!=null?s:1:0}));return ye(qe(await Promise.all(r.map(async(a,o)=>{var s;if(a.type==="content")return a;if(a.type==="group"){if(!((s=a.flexible)==null?void 0:s.grow))return a.contents;let u=n[o];if(a.flexible.grow==="left")return[{type:"content",content:" ".repeat(u),width:u},...a.contents];if(a.flexible.grow==="right")return[...a.contents,{type:"content",content:" ".repeat(u),width:u}];if(a.flexible.grow==="center"){let l=Math.floor(u/2),d=u-l;return[{type:"content",content:" ".repeat(l),width:l},...a.contents,{type:"content",content:" ".repeat(d),width:d}]}else return a.contents}}))))}var Js=H.linkGroup("OmitSymbol","SpecialComment");async function WM(e,t,r){let i=t-e,n=kM(i,r.map(a=>{var o,s;return a.type==="group"&&((o=a.flexible)==null?void 0:o.omit)?(s=a.flexible.omitVolume)!=null?s:1:0}),r.map(a=>a.type==="content"?a.width:a.type==="group"?he(a.contents.map(o=>o.type==="content"?o.width:0)):0));return ye(qe(await Promise.all(r.map(async(a,o)=>{var s;if(a.type==="content")return a;if(a.type==="group"){if(!((s=a.flexible)==null?void 0:s.omit))return a.contents;let u=n[o],l=[];if(a.flexible.omit==="left"){let f=u+1;for(let c of a.contents){if(c.type!=="content"){l.push(c);continue}f<0?l.push(c):f<c.width&&(l.push({type:"content",content:"\u2025",width:1,group:Js.group}),f>0&&l.push(re(E({},c),{content:await pi(c.content,f),width:c.width-f}))),f-=c.width}return l}else if(a.flexible.omit==="right"){let d=u+1,c=he(a.contents.map(m=>m.type==="content"?m.width:0))-d;for(let m of a.contents){if(m.type!=="content"){l.push(m);continue}if(c>=m.width)l.push(m);else if(c<m.width){c>0&&l.push(re(E({},m),{content:await pi(m.content,0,c),width:c})),l.push({type:"content",content:"\u2025",width:1,group:Js.group});break}c-=m.width}return l}else if(a.flexible.omit==="center"){let d=he(a.contents.map(T=>T.type==="content"?T.width:0)),f=u+1,c=d-f,m=Math.floor(c/2),g=d-(c-m),y=0,w=0,O=[];for(let T of a.contents){if(T.type!=="content"){O.push(T);continue}if(w+=T.width,y<m)if(w<=m)O.push(T);else if(w<=g){let q=m-y;O.push(re(E({},T),{content:await pi(T.content,0,q),width:q})),O.push({type:"content",content:"\u2025",width:1,group:Js.group})}else{let q=m-y;O.push(re(E({},T),{content:await pi(T.content,0,q),width:q})),O.push({type:"content",content:"\u2025",width:1,group:Js.group});let P=w-g;O.push(re(E({},T),{content:await pi(T.content,T.width-P),width:P}))}else if(w>g)if(y>=g)O.push(T);else{let q=w-g;O.push(re(E({},T),{content:await pi(T.content,T.width-q),width:q}))}y=w}return O}}}))))}var Ta=class{constructor(t){this.explorer=t}get width(){return this.explorer.contentWidth}async drawRow(t){let r=new FM(this);return await t(r),r}},FM=class{constructor(t){this.view=t;this.drawableList=[]}async draw({flexible:t=!0}={}){let r=await RM(await AM(this.drawableList)),i=[],n=this.view.width,a=he(r.map(l=>l.type==="content"?l.width:l.type==="group"?he(l.contents.map(d=>d.type==="content"?d.width:0)):0));!t||a===n?i=qe(r.map(l=>l.type==="group"?l.contents:l)):a<n?i=await LM(n,a,r):a>n&&(i=await WM(n,a,r));let o=[],s="",u=0;for(let l of i){let d=l.content.length;l.group&&o.push({group:l.group,start:u,size:d}),s+=l.content,u+=d}return{content:s,highlightPositions:o}}add(t,{hl:r,width:i,drawGroup:n,unicode:a=!1}={}){let o=r?typeof r=="string"?r:r.group:void 0,s={type:"content",content:t,unicode:a,group:o,width:i};n?n.contents.push(s):this.drawableList.push(s)}async drawBlockToList(t){let r=this.drawableList;this.drawableList=[],await t(this);let i=this.drawableList;return this.drawableList=r,i}async flexible(t,r){let i=await this.drawBlockToList(r);this.drawableList.push(this.flexibleForList(t,i))}flexibleForList(t,r){return{type:"group",contents:qe(r.map(i=>i.type==="content"?i:i.type==="group"?i.contents:i)),flexible:t}}async addColumn(t,r,i,n=!1){this.drawableList.push(...await this.columnToList(t,r,i,n))}async columnToList(t,r,i,n=!1){return await this.drawBlockToList(async()=>{var a;if(typeof i=="number"){this.add(" ".repeat(i));return}await((a=i.drawHandle)==null?void 0:a.drawNode(this,{node:t,nodeIndex:r,isLabeling:n}))})}async addTemplatePart(t,r,i,n=!1){if(typeof i=="string"){this.add(i);return}let a=[],o=i.column;a.push(...await this.columnToList(t,r,o,n));let s={},u=l=>typeof l=="number"?l:1;if(i.modifiers)for(let l of i.modifiers)l.name==="|"?Jg(a)&&a.push(...await this.columnToList(t,r,l.column,n)):l.name==="&"?Jg(a)||a.push(...await this.columnToList(t,r,l.column,n)):l.name==="growLeft"?(s.grow="left",s.growVolume=u(l.column)):l.name==="growCenter"?(s.grow="center",s.growVolume=u(l.column)):l.name==="growRight"?(s.grow="right",s.growVolume=u(l.column)):l.name==="omitLeft"?(s.omit="left",s.omitVolume=u(l.column)):l.name==="omitCenter"?(s.omit="center",s.omitVolume=u(l.column)):l.name==="omitRight"&&(s.omit="right",s.omitVolume=u(l.column));s.omit||s.grow?this.drawableList.push(this.flexibleForList(s,a)):this.drawableList.push(...a)}};var BM=M(pe()),dt=H.linkGroup.bind(H),Z={line:dt("HelpLine","Operator"),hint:dt("HelpHint","Comment"),title:dt("HelpTitle","Boolean"),subtitle:dt("HelpSubTitle","Label"),mappingKey:dt("HelpMappingKey","PreProc"),action:dt("HelpAction","Identifier"),column:dt("HelpColumn","Identifier"),arg:dt("HelpArg","Identifier"),description:dt("HelpDescription","Comment"),type:dt("HelperType","Type"),conditional:dt("HelpConditional","Conditional")},eY=wi.workspace.createNameSpace("coc-explorer-help"),HM=class{constructor(t,r,i){this.explorer=t;this.source=r;this.width=i;this.drawnResults=[];this.painter=new Ta(t),this.registeredActions=this.source.action.registeredActions()}async drawRow(t){let r=await this.painter.drawRow(t);this.drawnResults.push(await r.draw())}async drawHr(){await this.drawRow(t=>{t.add("\u2014".repeat(this.width),{hl:Z.line})})}async drawHead(){await this.drawRow(t=>{t.add("Help "),t.add("(use q, ? or <esc> return to explorer)",{hl:Z.hint})}),await this.drawHr()}drawActionForMapping(t,r){t.add(r.name,{hl:Z.action}),r.args&&t.add(`(${r.args.join(",")})`,{hl:Z.arg}),t.add(" ");let i=this.registeredActions.get(r.name);i&&t.add(i.description,{hl:Z.description})}anyAction(t,r){return Array.isArray(t)?t.some(i=>this.anyAction(i,r)):r(t)}drawMappingsPrefix(t,r,i){if(!i.isFirstLine){r.add(t);return}i.isFirstLine=!1,i.key&&(r.add(" "),r.add(i.key,{hl:Z.mappingKey}),r.add(" - ")),i.isWait&&r.add(gi.helpDescription+" ",{hl:Z.type})}async drawMappingsAction(t,r,i){await this.drawRow(n=>{if(this.drawMappingsPrefix(t,n,i),r.name===Ir.name){n.add(Ir.helpDescription,{hl:Z.type});return}n.add(r.name,{hl:Z.action}),r.args&&n.add(`(${r.args.join(",")})`,{hl:Z.arg}),n.add(" ");let a=this.registeredActions.get(r.name);a&&n.add(a.description,{hl:Z.description})})}async drawMappingsActionExp(t,r,i){if(Array.isArray(r))for(let n=0;n<r.length;n++){let a=r[n];if(Array.isArray(a)){await this.drawMappingsActionExp(t,a,i);continue}if(a.name===gi.name){i.isFirstLine&&(i.isWait=!0);continue}let o=bn[a.name];if(o){await this.drawRow(l=>{this.drawMappingsPrefix(t,l,i),l.add("if "+o.getHelpDescription(a.args),{hl:Z.conditional})});let[s,u]=[r[n+1],r[n+2]];await this.drawMappingsActionExp(t+"  ",s,i),await this.drawRow(l=>{l.add(t),l.add("else",{hl:Z.conditional})}),await this.drawMappingsActionExp(t+"  ",u,i),n+=2;continue}await this.drawMappingsAction(t,a,i)}else await this.drawMappingsAction(t,r,i)}async drawMappings(){await this.drawRow(i=>{i.add(`Mappings for source(${this.source.sourceType})`,{hl:Z.title})});let t=async i=>{for(let[n,a]of Object.entries(i))!this.anyAction(a,o=>this.registeredActions.has(o.name)||o.name===Ir.name)||await this.drawMappingsActionExp(" ".repeat(n.length+4),a,{key:n,isFirstLine:!0,isWait:!1})},r=await lt.getMappings(this.source.sourceType);await t(r.all),await t(r.vmap)}async drawActions(){await this.drawRow(t=>{t.add(`Actions for source(${this.source.sourceType})`,{hl:Z.title})});for(let[t,r]of this.registeredActions){if(await this.drawRow(i=>{i.add(" "),i.add(t,{hl:Z.action}),i.add(" "),i.add(r.description,{hl:Z.description})}),r.options.args){await this.drawRow(i=>{i.add("   "),i.add("args:",{hl:Z.subtitle})});for(let i of r.options.args)await this.drawRow(n=>{n.add("     - "),n.add(i.name,{hl:Z.arg}),i.description&&(n.add(" "),n.add(i.description,{hl:Z.description}))})}if(r.options.menus){await this.drawRow(i=>{i.add("   "),i.add("menus:",{hl:Z.subtitle})});for(let i of lr.getNormalizeMenus(r.options.menus))await this.drawRow(n=>{n.add("     - "),n.add(`${t}:${i.args}`,{hl:Z.action}),n.add(" "),n.add(i.description,{hl:Z.description})})}}}async drawColumns(){await this.drawRow(r=>{r.add(`Columns for source(${this.source.sourceType})`,{hl:Z.title})});let t=this.source.view.sourcePainters.columnRegistrar.registeredColumns;for(let[r,i]of t){await this.drawRow(n=>{n.add(`  Type: ${r}`,{hl:Z.subtitle})});for(let[n]of i)await this.drawRow(a=>{a.add("   - "),a.add(n,{hl:Z.column})})}}async render(){wi.workspace.nvim.pauseNotification(),this.explorer.setLinesNotifier(this.drawnResults.map(r=>r.content),0,-1).notify();let t=[];for(let[r,i]of this.drawnResults.entries())i.highlightPositions&&t.push(...i.highlightPositions.map(n=>E({lineIndex:r},n)));this.explorer.highlight.addHighlightsNotify(eY,t),await wi.workspace.nvim.resumeNotification()}};async function UM(e,t){var o,s;e.view.isHelpUI=!0;let r=await e.view.currentNode(),i=(s=await((o=await e.win)==null?void 0:o.width))!=null?s:80,n=new HM(e,t,i);await n.drawHead(),await n.drawMappings(),await n.drawHr(),await n.drawActions(),await n.drawHr(),await n.drawColumns(),await n.render(),await e.explorerManager.clearMappings();let a=[];["<esc>","q","?"].forEach(u=>{a.push(wi.workspace.registerLocalKeymap("n",u,async()=>{(0,wi.disposeAll)(a),await eh(e),await e.view.sync(async l=>{await BM.Notifier.runAll([await l.renderAllNotifier(),await t.locator.gotoNodeNotifier(r)])})},!0))})}async function eh(e){await e.explorerManager.executeMappings(),e.view.isHelpUI=!1}var jn=M(require("coc.nvim"));var th=class{constructor(t){this.explorer=t}clearHighlightsNotify(t,r,i){H.clearHighlightsNotify(this.explorer,t,r,i)}addHighlightsNotify(t,r){H.addHighlightsNotify(this.explorer,t,r)}async bootSyntax(){let t=await this.explorer.winnr,r=await jn.workspace.nvim.call("winnr");t&&(jn.workspace.nvim.pauseNotification(),t!==r&&jn.workspace.nvim.command(`${t}wincmd w`,!0),H.bootHighlightSyntaxNotify(),t!==r&&jn.workspace.nvim.command(`${r}wincmd w`,!0),await jn.workspace.nvim.resumeNotification())}};var YM=M(pe()),eu=M(require("coc.nvim"));var rh=class{constructor(t){this.explorer=t;this.marksGroupByType=new Map}add(t,r){this.marksGroupByType.has(t)||this.marksGroupByType.set(t,new Set),this.marksGroupByType.get(t).add(r)}remove(t,r){this.marksGroupByType.has(t)||this.marksGroupByType.set(t,new Set),this.marksGroupByType.get(t).delete(r)}removeAll(){this.marksGroupByType.clear()}removeLines(t,r=1/0){if(Array.isArray(t))this.marksGroupByType.forEach(i=>{t.forEach(n=>{i.delete(n)})});else{let i=t;this.marksGroupByType.forEach(n=>{n.forEach(a=>{i<=a&&a<=r&&n.delete(a)})})}}offsetLines(t,r,i=1/0){t!==0&&this.marksGroupByType.forEach((n,a)=>{let o=new Set;n.forEach(s=>{o.add(r<=s&&s<=i?s+t:s)}),this.marksGroupByType.set(a,o)})}async prevLineIndex(...t){let r=[];for(let i of t){let n=this.marksGroupByType.get(i);r=r.concat(n?Array.from(n):[])}if(r.length){let i=this.explorer.view.currentLineIndex,n=r.sort((o,s)=>s-o),a=n.find(o=>o<i);if(a)return a;if(await st())return n[0]}}async nextLineIndex(...t){let r=[];for(let i of t){let n=this.marksGroupByType.get(i);r=r.concat(n?Array.from(n):[])}if(r.length){let i=this.explorer.view.currentLineIndex,n=r.sort((o,s)=>o-s),a=n.find(o=>o>i);if(a)return a;if(await st())return n[0]}}};var ih=class{constructor(t){this.explorer=t;this.mark=new rh(this.explorer),this.view=this.explorer.view}async gotoPrevMark(...t){let r=await this.mark.prevLineIndex(...t);return r?(await this.gotoLineIndex(r),!0):!1}async gotoNextMark(...t){let r=await this.mark.nextLineIndex(...t);return r?(await this.gotoLineIndex(r),!0):!1}async gotoLineIndex(t){return(await this.gotoLineIndexNotifier(t)).run()}async gotoLineIndexNotifier(t,r){let i=await this.explorer.win;return YM.Notifier.create(()=>{if(i){let n=this.explorer.height;t<0?t=0:t>=n&&(t=n-1),this.view.currentLineIndex=t,i.setCursor([t+1,r!=null?r:0],!0),eu.workspace.isVim?eu.workspace.nvim.command("redraw",!0):eu.workspace.nvim.command("redraw!",!0)}})}};var Sn=M(pe()),tu=M(require("coc.nvim"));var nh=class extends _a{constructor(t,r){super(t);this.owner=t;this.source=this.owner;this.global=r}registeredActions(){return new Map([...this.global.actions,...this.actions])}registeredAction(t){return this.actions.get(t)||this.global.actions.get(t)}async doActionExp(t,r,i={}){var l,d;let n=(l=i.mode)!=null?l:"n",a=(d=i.isSubAction)!=null?d:!1,o,s=r,u={mode:n,isSubAction:!0};try{if(Array.isArray(t))for(let f=0;f<t.length;f++){f!==0&&(s=[this.source.view.currentNode()]);let c=t[f];if(Array.isArray(c)){await this.doActionExp(c,s,u);continue}if(c.name===gi.name){if(o||a)continue;o=await this.global.waitActionMutex.acquire();continue}let m=bn[c.name];if(m){let[g,y]=sn(s,T=>m.filter(this.source,T,c.args)),[w,O]=[t[f+1],t[f+2]];f+=2,g.length&&await this.doActionExp(w,g,u),y.length&&await this.doActionExp(O,y,u)}else await this.doActionExp(c,s,u)}else t.name!==Ir.name&&await this.doAction(t.name,s,t.args,n)}catch(f){throw f}finally{o==null||o()}}async doAction(t,r,i=[],n="n"){let a=this.registeredAction(t);if(!a)return;let{select:o=!1,render:s=!1,reload:u=!1}=a.options,l=Array.isArray(r)?r:[r],d=this.source;try{if(o===!0){let f=ai([...l,...d.selectedNodes]);d.selectedNodes.clear(),d.view.requestRenderNodes(f),await a.callback.call(d,{source:d,nodes:f,args:i,mode:n})}else if(o===!1)await a.callback.call(d,{source:d,nodes:[l[0]],args:i,mode:n});else if(o==="visual")await a.callback.call(d,{source:d,nodes:l,args:i,mode:n});else if(o==="keep"){let f=ai([...l,...d.selectedNodes]);await a.callback.call(d,{source:d,nodes:f,args:i,mode:n})}}catch(f){throw f}finally{u?await d.load(d.view.rootNode):s&&await d.view.render()}}async listActionMenu(t){var o;let r=this.registeredActions(),i=this.source,n=await lt.getReversedMappings(i.sourceType),a=await mi(this.source.explorer,WO,qe([...r.entries()].filter(([s])=>s!=="actionMenu").sort(([s],[u])=>s.localeCompare(u)).map(([s,{callback:u,options:l,description:d}])=>{var g;let f=n[s],c=f?(g=f.vmap)!=null?g:f.all:"",m=[{name:s,key:c,description:d,callback:async()=>{await a.waitExplorerShow(),await u.call(i,{source:i,nodes:t,args:[],mode:"n"})}}];return l.menus&&m.push(...lr.getNormalizeMenus(l.menus).map(y=>{var q;let w=s+":"+y.args,O=n[w],T=O?(q=O.vmap)!=null?q:O.all:"";return{name:w,key:T,description:d+" "+y.description,callback:async()=>{await a.waitExplorerShow(),await u.call(i,{source:i,nodes:t,args:await y.actionArgs(),mode:"n"})}}})),m})));(o=a.waitExplorerShow())==null||o.catch(I.error)}};var ah=class{constructor(t,r){this.source=t;this.hlSrcId=r}addHighlightsNotify(t){this.source.explorer.highlight.addHighlightsNotify(this.hlSrcId,t)}clearHighlightsNotify(t,r){this.source.explorer.highlight.clearHighlightsNotify(this.hlSrcId,t,r)}};var $M=M(pe());var oh=class{constructor(t){this.source=t;this.explorer=t.explorer}get view(){return this.source.view}add(t,r){this.explorer.locator.mark.add(t,this.view.startLineIndex+r)}remove(t,r){this.explorer.locator.mark.remove(t,this.view.startLineIndex+r)}offsetAfterLine(t,r){this.explorer.locator.mark.offsetLines(t,this.view.startLineIndex+r+1),this.view.endLineIndex+=t;let i=this.view.currentSourceIndex();i!==void 0&&this.explorer.sources.slice(i+1).forEach(n=>{n.view.startLineIndex+=t,n.view.endLineIndex+=t})}};var sh=class{constructor(t){this.source=t;this.explorer=this.source.explorer,this.mark=new oh(t)}get view(){return this.source.view}async gotoLineIndex(t,r){return(await this.gotoLineIndexNotifier(t,r)).run()}gotoLineIndexNotifier(t,r){return t<0&&(t=0),t>=this.source.height&&(t=this.source.height-1),this.explorer.locator.gotoLineIndexNotifier(this.view.startLineIndex+t,r)}async gotoRoot({col:t}={}){return(await this.gotoLineIndexNotifier(0,t)).run()}gotoRootNotifier({col:t}={}){return this.gotoLineIndexNotifier(0,t)}async gotoNode(t,r={}){return(await this.gotoNodeNotifier(t,r)).run()}async gotoNodeNotifier(t,r={}){return this.gotoNodeUidNotifier(t.uid,r)}async gotoNodeUid(t,r={}){return(await this.gotoNodeUidNotifier(t,r)).run()}async gotoNodeUidNotifier(t,{lineIndex:r,col:i=0}={}){let n=this.view.flattenedNodes.findIndex(a=>a.uid===t);return n!==-1?this.gotoLineIndexNotifier(n,i):r!==void 0?this.gotoLineIndexNotifier(r,i):$M.Notifier.noop()}};var _i=class{constructor(t,r){this.sourceType=t;this.explorer=r;this.width=0;this.showHidden=!1;this.selectedNodes=new Set;this.nvim=tu.workspace.nvim;this.bufManager=this.explorer.explorerManager.bufManager;this.events=new Sn.HelperEventEmitter(I);this.action=new nh(this,this.explorer.action);this.locator=new sh(this);this.disposables=[];this.isDisposed=!1;this.config=this.explorer.config;this.icons=(t=>({get expanded(){return t.config.get("icon.expanded")||(t.config.get("icon.enableNerdfont")?"\uF44B":"-")},get collapsed(){return t.config.get("icon.collapsed")||(t.config.get("icon.enableNerdfont")?"\uF44A":"+")},get selected(){return t.config.get("icon.selected")},get hidden(){return t.config.get("icon.hidden")},get link(){return t.config.get("icon.link")},get readonly(){return t.config.get("icon.readonly")||(t.config.get("icon.enableNerdfont")?"\uF023":"RO")}}))(this);this.helper=(t=>({getUid(r){return Ns(r.toString(),t.sourceType)}}))(this);this.context=this.explorer.context,this.highlight=new ah(this,tu.workspace.createNameSpace(`coc-explorer-${t}`))}get root(){return tu.workspace.cwd}set root(t){}static get enabled(){return!0}dispose(){this.isDisposed=!0,this.view.dispose(),this.disposables.forEach(t=>t.dispose())}get height(){return this.view.flattenedNodes.length}bootInit(t){Promise.resolve(this.init()).catch(I.error),this.view.bootInit(t)}async bootOpen(t){await this.open(t),this.view.bootOpen()}async openedNotifier(t,r){return Sn.Notifier.noop()}async copyToClipboard(t){await this.nvim.call("setreg",["+",t]),await this.nvim.call("setreg",['"',t])}isSelectedAny(){return this.selectedNodes.size!==0}isSelectedNode(t){return this.selectedNodes.has(t)}async loadInitedChildren(t,r){let i=await this.loadChildren(t,r);return await Promise.all(i.map(async(n,a)=>{var o;n.level=((o=t.level)!=null?o:0)+1,n.parent=t,n.prevSiblingNode=i[a-1],n.nextSiblingNode=i[a+1],(r==null?void 0:r.recursiveExpanded)&&n.expandable&&this.view.isExpanded(n)&&(n.children=await this.loadInitedChildren(n,r))})),i}async load(t,r){await this.view.sync(async i=>(await this.loadNotifier(i,t,r)).run())}async loadNotifier(t,r,{render:i=!0,force:n=!1}={}){return this.isDisposed?Sn.Notifier.noop():(await this.explorer.refreshWidth(),this.selectedNodes=new Set,this.view.isExpanded(r)?r.children=await this.loadInitedChildren(r,{recursiveExpanded:!0,force:n}):r.children=void 0,await this.events.fire("loaded",r),await this.view.load(r),i?t.renderNotifier({node:r,force:n}):Sn.Notifier.noop())}};var GM=M(require("coc.nvim")),VM=class{constructor(){this.registeredSources={}}registerSource(t,r){return this.registeredSources[t]=r,GM.Disposable.create(()=>{delete this.registeredSources[t]})}async enabled(t){return this.registeredSources[t]?await this.registeredSources[t].enabled:!1}createSource(t,r,i){if(!this.registeredSources[t])throw new Error(`explorer source(${t}) not found`);let n=new this.registeredSources[t](t,r);return n.bootInit(i),n}},zt=new VM;var zM=M(require("coc.nvim")),bi=class{constructor(){this.registeredColumns=new Map}async initColumn(t,r,i){var s,u;if(/\d+/.test(i))return parseInt(i,10);let n=(s=this.registeredColumns.get(t))==null?void 0:s.get(i);if(!n)throw Error(`column(${i}) not found`);let a={label:i},o=[];if(Object.assign(a,n.createColumn({source:r,column:a,subscriptions:o}),{subscriptions:o}),a.inited)return a;if(!(a.available&&!await a.available()))return await((u=a.init)==null?void 0:u.call(a)),a.inited=!0,a}registerColumn(t,r,i){return this.registeredColumns.has(t)||this.registeredColumns.set(t,new Map),this.registeredColumns.get(t).set(r,{createColumn:i}),zM.Disposable.create(()=>{this.registeredColumns.get(t).delete(r)})}};var QM=class extends bi{},z=new QM;z.registerColumn("root","icon",({source:e})=>({draw(){return{drawNode(t,{node:r}){t.add(e.view.isExpanded(r)?e.icons.expanded:e.icons.collapsed,{hl:Te.expandIcon})}}}}));z.registerColumn("root","title",()=>({draw(){return{drawNode(e){e.add("[BUFFER]",{hl:Te.title})}}}}));z.registerColumn("root","hidden",({source:e})=>({draw(){return{drawNode(t){t.add(e.showHidden?e.icons.hidden:"",{hl:Te.hidden})}}}}));var KM=e=>{let t=r=>({icon:e.get("git.icon.rootStatus."+r),name:r});return{[se.staged]:{icon:"",name:"staged"},[se.stashed]:t("stashed"),[se.ahead]:t("ahead"),[se.behind]:t("behind"),[se.conflicted]:t("conflicted"),[se.untracked]:t("untracked"),[se.modified]:t("modified"),[se.added]:t("added"),[se.renamed]:t("renamed"),[se.deleted]:t("deleted")}},ru=e=>{let t=r=>({icon:e.get("git.icon.status."+r),name:r});return{[S.mixed]:t("mixed"),[S.unmodified]:t("unmodified"),[S.modified]:t("modified"),[S.added]:t("added"),[S.deleted]:t("deleted"),[S.renamed]:t("renamed"),[S.copied]:t("copied"),[S.unmerged]:t("unmerged"),[S.untracked]:t("untracked"),[S.ignored]:t("ignored")}};var ZM=M(require("coc.nvim")),JM=M(ma());var XM=M(require("coc.nvim"));async function iu(e){let t=await XM.workspace.nvim.call("coc_explorer#highlight#extract_colors",[e]);return Object.entries(t).map(([r,i])=>{let n={};return i.ctermfg&&(n.ctermfg=parseInt(i.ctermfg,10)),i.ctermbg&&(n.ctermbg=parseInt(i.ctermbg,10)),i.guifg&&(n.guifg=ga(i.guifg)),i.guibg&&(n.guibg=ga(i.guibg)),[r,n]}).reduce((r,[i,n])=>(r[i]=n,r),{})}var Ve=H.linkGroup.bind(H),eT=e=>{H.watchColorScheme(e,async()=>{let r=await iu(["String","Character","Number","Boolean","Float","Identifier","Function","Statement","Conditional","Repeat","Label","Operator","Keyword","Exception","PreProc","Include","Define","Macro","PreCondit","Type","StorageClass","Structure","Typedef","Special","SpecialChar","Tag","Delimiter","SpecialComment","Debug","Todo"]),i=ye(Object.values(r).map(s=>{var d;let u=s.guifg;if(!u)return;let l=(d=s.ctermfg)!=null?d:JM.default.rgb.ansi256([u.red,u.green,u.blue]);return{guifg:u,ctermfg:l}})),{nvim:n}=ZM.workspace;n.pauseNotification();let a=Sg(Bs(18,204,90,1),i,s=>s.guifg);a&&n.command(`highlight default CocExplorerGitPathChange_Internal ctermfg=${a.ctermfg} guifg=#${ha(a.guifg)}`,!0);let o=Sg(Bs(209,177,15,1),i,s=>s.guifg);o&&n.command(`highlight default CocExplorerGitContentChange_Internal ctermfg=${a.ctermfg} guifg=#${ha(o.guifg)}`,!0),await n.resumeNotification()}).catch(I.error)},ja=Ve("GitPathChange","CocExplorerGitPathChange_Internal"),tT=Ve("GitContentChange","CocExplorerGitContentChange_Internal"),De={gitRenamed:Ve("GitRenamed",ja.group),gitCopied:Ve("GitCopied",ja.group),gitAdded:Ve("GitAdded",ja.group),gitUntracked:Ve("GitUntracked",ja.group),gitUnmerged:Ve("GitUnmerged",ja.group),gitMixed:Ve("GitMixed",tT.group),gitModified:Ve("GitModified",tT.group),gitDeleted:Ve("GitDeleted","Error"),gitIgnored:Ve("GitIgnored","Comment"),gitStaged:Ve("GitStaged","Comment"),gitUnstaged:Ve("GitUnstaged","Operator")},rT=e=>{switch(e){case S.mixed:return De.gitMixed;case S.modified:return De.gitModified;case S.added:return De.gitAdded;case S.deleted:return De.gitDeleted;case S.renamed:return De.gitRenamed;case S.copied:return De.gitCopied;case S.unmerged:return De.gitUnmerged;case S.untracked:return De.gitUntracked}};var Cr=M(require("coc.nvim")),Sa=M(require("path"));var uh=M(require("coc.nvim")),iT=M(require("path"));var lh=class{constructor(){this.sourcesBinding=new Map;this.prevErrorMixedCount=new Map;this.prevWarningMixedCount=new Map;this.reloadDebounceChecker=da(1e3,()=>{});this.reloadDebounceArgs={sources:new Set}}get sources(){return[...this.sourcesBinding.keys()]}get refTotalCount(){return he([...this.sourcesBinding.values()].map(t=>t.refCount.total))}get diagnosticTypes(){let t=[],r=[...this.sourcesBinding.values()].map(i=>i.refCount);return r.some(i=>i.error>0)&&t.push("error"),r.some(i=>i.warning>0)&&t.push("warning"),t}bind(t,r){let i=us(this.sourcesBinding,t,()=>({refCount:{error:0,warning:0,total:0}}));return i.refCount[r]+=1,i.refCount.total+=1,i.refCount.total===1&&(this.registeredForSourceDisposable=this.registerForSource(t)),this.refTotalCount===1&&(this.registeredDisposable=this.register()),uh.Disposable.create(()=>{var n,a;i.refCount[r]-=1,i.refCount.total-=1,i.refCount.total===0&&((n=this.registeredForSourceDisposable)==null||n.dispose(),this.registeredForSourceDisposable=void 0),this.refTotalCount===0&&((a=this.registeredDisposable)==null||a.dispose(),this.registeredDisposable=void 0)})}register(){return $t.on("CocDiagnosticChange",xn(100,async()=>{await this.reload(this.sources)}))}registerForSource(t){let r=t.events.on("loaded",async n=>{("isRoot"in n?t.root:n.expandable?n.fullpath:n.fullpath&&iT.default.dirname(n.fullpath))&&this.reload([t]).catch(I.error)}),i=t.events.on("drawn",()=>{for(let[n,a]of t.view.flattenedNodes.entries()){if(!a.fullpath)continue;let o=K.getMixedError(a.fullpath),s=K.getMixedWarning(a.fullpath),u=!1,l=!1;if(o||s){let d=!(a.expandable&&t.view.isExpanded(a));o&&d&&(u=!0),s&&d&&(l=!0)}u?t.locator.mark.add("diagnosticError",n):t.locator.mark.remove("diagnosticError",n),l?t.locator.mark.add("diagnosticWarning",n):t.locator.mark.remove("diagnosticWarning",n)}});return uh.Disposable.create(()=>{r.dispose(),i.dispose()})}async reloadDebounce(t){t.forEach(i=>{this.reloadDebounceArgs.sources.add(i)}),!(await this.reloadDebounceChecker()instanceof vn)&&this.reloadDebounceArgs.sources.clear()}async reload(t){let r=this.diagnosticTypes;K.reload(r);let i=new Set;if(r.includes("error")){for(let[a]of this.prevErrorMixedCount)i.add(a);let n=new Map(K.getMixedErrors());for(let[a]of n)i.add(a);this.prevErrorMixedCount=n}if(r.includes("warning")){for(let[a]of this.prevWarningMixedCount)i.add(a);let n=new Map(K.getMixedWarnings());for(let[a]of n)i.add(a);this.prevWarningMixedCount=n}for(let n of t)await n.view.renderPaths(i)}};var nT=class{constructor(){this.errorMixedCountCache=new Map;this.warningMixedCountCache=new Map;this.binder=new lh}bindColumn(t,r){let i=new Set(r),n=[];for(let a of i)n.push(this.binder.bind(t,a));return Cr.Disposable.create(()=>{(0,Cr.disposeAll)(n)})}reload(t){let r=new Set(t),i=new Map,n=new Map;for(let a of Cr.diagnosticManager.getDiagnosticList()){let o=a.location.uri,s=ve(Cr.Uri.parse(o).fsPath);if(a.severity==="Error"){let u=i.get(s);i.set(s,(u!=null?u:0)+1)}else{let u=n.get(s);n.set(s,(u!=null?u:0)+1)}}r.has("error")&&this.reloadMixedErrors(i),r.has("warning")&&this.reloadMixedWarnings(n)}reloadMixedErrors(t){let r=new Map;for(let[i,n]of t){let a=i.split(Sa.default.sep);for(let o=1;o<=a.length;o++){let s=a.slice(0,o).join(Sa.default.sep),u=r.get(s);r.set(s,(u!=null?u:0)+n)}}this.errorMixedCountCache=r}reloadMixedWarnings(t){let r=new Map;for(let[i,n]of t){let a=i.split(Sa.default.sep);for(let o=1;o<=a.length;o++){let s=a.slice(0,o).join(Sa.default.sep),u=r.get(s);r.set(s,(u!=null?u:0)+n)}}this.warningMixedCountCache=r}getMixedErrors(){return this.errorMixedCountCache}getMixedWarnings(){return this.warningMixedCountCache}getMixedError(t){return this.errorMixedCountCache.get(t)}getMixedWarning(t){return this.warningMixedCountCache.get(t)}},K=new nT;var Qr=M(pe()),Ci=M(require("coc.nvim")),em=M(require("fs")),Sk=M(require("os")),tm=M(require("path"));var aT=H.linkGroup.bind(H),Qt={diagnosticError:aT("DiagnosticError","CocErrorSign"),diagnosticWarning:aT("DiagnosticWarning","CocWarningSign")};var oT=M(require("coc.nvim")),sT=M(ma());var dh={Comment:"CommentColor"},uT=e=>{H.watchColorScheme(e,async()=>{var n;let t=Object.keys(dh),r=await iu(t),{nvim:i}=oT.workspace;i.pauseNotification();for(let a of t){let o=r[a];if(!o)continue;let s=o.guifg;if(!s)continue;let u=(n=o.ctermfg)!=null?n:sT.default.rgb.ansi256([s.red,s.green,s.blue]);i.command(`highlight default CocExplorer${dh[a]}_Internal ctermfg=${u} guifg=#${ha(s)}`,!0)}await i.resumeNotification()}).catch(I.error)},fh={};Object.values(dh).forEach(e=>{fh[e]=`CocExplorer${e}_Internal`});var lT=M(require("child_process")),Ar=M(require("coc.nvim")),dT=M(require("events")),fT=M(fn()),cT=M(require("path")),pT=M(require("readline"));var mT=class extends dT.EventEmitter{constructor(){super(...arguments);this.processes=[]}start(t,r,i,n){let a=i.length;for(let o of i){let s=(0,lT.spawn)(t,r,{cwd:o});this.processes.push(s),s.on("error",f=>{this.emit("error",f.message)});let u=pT.default.createInterface(s.stdout),l=Ar.Range.create(0,0,0,0),d=n.length>0;s.stderr.on("data",f=>{console.error(f.toString("utf8"))}),u.on("line",f=>{let c=cT.default.join(o,f);if(d&&n.some(g=>(0,fT.default)(c,g)))return;let m=Ar.Location.create(Ar.Uri.file(c).toString(),l);this.emit("data",{label:f,location:m})}),u.on("close",()=>{a=a-1,a===0&&this.emit("end")})}}dispose(){for(let t of this.processes)t.killed||t.kill()}},tY=Ar.workspace.getConfiguration("list.source.files");async function rY(e){let t=[];if(await ua("fd"))return t.push("--color","never"),e.showIgnores&&t.push("--no-ignore"),e.showHidden&&t.push("--hidden"),e.recursive||t.push("--max-depth","1"),{name:"fd",args:t};if(Ge)return t.push("/a-D","/B"),e.recursive&&t.push("/S"),{name:"dir",args:t};if(await ua("find"))return t.push("."),e.recursive||t.push("-maxdepth","1"),{name:"find",args:t};throw new Error("Unable to find command for files list.")}var gT=qr({name:"explorerFiles",defaultAction:"reveal",async loadItems(e){if(!e.rootPath)return;let t=await rY(e);if(!t)return;let r=new mT,i=tY.get("excludePatterns",[]);return r.start(t.name,t.args,[e.rootPath],i),r},init(){this.addLocationActions(),this.addAction("reveal",async({arg:e,item:t})=>{let r=await this.convertLocation(t.location);e.revealCallback&&await e.revealCallback(r)})}});var Xt=M(require("coc.nvim"));var hT=M(Lg());var ch=class{constructor(t,r){this.s=t;this.i=r}ch(){return this.s[this.i]}skip(t){this.i+=t}next(){this.i+=1}forwardString(t){return this.s.slice(this.i,this.i+t)}match(t,r={}){var i;return this.forwardString(t.length)===t?(((i=r.skip)!=null?i:!1)&&this.skip(t.length),!0):!1}end(){return this.i>=this.s.length}},nu=class extends Error{constructor(t,r){super(r);this.source=t}};function ph(e,t,r){let i="";for(;!t.end();){let n=t.ch();if(!r.includes(n))i+=n,t.next();else return i}throw new nu(t,`Unexpected end when parse ${e}`)}function iY(e){return ph("modifier name",e,[" "])}function nY(e){return ph("modifier value",e,[" ","]"])}function aY(e){let t=iY(e);e.next();let r=nY(e);return{name:t,column:r}}function oY(e){let t=[];do{let r=e.ch();if(r===" ")e.next(),t.push(aY(e));else if(r==="]")return t}while(!0)}function sY(e){return ph("column name",e,[" ","]"])}function uY(e){e.next();let t={column:sY(e)};do{let r=e.ch();if(r==="]")return e.next(),t;r===" "&&(t.modifiers=oY(e))}while(!e.end());throw new nu(e,"Unexpected end when parse column block")}function lY(e){let t="";for(;!e.end();){let r=e.ch();if(r==="\\")e.next(),t+=e.ch();else{if(r==="[")return t;t+=r}e.next()}return t}function mh(e){let t=new ch(e,0),r=[];for(;!t.end();)t.ch()==="["?r.push(uY(t)):r.push(lY(t));return r}var dY=H.linkGroup("Label","Label"),vT=class{constructor(t,r,i,n){this.type=t;this.painters=r;this.source=i;this.columnRegistrar=n;this.columns=new Set;this.parts=[];this.labelingParts=[]}dispose(){this.clearParts(this.parts)}clearColumn(t){typeof t!="number"&&t.subscriptions.map(r=>r.dispose())}clearParts(t){t.forEach(r=>{var i;typeof r!="string"&&(this.clearColumn(r.column),(i=r.modifiers)==null||i.forEach(n=>this.clearColumn(n.column)))})}async parseTemplate(t,r){let i=!1;if(this.templateStr!==t){this.templateStr=t;let n=[];for(let a of mh(t)){let o=await this.initPart(a);o&&n.push(o)}this.clearParts(this.parts),this.parts=n,i=!0}if(r&&this.labelingTemplateStr!==r){this.labelingTemplateStr=r;let n=[];for(let a of mh(r)){let o=await this.initPart(a);o&&n.push(o)}this.clearParts(this.labelingParts),this.labelingParts=n,i=!0}if(i){let n=new Set,a=[...this.parts,...this.labelingParts];for(let o of a)if(typeof o!="string"&&(typeof o.column!="number"&&n.add(o.column),o.modifiers))for(let s of o.modifiers)typeof s.column!="number"&&n.add(s.column);this.columns=n}}async initPart(t){if(typeof t=="string")return t;let r=await this.columnRegistrar.initColumn(this.type,this.source,t.column);if(!r)return;let i={column:r};if(t.modifiers){let n=await Promise.all(t.modifiers.map(async a=>{let o=await this.columnRegistrar.initColumn(this.type,this.source,a.column);if(!!o)return{name:a.name,column:o}}));i.modifiers=ye(n)}return i}},gh=class{constructor(t,r){this.source=t;this.columnRegistrar=r;this.painters=new Map;this.viewPainter=new Ta(this.source.explorer)}dispose(){this.painters.forEach(t=>t.dispose())}getPainter(t){return this.painters.has(t)||this.painters.set(t,new vT(t,this,this.source,this.columnRegistrar)),this.painters.get(t)}async parseTemplate(t,r,i){return await this.getPainter(t).parseTemplate(r,i)}async load(t){for(let r of this.painters.values())for(let i of r.columns)await(i.load&&i.load(t))}async drawPre(t,{draw:r,drawAll:i,abort:n,force:a=!1}={}){class o extends Error{}class s extends Error{}let u=as(t,d=>d.type),l=Object.keys(u);for(let d of l){let f=this.getPainter(d);for(let c of f.columns)try{c.drawHandle=await c.draw(u[d],{drawAll(){if(i)throw new o},abort(){throw new s},force:a})}catch(m){if(m instanceof o)return i();if(m instanceof s){if(n)return n()}else throw m}}return r==null?void 0:r()}async drawNode(t,r,{isLabeling:i=!1}={}){let a=await(await this.viewPainter.drawRow(async o=>{for(let s of this.getPainter(t.type).parts)await o.addTemplatePart(t,r,s,i)})).draw();return{nodeIndex:r,nodeUid:t.uid,content:a.content,highlightPositions:a.highlightPositions}}async drawNodeLabeling(t,r){var n,a;let i=[];for(let o of this.getPainter(t.type).labelingParts){if(typeof o=="string"){i.push({content:o,highlightPositions:[]});continue}let s=[o.column,...(a=(n=o.modifiers)==null?void 0:n.map(g=>g.name==="&"?g.column:""))!=null?a:[]].filter(g=>typeof g!="string"),u=await(0,hT.default)(s,async g=>{var y;return!((y=g.drawHandle)==null?void 0:y.labelVisible)||await g.drawHandle.labelVisible({node:t,nodeIndex:r})});if(!u.length)continue;let l=u.every(g=>{var y;return(y=g.drawHandle)==null?void 0:y.labelOnly}),d=u.filter(async g=>{var y;return!((y=g.drawHandle)==null?void 0:y.labelOnly)}),f=await this.viewPainter.drawRow(async g=>{g.add(u.map(y=>y.label).join(" & ")+(l?"":":"),{hl:dY}),g.add(" ");for(let y of d)await g.addColumn(t,r,y,!0)}),{highlightPositions:c,content:m}=await f.draw({flexible:!1});i.push({content:m,highlightPositions:c})}return i}};var xT=M(pe()),yT=M(require("coc.nvim"));var Kt=M(pe()),qa=M(require("coc.nvim"));var Oi=Symbol("rendererSource"),hh=class{constructor(t,r=t.explorer,i=t.source){this.view=t;this.explorer=r;this.source=i;this.requestedRenderNodes=new Set}nodeAndChildrenRange(t){var a,o;let r=this.view.flattenedNodes.findIndex(s=>s.uid===t.uid);if(r===-1)return;let i=(a=t.level)!=null?a:0,n=this.view.flattenedNodes.length-1;for(let s=r+1,u=this.view.flattenedNodes.length;s<u;s++)if(((o=this.view.flattenedNodes[s].level)!=null?o:0)<=i){n=s-1;break}return{startIndex:r,endIndex:n}}async drawNodes(t){let r=ye(await Promise.all(t.map(async n=>{let a=this.view.flattenedNodes.findIndex(s=>s.uid===n.uid);if(a<0)return;let o=this.view.flattenedNodes[a];if(!!o)return this.view.sourcePainters.drawNode(o,a)}))),i=this.view.startLineIndex;return{drawnList:r,get contents(){return r.map(n=>n.content)},get highlightPositions(){return qe(r.map(n=>n.highlightPositions.map(a=>E({lineIndex:i+n.nodeIndex},a))))}}}async emitRequestRenderNodesNotifier(){if(this.requestedRenderNodes.size<=0)return;let t=Array.from(this.requestedRenderNodes);return this.requestedRenderNodes.clear(),this.renderNodesNotifier(t)}async renderPathsNotifier(t){if(this.view.isHelpUI)return Kt.Notifier.noop();let r=t instanceof Set?Array.from(t):t;if(!r.length)return Kt.Notifier.noop();let i=a=>this.view.flattenedNodes.filter(o=>o.fullpath&&a.includes(o.fullpath)),n=r.map(a=>typeof a=="string"?{nodes:i([a])}:{nodes:i([...a.paths]),withParents:a.withParents,withChildren:a.withChildren});return this.renderNodesNotifier(n)}async renderNodesNotifier(t){let i=(t instanceof Set?Array.from(t):t).map(a=>{var o,s;return"uid"in a?{nodes:[a],withParents:!1,withChildren:!1}:{nodes:[...a.nodes],withParents:(o=a.withParents)!=null?o:!1,withChildren:(s=a.withChildren)!=null?s:!1}}),n=[];for(let a of i){if(n.push(...a.nodes),a.withParents)for(let o of a.nodes)n.push(...this.view.flattenParents(o));if(a.withChildren)for(let o of a.nodes)n.push(...this.view.flattenNode(o))}return n.length?await this.view.sourcePainters.drawPre(n,{draw:async()=>{let{drawnList:a,highlightPositions:o}=await this.drawNodes(n),s=CM(a);return await this.source.events.fire("drawn"),Kt.Notifier.create(()=>{s.forEach(u=>{this.view.setLinesNotifier(u.drawnList.map(l=>l.content),u.nodeIndexStart,u.nodeIndexEnd+1).notify()}),this.source.highlight.addHighlightsNotify(o),qa.workspace.isVim&&qa.workspace.nvim.command("redraw",!0)})},drawAll:()=>this.renderNotifier(),abort:()=>Kt.Notifier.noop()}):Kt.Notifier.noop()}async renderNotifier({node:t=this.view.rootNode,force:r=!1}={}){if(this.view.isHelpUI)return Kt.Notifier.noop();let i=this.nodeAndChildrenRange(t);if(!i&&!t.isRoot)return Kt.Notifier.noop();let{startIndex:n,endIndex:a}=i||{startIndex:0,endIndex:this.view.flattenedNodes.length-1},o=a-n+1,s=this.view.flattenNode(t),u=s.length;this.view.flattenedNodes=this.view.flattenedNodes.slice(0,n).concat(s).concat(this.view.flattenedNodes.slice(a+1)),u<o&&this.explorer.locator.mark.removeLines(this.view.startLineIndex+u+1,this.view.startLineIndex+o+1),this.source.locator.mark.offsetAfterLine(u-o,this.view.endLineIndex),await this.view.sourcePainters.drawPre(s,{force:r});let{contents:l,highlightPositions:d}=await this.drawNodes(s);await this.source.events.fire("drawn");let f=this.view.currentSourceIndex(),c=this.explorer.sources.length-1===f;return Kt.Notifier.create(()=>{this.explorer.setLinesNotifier(l,this.view.startLineIndex+n,c&&t.isRoot?-1:this.view.startLineIndex+n+o).notify(),this.source.highlight.addHighlightsNotify(d),qa.workspace.isVim&&qa.workspace.nvim.command("redraw",!0)})}};var qn=Symbol("rendererExplorer"),vh=class{constructor(t,r=t.explorer){this.view=t;this.explorer=r;this.renderMutex=new yT.Mutex}async runQueue(t){let r=await this.renderMutex.acquire();try{return await t()}catch(i){throw i}finally{r()}}rendererSources(){return this.explorer.sources.map(t=>t.view[Oi])}async renderAllNotifier(){let t=await Promise.all(this.rendererSources().map(r=>r.renderNotifier({force:!0})));return xT.Notifier.combine(t)}};var xh=class{constructor(t){this.viewSource=t;this.internal=(()=>{let t={records:new Map,store(r){return t.records.has(r.uid)||t.records.set(r.uid,{expanded:!1,compact:"uncompact"}),t.records.get(r.uid)},clear(){t.records.clear()},get(r,i){return t.store(r)[i]},set(r,i,n){t.store(r)[i]=n}};return t})();let r=t.source.context,i=t.config.get("expandStores");typeof i=="boolean"?this.enabled=i:"includes"in i?this.enabled=i.includes.includes(this.viewSource.source.sourceType):"excludes"in i?this.enabled=!i.excludes.includes(this.viewSource.source.sourceType):this.enabled=!0,r.subscriptions.push(t.source.explorer.events.on("open-pre",()=>{this.enabled||this.internal.clear()}))}setExpanded(t,r){r?this.expand(t):this.collapse(t)}expand(t){this.internal.set(t,"expanded",!0)}collapse(t){this.internal.set(t,"expanded",!1)}isExpanded(t){return this.internal.get(t,"expanded")}setCompact(t,r){this.internal.set(t,"compact",r)}getCompact(t){return this.internal.get(t,"compact")}};var Mi=class{constructor(t,r,i){this.source=t;this.columnRegistrar=r;this.rootNode=i;this.flattenedNodes=[];this.startLineIndex=0;this.endLineIndex=0;this.rootExpandedForOpen=!1;this.explorer=this.source.explorer,this.nodeStores=new xh(this),this.sourcePainters=new gh(this.source,this.columnRegistrar),this[Oi]=new hh(this)}get isHelpUI(){return this.explorer.view.isHelpUI}get config(){return this.source.config}async sync(t){return await this.explorer.view[qn].runQueue(()=>t(this[Oi]))}requestRenderNodes(t){for(let r of t)this[Oi].requestedRenderNodes.add(r)}dispose(){this.sourcePainters.dispose()}bootInit(t){this.rootExpandedForOpen=t}bootOpen(){this.nodeStores.setExpanded(this.rootNode,this.rootExpandedForOpen)}async load(t){await this.sourcePainters.load(t)}async parseTemplate(t,r,i){return await this.sourcePainters.parseTemplate(t,r,i)}get currentLineIndex(){return this.explorer.view.currentLineIndex-this.startLineIndex}currentNode(){return this.flattenedNodes[this.currentLineIndex]}currentSourceIndex(){let t=this.explorer.sources.indexOf(this.source);return t===-1?void 0:t}getNodeByLine(t){return this.flattenedNodes[t]}getLineByNode(t){if(t){let r=this.flattenedNodes.findIndex(i=>i.uid===t.uid);return r===-1?void 0:r}else return 0}setLinesNotifier(t,r,i){return this.explorer.setLinesNotifier(t,this.startLineIndex+r,this.startLineIndex+i)}replaceNodeInSibling(t,r){var i;if((i=t.parent)==null?void 0:i.children){let n=t.parent.children.indexOf(t);n!==-1&&(t.parent.children.splice(n,1,r),r.level=t.level,r.parent=t.parent,r.prevSiblingNode=t.prevSiblingNode,r.nextSiblingNode=t.nextSiblingNode)}}flattenParents(t){let r=t,i=[];for(;r.parent;)i.push(r.parent),r=r.parent;return i}flattenNode(t){var n,a,o;let r=[],i=[t];for(;i.length;){let s=i.shift();if(!s.isRoot){let u=this.nodeStores.getCompact(s);if(u==="compact"){if(!s.compactedNodes&&((n=s.children)==null?void 0:n.length)===1&&s.children[0].expandable){let l=s.children[0],d=[s,l];for(;((a=l.children)==null?void 0:a.length)===1&&l.children[0].expandable;)this.nodeStores.setCompact(l,"compact"),l=l.children[0],d.push(l);this.nodeStores.setCompact(l,"compact");let f=Sm(l);f.name=d.map(c=>c.name).join("/"),f.compactedNodes=d,f.compactedLastNode=l,this.replaceNodeInSibling(s,f),s=f}}else if(u==="uncompact"&&s.compactedNodes){let l=s.compactedNodes[0];for(let d of s.compactedNodes)this.nodeStores.setCompact(d,"uncompact");this.replaceNodeInSibling(s,l),s=l}}if(r.push(s),s.children)for(let u=s.children.length-1;u>=0;u--)s.children[u].parent=s,s.children[u].level=((o=s.level)!=null?o:0)+1,i.unshift(s.children[u])}return r}isExpanded(t){return this.nodeStores.isExpanded(t)}async expandRender(t){this.isHelpUI||!this.isExpanded(t)||!t.children||await this.sync(async r=>{let i=r.nodeAndChildrenRange(t);if(!i)return;let{startIndex:n,endIndex:a}=i,o=this.flattenNode(t);await this.sourcePainters.drawPre(o,{draw:async()=>{this.flattenedNodes=this.flattenedNodes.slice(0,n).concat(o).concat(this.flattenedNodes.slice(a+1)),this.source.locator.mark.offsetAfterLine(o.length-1-(a-n),n);let{contents:s,highlightPositions:u}=await r.drawNodes(o);await this.source.events.fire("drawn"),Xt.workspace.nvim.pauseNotification(),this.setLinesNotifier(s,n,a+1).notify(),this.source.highlight.addHighlightsNotify(u),Xt.workspace.isVim&&Xt.workspace.nvim.command("redraw",!0),await Xt.workspace.nvim.resumeNotification()},drawAll:async()=>(await r.renderNotifier()).run()})})}async expandRecursive(t,r){var s,u,l,d;let i=this.config.get("autoExpandOptions"),n=(s=r.compact)!=null?s:i.includes("compact"),a=(u=r.uncompact)!=null?u:i.includes("uncompact"),o=(l=r.recursiveSingle)!=null?l:i.includes("recursiveSingle")||n;if(t.expandable){let f=(d=r.depth)!=null?d:1,c=this.isExpanded(t);if(this.nodeStores.expand(t),t.children||(t.children=await this.source.loadInitedChildren(t,{recursiveExpanded:!0})),f>this.config.get("autoExpandMaxDepth"))return;let m=t.children.length===1&&t.children[0].expandable,g=this.nodeStores.getCompact(t);g==="uncompact"?m&&n&&this.nodeStores.setCompact(t,"compact"):g==="compact"&&(c&&a?this.nodeStores.setCompact(t,"uncompact"):this.nodeStores.setCompact(t,"compact")),(r.recursive||m&&o)&&await Promise.all(t.children.map(async y=>{await this.expandRecursive(y,re(E({},r),{depth:f+1}))}))}}async expand(t,r={}){var i;await this.expandRecursive(t,r),((i=r.render)!=null?i:!0)&&await this.expandRender(t)}async collapseRender(t){this.isHelpUI||this.isExpanded(t)||await this.sync(async r=>{let i=r.nodeAndChildrenRange(t);!i||await this.sourcePainters.drawPre([t],{draw:async()=>{let{startIndex:n,endIndex:a}=i;this.flattenedNodes.splice(n+1,a-n),this.explorer.locator.mark.removeLines(this.startLineIndex+n+1,this.startLineIndex+a),this.source.locator.mark.offsetAfterLine(-(a-n),a);let o=await this.source.locator.gotoLineIndexNotifier(n,0),{contents:s,highlightPositions:u}=await r.drawNodes([t]);await this.source.events.fire("drawn"),Xt.workspace.nvim.pauseNotification(),this.setLinesNotifier(s,n,a+1).notify(),this.source.highlight.addHighlightsNotify(u),o.notify(),Xt.workspace.isVim&&Xt.workspace.nvim.command("redraw",!0),await Xt.workspace.nvim.resumeNotification()},drawAll:async()=>(await r.renderNotifier()).run()})})}async collapseRecursive(t,r){if(t.expandable){this.nodeStores.collapse(t);let i=t.children;if(!i)return;if(t.children=void 0,r||this.config.get("autoCollapseOptions").includes("recursive"))for(let n of i)await this.collapseRecursive(n,r)}}async collapse(t,{recursive:r=!1}={}){await this.collapseRecursive(t,r),await this.collapseRender(t)}async renderNodes(t){return await this.sync(async r=>{await(await r.renderNodesNotifier(t)).run()})}async renderPaths(t){await this.sync(async r=>{await(await r.renderPathsNotifier(t)).run()})}async render(t){await this.sync(async r=>{var i;await((i=await r.renderNotifier(t))==null?void 0:i.run())})}};Oi;var Ia={fileRootTemplate:B.registerOption("file-root-template",{getDefault:()=>A.get("file.root.template")}),fileRootLabelingTemplate:B.registerOption("file-root-labeling-template",{getDefault:()=>A.get("file.root.labelingTemplate")}),fileChildTemplate:B.registerOption("file-child-template",{getDefault:()=>A.get("file.child.template")}),fileChildLabelingTemplate:B.registerOption("file-child-labeling-template",{getDefault:()=>A.get("file.child.labelingTemplate")})};var au=M(pe()),In=M(require("coc.nvim")),ft=M(require("path"));var wT=M(require("coc.nvim"));var _T=qr({name:"explorerDrives",defaultAction:"do",async loadItems(e){return e.map(t=>({label:t.name,data:t}))},doHighlight(){let{nvim:e}=wT.workspace;e.pauseNotification(),e.command("syntax match CocExplorerDriveName /\\v^[\\w:]+/",!0),e.command("highlight default link CocExplorerDriveName PreProc",!0),e.resumeNotification().catch(I.error)},init(){this.addAction("do",async({item:e})=>{await e.data.callback(e.data.name)})}});var yh=M(require("coc.nvim"));var bT=qr({defaultAction:"do",name:"ExplorerWorkspaceFolders",async loadItems(e){return yh.workspace.folderPaths.map(t=>({label:t,data:{path:t,callback:()=>{e==null||e.action.doAction("cd",[],[t]).catch(I.error)}}}))},init(){this.addAction("do",({item:e})=>{e.data.callback()})},doHighlight(){let{nvim:e}=yh.workspace;e.pauseNotification(),e.command("syntax match CocExplorerWorkspaceFolder /\\v^.*/",!0),e.command("highlight default link CocExplorerWorkspaceFolder PreProc",!0),e.resumeNotification().catch(I.error)}});function OT(e){let{nvim:t}=In.workspace,r=e.owner;e.addNodeAction("gotoParent",async()=>{var o;if(r.root==="")return;let a=(o=r.view.currentNode())==null?void 0:o.uid;/^[A-Za-z]:[\\\/]$/.test(r.root)?r.root="":(r.root=ft.default.dirname(r.root),await r.cd(r.root)),await r.view.expand(r.view.rootNode),a&&await r.locator.gotoNodeUid(a)},"change directory to parent directory"),e.addNodeAction("rootStrategies",({args:a})=>{let o=a[0];o&&(r.rootStrategies=o.split(","))},"change root strategies",{args:[{name:"root strategies",description:`root strategies of ${Xs.join(" | ")}`}],menus:{"workspace,cwd,sourceBuffer,reveal":"default",keep:"keep current root"}}),e.addNodeAction("resolveRoot",async({args:a,node:o})=>{var l;let s=a[0],u=await((l=r.explorer.rooter)==null?void 0:l.resolveRoot(s,r.rootStrategies));u&&await e.doAction("cd",o,[u])},"resolve and change directory to root",{args:[{name:"reveal path",description:"path string"}],menus:{path:{description:"use custom path",args:"<reveal-path>",async actionArgs(){var a,o;return[await at("input a reveal path:",(o=(a=r.view.currentNode())==null?void 0:a.fullpath)!=null?o:"","file")]}}}}),e.addNodeAction("reveal",async({node:a,args:o})=>{var d;let s=o[0],u,l;if(/\d+/.test(s))u=parseInt(s,10),u===0&&(u=await ut());else{let f=s!=null?s:"previousWindow",c={select:async()=>{await Ws(r.explorer.config,r.sourceType,{onSelect:async m=>{u=await Ls(m)}})},sourceWindow:async()=>{u=await Ls(await r.explorer.sourceWinnr())},previousBuffer:async()=>{u=await r.explorer.explorerManager.previousBufnr.get()},previousWindow:async()=>{u=await Ls(await r.explorer.explorerManager.prevWinnrByPrevWindowID())},path:async()=>{var m,g;l=o[1],l||(l=await at("Input a reveal path:",(g=(m=r.view.currentNode())==null?void 0:m.fullpath)!=null?g:"","file"))}};await((d=c[f])==null?void 0:d.call(c))}if(u){let f=await t.call("getbufinfo",[u]);if(!f[0]||!f[0].name)return;l=f[0].name}await r.view.sync(async f=>{var w;if(!l)return;Rs(r.root,l)||await e.doAction("resolveRoot",a,[l]);let m=((w=o[1])!=null?w:"").includes("compact")||void 0,[g,y]=await r.revealNodeByPathNotifier(f,l,{compact:m});g&&await au.Notifier.runAll(y)})},"reveal buffer in explorer",{args:[{name:"target",description:`bufnr number | ${hM.join(" | ")}`}],menus:{"0":"use current buffer","0:compact":"use current buffer and compact",select:"use select windows UI",previousBuffer:"use last used buffer",previousWindow:"use last used window",sourceWindow:"use the window where explorer opened",path:{description:"use custom path",args:"path:<path>",async actionArgs(){return["path"]}}}}),e.addNodeAction("cd",async({node:a,args:o})=>{let s=async l=>{await r.cd(l),r.root=l,await r.view.expand(r.view.rootNode)},u=o[0];u!==void 0?await s(u):a.directory&&await s(a.fullpath)},"change directory to current node",{args:[{name:"path"}],menus:{path:{description:"",args:"<path>",async actionArgs(){var a,o;return[await at("input a cd path:",(o=(a=r.view.currentNode())==null?void 0:a.fullpath)!=null?o:"","file")]}}}}),e.addNodeAction("workspaceFolders",async()=>{await mi(r.explorer,bT,r,["--normal"])},"change directory to current node"),e.addNodeAction("drop",async({node:a})=>{if(!a.directory){let o=await r.explorer.tryQuitOnOpenNotifier();t.pauseNotification(),t.command(`drop ${a.fullpath}`,!0),o.notify(),await t.resumeNotification()}},"open file by drop command",{select:!0}),e.addNodesAction("copyFilepath",async({nodes:a})=>{await r.copyToClipboard(a?a.map(o=>o.fullpath).join(`
`):r.root),In.window.showMessage("Copy filepath to clipboard")},"copy full filepath to clipboard"),e.addNodesAction("copyFilename",async({nodes:a})=>{await r.copyToClipboard(a?a.map(o=>o.name).join(`
`):ft.default.basename(r.root)),In.window.showMessage("Copy filename to clipboard")},"copy filename to clipboard");let i={args:[{name:"type",description:`${xM.join(" | ")}, default: toggle`}],menus:{toggle:"toggle mark",append:"append mark",replace:"remove all mark then add one mark"}},n={args:[{name:"type",description:`${yM.join(" | ")}, default: clear`}],menus:{keepCopy:"keep copy mark",clear:"clear copy and cut mark"}};e.addNodesAction("copyFile",async({nodes:a,args:o})=>{var u;let s=(u=o[0])!=null?u:"toggle";if(s==="replace"){r.view.requestRenderNodes([...r.copiedNodes,...r.cutNodes]),r.copiedNodes.clear(),r.cutNodes.clear();for(let l of a)r.copiedNodes.add(l)}else if(s==="toggle")for(let l of a)r.copiedNodes.has(l)?r.copiedNodes.delete(l):r.copiedNodes.add(l);else if(s==="append")for(let l of a)r.copiedNodes.add(l);r.view.requestRenderNodes(a)},"copy file for paste",i),e.addNodesAction("cutFile",async({nodes:a,args:o})=>{var u;let s=(u=o[0])!=null?u:"toggle";if(s==="replace"){r.view.requestRenderNodes([...r.copiedNodes,...r.cutNodes]),r.copiedNodes.clear(),r.cutNodes.clear();for(let l of a)r.cutNodes.add(l)}else if(s==="toggle")for(let l of a)r.cutNodes.has(l)?r.cutNodes.delete(l):r.cutNodes.add(l);else if(s==="append")for(let l of a)r.cutNodes.add(l);r.view.requestRenderNodes(a)},"cut file for paste",i),e.addNodeAction("pasteFile",async({node:a,args:o})=>{var l;let s=(l=o[0])!=null?l:"keepCopy";if(r.copiedNodes.size<=0&&r.cutNodes.size<=0){In.window.showMessage("Copied files or cut files is empty","error");return}let u=r.getPutTargetDir(a);if(r.copiedNodes.size>0){let d=[...r.copiedNodes];await ci("paste",d.map(f=>({source:f.fullpath,target:ft.default.join(u,ft.default.basename(f.fullpath))})),vg),r.view.requestRenderNodes(d),s==="clear"&&r.copiedNodes.clear()}if(r.cutNodes.size>0){let d=[...r.cutNodes];await ci("paste",d.map(f=>({source:f.fullpath,target:ft.default.join(u,ft.default.basename(f.fullpath))})),hg),r.cutNodes.clear()}await r.load(r.view.rootNode)},"paste files to here",n),e.addNodesAction("delete",async({nodes:a})=>{if(a.some(s=>r.bufManager.modified(s.fullpath,{directory:s.directory}))&&await nt("Buffer is being modified, discard it?")!=="yes")return;let o=a.map(s=>s.fullpath).join(`
`);if(await nt(`Move these files or directories to trash?
`+o)==="yes"){await Cs(a.map(s=>s.fullpath));for(let s of a)await r.bufManager.remove(s.fullpath,{skipModified:!0,bwipeout:!0,directory:s.directory})}},"move file or directory to trash",{reload:!0}),e.addNodesAction("deleteForever",async({nodes:a})=>{if(a.some(s=>r.bufManager.modified(s.fullpath,{directory:s.directory}))&&await nt("Buffer is being modified, discard it?")!=="yes")return;let o=a.map(s=>s.fullpath).join(`
`);if(await nt(`Delete these files or directories permanently?
`+o)==="yes")for(let s of a)await wO(s.fullpath),await r.bufManager.remove(s.fullpath,{skipModified:!0,bwipeout:!0,directory:s.directory})},"delete file or directory permanently",{reload:!0}),e.addNodeAction("addFile",async({node:a,args:o})=>{let s,u="Input a new filename:";if(o[0]?s=o[0]:s=await at(u,"","file"),s=s==null?void 0:s.trim(),!s)return;if(["/","\\"].includes(s[s.length-1])){await e.doAction("addDirectory",a,[s]);return}let l=r.getPutTargetNode(a),d=ft.default.join(l.fullpath,s);await ci("add file",[{source:void 0,target:d}],async(f,c)=>{await vO(c)}),await r.view.sync(async f=>{var y;let c=(y=l.parent)!=null?y:l,m=await r.loadNotifier(f,c),[,g]=await r.revealNodeByPathNotifier(f,d,{startNode:c});await au.Notifier.runAll([m,...g])})},"add a new file"),e.addNodeAction("addDirectory",async({node:a,args:o})=>{var d;let s=(d=o[0])!=null?d:await at("Input a new directory name:","","file");if(s=s.trim().replace(/(\/|\\)*$/g,""),!s)return;let u=r.getPutTargetNode(a),l=ft.default.join(u.fullpath,s);await ci("add directory",[{source:void 0,target:l}],async(f,c)=>{await gn(c)}),await r.view.sync(async f=>{var g;let c=await r.loadNotifier(f,(g=u.parent)!=null?g:u),[,m]=await r.revealNodeByPathNotifier(f,l,{startNode:u});await au.Notifier.runAll([c,...m])})},"add a new directory"),e.addNodeAction("rename",async({node:a})=>{if(r.bufManager.modified(a.fullpath,{directory:a.directory})&&await nt("Buffer is being modified, discard it?")!=="yes")return;let o;o=await at(`Rename: ${a.fullpath} ->`,a.fullpath,"file"),o=o==null?void 0:o.trim(),!!o&&(await ci("rename",[{source:a.fullpath,target:o}],hg),await r.bufManager.replace(a.fullpath,o,{skipModified:!0,bwipeout:!0,directory:a.directory}))},"rename a file or directory",{reload:!0}),e.addNodesAction("systemExecute",async({nodes:a})=>{let{default:o}=await Promise.resolve().then(()=>M(require("open")));a?await Promise.all(a.map(s=>o(s.fullpath))):await o(r.root)},"use system application open file or directory"),Ge&&e.addNodeAction("listDrive",async()=>{let a=await As();await mi(r.explorer,_T,a.map(o=>({name:o,callback:async s=>{r.root=s,await r.view.expand(r.view.rootNode)}})),["--normal","--number-select"])},"list drives"),e.addNodeAction("search",async({node:a,args:o})=>{var f;let s=((f=o[0])!=null?f:"").split("|"),u=s.includes("recursive"),l=s.includes("strict"),d=s.includes("noIgnore");await r.searchByCocList(a.isRoot?a.fullpath:ft.default.dirname(a.fullpath),{recursive:u,noIgnore:d,strict:l})},"search by coc-list, the ignore function requires the fd command",{args:[{name:"search options",description:_M.join(" | ")}],menus:{noIgnore:"no ignore",recursive:"recursively","recursive|noIgnore":"recursively and no ignore",strict:"exact match","recursive|strict":"recursively and strict"}}),e.addNodeAction("searchRecursive",async({node:a})=>{I.error('searchRecursive action has been deprecated, please use "search:recursive" instead of it'),await r.searchByCocList(ft.default.dirname(a.fullpath),{recursive:!0,noIgnore:!1,strict:!1})},"search by coc-list recursively"),e.addNodeAction("toggleOnlyGitChange",async()=>{r.showOnlyGitChange=!r.showOnlyGitChange,await r.view.sync(async a=>{let o=await r.loadNotifier(a,r.view.rootNode,{force:!0});t.pauseNotification(),r.highlight.clearHighlightsNotify(),o==null||o.notify(),await t.resumeNotification()})},"toggle visibility of git change node",{reload:!0})}var MT=class extends bi{},k=new MT;k.registerColumn("root","icon",({source:e})=>({draw(){return{drawNode(t,{node:r}){t.add(e.view.isExpanded(r)?e.icons.expanded:e.icons.collapsed,{hl:C.expandIcon})}}}}));k.registerColumn("root","git",({source:e,subscriptions:t})=>{let r=KM(e.config);return{init(){t.push(U.bindColumn(e))},async draw(){return{labelVisible({node:i}){var n;return!!((n=U.getRootStatus(i.fullpath))==null?void 0:n.formats.length)},async available(){return await U.cmd.available()},drawNode(i,{node:n,isLabeling:a}){let o=U.getRootStatus(n.fullpath);if(o==null?void 0:o.formats.length){let s=[];for(let l of o.formats)a?s.push(`${r[l].name}(${r[l].icon})`):s.push(r[l].icon);let u=o.allStaged?C.gitRootStaged:C.gitRootUnstaged;a?i.add(s.join(" & "),{hl:u}):i.add("{"+s.join("")+"}",{hl:u})}}}}}});k.registerColumn("root","title",()=>({draw(){return{drawNode(e){e.add("[FILE]",{hl:C.title})}}}}));k.registerColumn("root","hidden",({source:e})=>({draw(){return{drawNode(t){t.add(e.showHidden?e.icons.hidden:"",{hl:C.hidden})}}}}));var TT=M(require("path"));k.registerColumn("root","root",({source:e})=>({draw(){return{drawNode(t){t.add(TT.default.basename(e.root),{hl:C.rootName})}}}}));k.registerColumn("root","fullpath",()=>({draw(){return{drawNode(e,{node:t,isLabeling:r}){e.add(jr(t.fullpath),{hl:r?C.directory:C.fullpath})}}}}));k.registerColumn("child","git",({source:e,subscriptions:t})=>{let r=new Zt(e.config),i=ru(e.config),n=(a,o,s)=>{var u;return o?C.gitStaged:(u=r.getHighlight(a,s,["git"]))!=null?u:C.gitUnstaged};return{init(){t.push(U.bindColumn(e))},async available(){return await U.cmd.available()},async draw(){return{async labelVisible({node:a}){let o=U.getMixedStatus(a.fullpath,a.directory);return o?o.x!==S.unmodified||o.y!==S.unmodified:!1},drawNode(a,{node:o,nodeIndex:s,isLabeling:u}){let l=(f,c)=>{let m=n(o.fullpath,c,o.directory);u?a.add(`${i[f].name}(${i[f].icon})`,{hl:m}):a.add(i[f].icon,{hl:m})},d=U.getMixedStatus(o.fullpath,o.directory);d?(l(d.x,!0),u&&a.add(" "),l(d.y,!1),d.x===S.ignored?(e.locator.mark.remove("git",s),e.locator.mark.remove("gitStaged",s),e.locator.mark.remove("gitUnstaged",s)):(e.locator.mark.add("git",s),d.x!==S.unmodified?e.locator.mark.add("gitStaged",s):e.locator.mark.remove("gitStaged",s),d.y!==S.unmodified?e.locator.mark.add("gitUnstaged",s):e.locator.mark.remove("gitUnstaged",s))):(e.locator.mark.remove("git",s),e.locator.mark.remove("gitStaged",s),e.locator.mark.remove("gitUnstaged",s))}}}}});k.registerColumn("child","selection",({source:e})=>({draw(){return{drawNode(t,{node:r}){e.isSelectedNode(r)&&t.add(e.icons.selected)}}}}));var Jt=class{},jT={};function kr(e,t){jT[e]=t}var wh=new Map;function ST(e){if(!wh.has(e)){let t=jT[e];if(!t)return;wh.set(e,t())}return wh.get(e)}var IT=M(ma());var fY="./icons.nerdfont.schema.json",cY={folderClosed:{code:"\uE5FF",color:"#00afaf"},folderOpened:{code:"\uE5FE",color:"#00afaf"},folderSymlink:{code:"\uF482",color:"#00afaf"},folderNpm:{code:"\u4B8E",color:"#00afaf"},file:{code:"\uF723",color:"#999999"},fileSymlink:{code:"\uF481",color:"#999999"},fileHidden:{code:"\uFB12",color:"#999999"},excel:{code:"\uF71A",color:"#207245"},word:{code:"\uF72B",color:"#185abd"},ppt:{code:"\uF726",color:"#cb4a32"},stylus:{code:"\uE600",color:"#8dc149"},sass:{code:"\uE603",color:"#f55385"},html:{code:"\uE60E",color:"#e37933"},xml:{code:"\uFABF",color:"#e37933"},ejs:{code:"\uE618",color:"#cbcb41"},css:{code:"\uE614",color:"#519aba"},webpack:{code:"\uFC29",color:"#519aba"},markdown:{code:"\uE609",color:"#519aba"},json:{code:"\uE60B",color:"#cbcb41"},javascript:{code:"\uE60C",color:"#cbcb41"},javascriptreact:{code:"\uE7BA",color:"#519aba"},ruby:{code:"\uE791",color:"#cc3e44"},php:{code:"\uE608",color:"#a074c4"},python:{code:"\uE606",color:"#519aba"},coffee:{code:"\uE61B",color:"#cbcb41"},mustache:{code:"\uE60F",color:"#e37933"},conf:{code:"\uE615",color:"#6d8086"},image:{code:"\uE60D",color:"#a074c4"},ico:{code:"\uE60D",color:"#cbcb41"},twig:{code:"\uE61C",color:"#8dc149"},c:{code:"\uE61D",color:"#519aba"},h:{code:"\uF0FD",color:"#a074c4"},haskell:{code:"\uE61F",color:"#a074c4"},lua:{code:"\uE620",color:"#519aba"},java:{code:"\uE738",color:"#cc3e44"},terminal:{code:"\uE795",color:"#4d5a5e"},ml:{code:"\u03BB",color:"#e37933"},diff:{code:"\uE728",color:"#41535b"},sql:{code:"\uE706",color:"#f55385"},clojure:{code:"\uE768",color:"#8dc149"},edn:{code:"\uE76A",color:"#519aba"},scala:{code:"\uE737",color:"#cc3e44"},go:{code:"\uE627",color:"#519aba"},dart:{code:"\uE798",color:"#03589C"},firefox:{code:"\uE745",color:"#e37933"},vs:{code:"\uE70C",color:"#854CC7"},perl:{code:"\uE769",color:"#519aba"},rss:{code:"\uE619",color:"#fb9d3b"},csharp:{code:"\uF81A",color:"#519aba"},fsharp:{code:"\uE7A7",color:"#519aba"},rust:{code:"\uE7A8",color:"#519aba"},dlang:{code:"\uE7AF",color:"#cc3e44"},erlang:{code:"\uE7B1",color:"#A90533"},elixir:{code:"\uE62D",color:"#a074c4"},elm:{code:"\uE62C",color:"#519aba"},mix:{code:"\uE62D",color:"#cc3e44"},vim:{code:"\uE62B",color:"#019833"},ai:{code:"\uE7B4",color:"#cbcb41"},psd:{code:"\uE7B8",color:"#519aba"},psb:{code:"\uE7B8",color:"#519aba"},typescript:{code:"\uE628",color:"#519aba"},typescriptreact:{code:"\uE7BA",color:"#519aba"},julia:{code:"\uE624",color:"#a074c4"},puppet:{code:"\uF499",color:"#cbcb41"},vue:{code:"\uFD42",color:"#8dc149"},swift:{code:"\uE755",color:"#e37933"},git:{code:"\uE725",color:"#41535b"},bashrc:{code:"\uE615",color:"#4d5a5e"},favicon:{code:"\uE623",color:"#cbcb41"},docker:{code:"\uE7B0",color:"#519aba"},gruntfile:{code:"\uE611",color:"#e37933"},gulpfile:{code:"\uE610",color:"#cc3e44"},dropbox:{code:"\uE707",color:"#0061FE"},license:{code:"\uE60A",color:"#cbcb41"},procfile:{code:"\uE607",color:"#a074c4"},jquery:{code:"\uE750",color:"#1B75BB"},angular:{code:"\uE753",color:"#E23237"},backbone:{code:"\uE752",color:"#0071B5"},requirejs:{code:"\uE770",color:"#F44A41"},materialize:{code:"\uE7B6",color:"#EE6E73"},mootools:{code:"\uE78F",color:"#ECECEC"},vagrant:{code:"\uF2B8",color:"#1563FF"},svg:{code:"\uFC1F",color:"#FFB13B"},font:{code:"\uF031",color:"#999999"},text:{code:"\uF783",color:"#999999"},archive:{code:"\uF53B",color:"#cc3e44"},lock:{code:"\uF023",color:"#999999"}},pY={styl:"stylus",sass:"sass",scss:"sass",htm:"html",html:"html",slim:"html",xml:"xml",xaml:"xml",ejs:"ejs",css:"css",less:"css",md:"markdown",mdx:"markdown",markdown:"markdown",rmd:"markdown",lock:"lock",json:"json",js:"javascript",cjs:"javascript",mjs:"javascript",es6:"javascript",jsx:"javascriptreact",rb:"ruby",ru:"ruby",php:"php",py:"python",pyc:"python",pyo:"python",pyd:"python",coffee:"coffee",mustache:"mustache",hbs:"mustache",config:"conf",conf:"conf",ini:"conf",yml:"conf",yaml:"conf",toml:"conf",jpg:"image",jpeg:"image",bmp:"image",png:"image",gif:"image",webp:"image",ico:"ico",twig:"twig",cpp:"c","c++":"c",cxx:"c",cc:"c",cp:"c",c:"c",h:"h",hh:"h",hpp:"h",hxx:"h",hs:"haskell",lhs:"haskell",lua:"lua",java:"java",jar:"java",sh:"terminal",fish:"terminal",bash:"terminal",zsh:"terminal",ksh:"terminal",csh:"terminal",awk:"terminal",ps1:"terminal",bat:"terminal",cmd:"terminal",ml:"ml",mli:"ml",diff:"diff",db:"sql",sql:"sql",dump:"sql",accdb:"sql",clj:"clojure",cljc:"clojure",cljs:"clojure",edn:"edn",scala:"scala",go:"go",dart:"dart",xul:"firefox",pl:"perl",pm:"perl",t:"perl",rss:"rss",sln:"vs",suo:"vs",csproj:"vs",cs:"csharp",fsscript:"fsharp",fsx:"fsharp",fs:"fsharp",fsi:"fsharp",rs:"rust",rlib:"rust",d:"dlang",erl:"erlang",hrl:"erlang",ex:"elixir",eex:"elixir",exs:"elixir",exx:"elixir",leex:"elixir",vim:"vim",ai:"ai",psd:"psd",psb:"psd",ts:"typescript",tsx:"javascriptreact",jl:"julia",pp:"puppet",vue:"vue",elm:"elm",swift:"swift",xcplayground:"swift",svg:"svg",otf:"font",ttf:"font",fnt:"font",txt:"text",text:"text",zip:"archive",tar:"archive",gz:"archive",gzip:"archive",rar:"archive","7z":"archive",iso:"archive",doc:"word",docx:"word",docm:"word",csv:"excel",xls:"excel",xlsx:"excel",xlsm:"excel",ppt:"ppt",pptx:"ppt",pptm:"ppt"},mY={gruntfile:"gruntfile",gulpfile:"gulpfile",gemfile:"ruby",guardfile:"ruby",capfile:"ruby",rakefile:"ruby",mix:"mix",dropbox:"dropbox",vimrc:"vim",".vimrc":"vim",".gvimrc":"vim",_vimrc:"vim",_gvimrc:"vim",license:"license",procfile:"procfile",Vagrantfile:"vagrant","docker-compose.yml":"docker",".gitconfig":"git",".gitignore":"git",webpack:"webpack",".bashrc":"bashrc",".zshrc":"bashrc",".bashprofile":"bashrc","favicon.ico":"favicon",dockerfile:"docker",".dockerignore":"docker"},gY={".*jquery.*.js$":"jquery",".*angular.*.js$":"angular",".*backbone.*.js$":"backbone",".*require.*.js$":"requirejs",".*materialize.*.js$":"materialize",".*materialize.*.css$":"materialize",".*mootools.*.js$":"mootools"},hY={".git":"git",node_modules:"javascript"},vY={},qT={$schema:fY,icons:cY,extensions:pY,filenames:mY,patternMatches:gY,dirnames:hY,dirPatternMatches:vY};var Y=qT,Dn=A.get("icon.customIcons",{});Object.assign(Y.icons,Dn.icons);Object.assign(Y.extensions,Dn.extensions);Object.assign(Y.filenames,Dn.filenames);Object.assign(Y.dirnames,Dn.dirnames);Object.assign(Y.patternMatches,Dn.patternMatches);Object.assign(Y.dirPatternMatches,Dn.dirPatternMatches);var Da={};Object.entries(Y.icons).forEach(([e,t])=>{let r=ga(t.color);if(!r)return;let n=`ctermfg=${IT.default.rgb.ansi256([r.red,r.green,r.blue])} guifg=${t.color}`;Da[e]=H.createGroup(`FileIconNerdfont_${e}`,n)});var DT=class extends Jt{async loadIcons(t){var i;let r=[];for(let n of t){let a=n.isDirectory?this.getDirectoryIcon(n):this.getFileIcon(n);a&&(a.highlight=(i=Da[a.name])==null?void 0:i.group,r.push({icon:a,target:n}))}return r}getFileIcon(t){let{fullname:r,basename:i,extensions:n}=t,a=n[n.length-1];if(Y.filenames.hasOwnProperty(i)){let s=Y.filenames[i];return E({name:s},Y.icons[s])}if(Y.filenames.hasOwnProperty(r)){let s=Y.filenames[r];return E({name:s},Y.icons[s])}let o=Object.entries(Y.patternMatches).find(([s])=>new RegExp(s).test(r));if(o){let s=o[1];return E({name:s},Y.icons[s])}if(Y.extensions.hasOwnProperty(a)){let s=Y.extensions[a];return E({name:s},Y.icons[s])}}getDirectoryIcon(t){let{basename:r,fullname:i}=t;if(Y.dirnames.hasOwnProperty(r)){let a=Y.dirnames[r];return E({name:a},Y.icons[a])}if(Y.dirnames.hasOwnProperty(i)){let a=Y.dirnames[i];return E({name:a},Y.icons[a])}let n=Object.entries(Y.dirPatternMatches).find(([a])=>new RegExp(a).test(i));if(n){let a=n[1];return E({name:a},Y.icons[a])}}};kr("builtin",()=>new DT);var NT=M(require("coc.nvim"));var PT=class extends Jt{escapeLuaString(t,r="'"){return t&&t.replace(/\\/g,"\\").replace(new RegExp(r,"g"),"\\'")}async loadIcons(t){let r=[];for(let i of t){if(i.isDirectory)continue;let n=i.extensions[i.extensions.length-1],a=await NT.workspace.nvim.call("luaeval",["{require'nvim-web-devicons'.get_icon(_A[1], _A[2])}",[i.fullname,n]]),[o,s]=a;!o||r.push({target:i,icon:{code:o,highlight:s}})}return r}};kr("nvim-web-devicons",()=>new PT);var ET=M(require("coc.nvim"));var CT=class extends Jt{async loadIcons(t){let r=[];return await Promise.all(t.map(async i=>{if(i.isDirectory)return;let n=await ET.workspace.nvim.call("WebDevIconsGetFileTypeSymbol",[i.fullname,!1]);r.push({target:i,icon:{code:n}})})),r}};kr("vim-devicons",()=>new CT);var AT=M(require("coc.nvim"));var kT=class extends Jt{async loadIcons(t){let r=[];return await Promise.all(t.map(async i=>{let n=await AT.workspace.nvim.call("nerdfont#find",[i.fullname,i.isDirectory]);!n||r.push({target:i,icon:{code:n}})})),r}};kr("nerdfont.vim",()=>new kT);function xY(e){return e.map(t=>re(E({fullname:t.fullname},ks(t.fullname.toLowerCase())),{isDirectory:t.isDirectory,hidden:t.hidden,expanded:t.expanded}))}async function Na(e,t){let r=xY(t),i=ST(e);if(!i)return;let n=await i.loadIcons(r),[a,o]=sn(n,d=>d.target.isDirectory),s=os(a,d=>d.target.fullname),u=os(o,d=>d.target.fullname),l={files:new Map,directories:new Map};for(let d of t)if(s.hasOwnProperty(d.fullname))l.directories.set(d.fullname,s[d.fullname].icon);else if(u.hasOwnProperty(d.fullname))l.files.set(d.fullname,u[d.fullname].icon);else if(d.isDirectory){let f=d.expanded?Y.icons.folderOpened.code:Y.icons.folderClosed.code;l.directories.set(d.fullname,{code:f})}else{let f=d.hidden?Y.icons.fileHidden.code:Y.icons.file.code;l.files.set(d.fullname,{code:f})}return l}async function RT(e,t){if(e.get("icon.enableVimDevicons"))return I.error('The configuration `explorer.icon.enableVimDevicons` has been deprecated, please use `{"explorer.icon.enableNerdFont": true, "explorer.icon.source": "vim-devicons"}` instead of it'),Na("vim-devicons",t);if(!e.get("icon.enableNerdfont"))return;let n=e.get("icon.source");return Na(n,t)}k.registerColumn("child","icon",({source:e})=>({async draw(t){let r=t.map(n=>{var a,o;return{fullname:(o=(a=n.compactedLastNode)==null?void 0:a.name)!=null?o:n.name,hidden:n.hidden,isDirectory:n.directory,expanded:n.directory?e.view.isExpanded(n):void 0}}),i=await RT(e.config,r);return{async drawNode(n,{node:a}){var o,s,u;if(a.directory){let l=e.view.isExpanded(a)?C.directoryExpanded:C.directoryCollapsed,d=i==null?void 0:i.directories.get((s=(o=a.compactedLastNode)==null?void 0:o.name)!=null?s:a.name);d?n.add(d.code,{hl:l}):n.add(e.view.isExpanded(a)?e.icons.expanded:e.icons.collapsed,{hl:l})}else{let l=i==null?void 0:i.files.get(a.name);l&&n.add(l.code,{hl:(u=l.highlight)!=null?u:Da.file})}}}}}));k.registerColumn("child","filename",({source:e,subscriptions:t})=>{let r=new Zt(e.config),i=(a,o)=>{var s;return(s=r.getHighlight(a,o,["diagnosticError","diagnosticWarning","git"]))!=null?s:o?C.directory:C.filename},n=[];return r.enabledErrorStatus&&n.push("error"),r.enabledWarningStatus&&n.push("warning"),{init(){t.push(K.bindColumn(e,n),U.bindColumn(e))},draw(){return{async drawNode(a,{node:o}){a.add(o.name,{hl:i(o.fullpath,o.directory),unicode:!0})}}}}});k.registerColumn("child","linkIcon",({source:e})=>({draw(){return{drawNode(t,{node:r}){r.symbolicLink&&t.add(e.icons.link,{hl:C.linkTarget})}}}}));k.registerColumn("child","link",()=>({draw(){return{labelVisible:({node:e})=>e.symbolicLink,async drawNode(e,{node:t}){let r=t.symbolicLink?await xO(t.fullpath).then(i=>i).catch(()=>""):"";r&&e.add(r,{hl:C.linkTarget,unicode:!0})}}}}));var LT=M(require("path"));k.registerColumn("child","fullpath",()=>({draw(){return{drawNode(e,{node:t}){t.directory?e.add(jr(t.fullpath)+LT.default.sep,{hl:C.directory}):e.add(t.fullpath)}}}}));function yY(e){var i,n;let t="";if((i=e.parent)==null?void 0:i.isRoot)return t;e.nextSiblingNode===void 0?t="\u2514 ":t="\u2502 ";let r=e.parent;for(;r&&!((n=r.parent)==null?void 0:n.isRoot);)r.nextSiblingNode===void 0?t="  "+t:t="\u2502 "+t,r=r.parent;return t}k.registerColumn("child","indent",({source:e})=>({draw(){let t=e.config.get("icon.enableNerdfont"),r=(()=>{let i=e.getColumnConfig("indent.indentLine");return t&&i===void 0?!0:i})();return{drawNode(i,{node:n}){var a;r?i.add(yY(n),{hl:C.indentLine}):i.add(e.getColumnConfig("indent.chars").repeat(((a=n.level)!=null?a:0)-1))}}}}));k.registerColumn("child","clip",({source:e})=>({draw(){let t=e.getColumnConfig("clip.copy"),r=e.getColumnConfig("clip.cut");return e.config.get("icon.enableNerdfont")?(t=t!=null?t:"\uF68E",r=r!=null?r:"\uF68F"):(t=t!=null?t:"C",r=r!=null?r:"X"),{drawNode(i,{node:n}){let a=e.copiedNodes.has(n)?t:e.cutNodes.has(n)?r:"";a&&i.add(a,{hl:C.clip})}}}}));var HT=M(BT());k.registerColumn("child","size",()=>({draw(){return{labelVisible:({node:e})=>!e.directory,drawNode(e,{node:t}){t.lstat&&e.add((0,HT.default)(t.lstat.size),{hl:C.size})}}}}));k.registerColumn("child","readonly",({source:e})=>({draw(){return{labelOnly:!0,labelVisible:({node:t})=>t.readonly,drawNode(t,{node:r}){r.readonly&&t.add(r.readonly?e.icons.readonly:"",{hl:C.readonly})}}}}));k.registerColumn("child","modified",({source:e,subscriptions:t})=>({async init(){e.explorer.isFloating||t.push(e.bufManager.onModified(ot(500,async r=>{await e.view.renderPaths([r])})))},draw(){return{labelOnly:!0,labelVisible:({node:r})=>e.bufManager.modified(r.fullpath,{directory:r.directory}),drawNode(r,{node:i,nodeIndex:n}){let a=e.bufManager.modified(i.fullpath,{directory:i.directory&&!e.view.isExpanded(i)});r.add(a?"+":"",{hl:C.readonly}),a?e.locator.mark.add("modified",n):e.locator.mark.remove("modified",n)}}}}));var Mk=M(Jp());k.registerColumn("child","timeModified",({source:e})=>({draw(){return{drawNode(t,{node:r}){r.lstat&&t.add((0,Mk.format)(r.lstat.mtime,e.config.get("datetime.format")),{hl:C.timeModified})}}}}));var Tk=M(Jp());k.registerColumn("child","timeCreated",({source:e})=>({draw(){return{drawNode(t,{node:r}){r.lstat&&t.add((0,Tk.format)(r.lstat.ctime,e.config.get("datetime.format")),{hl:C.timeCreated})}}}}));var jk=M(Jp());k.registerColumn("child","timeAccessed",({source:e})=>({draw(){return{drawNode(t,{node:r}){r.lstat?t.add((0,jk.format)(r.lstat.atime,e.config.get("datetime.format")),{hl:C.timeAccessed}):t.add("                 ")}}}}));var Vr=e=>({displayMax:e.get("diagnostic.displayMax"),enableSubscriptNumber:e.get("diagnostic.enableSubscriptNumber")}),zr=(e,t)=>e>t.displayMax?"\u2717":t.enableSubscriptNumber?zy(e):e.toString();k.registerColumn("child","diagnosticError",({source:e,subscriptions:t})=>{let r=Vr(e.config);return{init(){t.push(K.bindColumn(e,["error"]))},draw(){return{labelVisible:({node:i})=>!!K.getMixedError(i.fullpath),drawNode(i,{node:n,isLabeling:a}){let o=K.getMixedError(n.fullpath);if(a){i.add((o!=null?o:0).toString(),{hl:C.diagnosticError});return}!o||n.directory&&e.view.isExpanded(n)||i.add(zr(o,r),{hl:C.diagnosticError})}}}}});k.registerColumn("child","diagnosticWarning",({source:e,subscriptions:t})=>{let r=Vr(e.config);return{init(){t.push(K.bindColumn(e,["warning"]))},draw(){return{labelVisible:({node:i})=>!!K.getMixedWarning(i.fullpath),drawNode(i,{node:n,isLabeling:a}){let o=K.getMixedWarning(n.fullpath);if(a){i.add((o!=null?o:0).toString(),{hl:C.diagnosticWarning});return}!o||n.expandable&&e.view.isExpanded(n)||i.add(zr(o,r),{hl:C.diagnosticWarning})}}}}});var ee=H.linkGroup.bind(H),ey=ee("FileDirectory","Directory"),C={title:ee("FileRoot","Constant"),hidden:ee("FileHidden","Comment"),rootName:ee("FileRootName","Identifier"),expandIcon:ee("FileExpandIcon","Directory"),fullpath:ee("FileFullpath","Comment"),filename:ee("FileFilename","None"),directory:ey,directoryExpanded:ee("FileDirectoryExpanded",ey.group),directoryCollapsed:ee("FileDirectoryCollapsed",ey.group),linkTarget:ee("FileLinkTarget","Comment"),gitStaged:ee("FileGitStaged",De.gitStaged.group),gitUnstaged:ee("FileGitUnstaged",De.gitUnstaged.group),gitRootStaged:ee("FileGitRootStaged","Comment"),gitRootUnstaged:ee("FileGitRootUnstaged","Operator"),indentLine:ee("IndentLine",fh.CommentColor),clip:ee("FileClip","Statement"),size:ee("FileSize","Constant"),readonly:ee("FileReadonly","Operator"),modified:ee("FileModified","Operator"),timeAccessed:ee("TimeAccessed","Identifier"),timeModified:ee("TimeModified","Identifier"),timeCreated:ee("TimeCreated","Identifier"),diagnosticError:ee("FileDiagnosticError",Qt.diagnosticError.group),diagnosticWarning:ee("FileDiagnosticWarning",Qt.diagnosticWarning.group),filenameDiagnosticError:ee("FileFilenameDiagnosticError","CocErrorSign"),filenameDiagnosticWarning:ee("FileFilenameDiagnosticWarning","CocWarningSign")},qk=class extends _i{constructor(){super(...arguments);this.scheme="file";this.showHidden=this.config.get("file.showHiddenFiles");this.showOnlyGitChange=!1;this.copiedNodes=new Set;this.cutNodes=new Set;this.view=new Mi(this,k,{type:"root",isRoot:!0,uid:this.helper.getUid(tm.default.sep),name:"root",fullpath:(0,Sk.homedir)(),expandable:!0,directory:!0,readonly:!0,executable:!1,readable:!0,writable:!0,hidden:!1,symbolicLink:!0,lstat:void 0});this.rootStrategies=[]}get root(){return this.view.rootNode.fullpath}set root(t){this.view.rootNode.uid=this.helper.getUid(t),this.view.rootNode.fullpath=t,this.view.rootNode.children=void 0}getHiddenRules(){return this.config.get("file.hiddenRules")}isHidden(t){let r=this.getHiddenRules(),{basename:i,extensions:n}=ks(t),a=n[n.length-1];return r.filenames.includes(i)||r.extensions.includes(a)||r.patternMatches.some(o=>new RegExp(o).test(t))}isGitChange(t,r){return!!U.getMixedStatus(t.fullpath+"/"+r,!1)}getColumnConfig(t,r){return this.config.get("file.column."+t,r)}async init(){gg(this.config)&&this.disposables.push(vi(async t=>{t!==this.explorer.bufnr&&(!this.explorer.visible()||this.explorer.isFloating||await this.view.sync(async r=>{var o;let i=(o=this.bufManager.getBufferNode(t))==null?void 0:o.fullpath;if(!i)return;let[n,a]=await this.revealNodeByPathNotifier(r,i);n&&await Qr.Notifier.runAll(a)}))},200)),this.disposables.push(this.events.on("loaded",()=>{this.copiedNodes.clear(),this.cutNodes.clear()})),OT(this.action)}async open(){await this.view.parseTemplate("root",await this.explorer.args.value(Ia.fileRootTemplate),await this.explorer.args.value(Ia.fileRootLabelingTemplate)),await this.view.parseTemplate("child",await this.explorer.args.value(Ia.fileChildTemplate),await this.explorer.args.value(Ia.fileChildLabelingTemplate)),this.root=this.explorer.root,this.rootStrategies=this.explorer.argValues.rootStrategies}async cd(t){let{nvim:r}=this,i=await r.call("fnameescape",t),n,a=this.config.get("file.tabCD");a!==void 0?(I.error("explorer.file.tabCD has been deprecated, please use explorer.file.cdCommand instead of it"),a?n="tcd":n="cd"):n=this.config.get("file.cdCommand"),n==="tcd"?(Ci.workspace.isNvim||await r.call("exists",[":tcd"]))&&(await r.command("tcd "+i),Ci.window.showMessage(`Tab's CWD is: ${t}`)):n==="cd"&&(await r.command("cd "+i),Ci.window.showMessage(`CWD is: ${t}`))}async openedNotifier(t,r){let i=this.explorer.args,n=await this.explorer.revealPath();if(!n)return r?this.locator.gotoRootNotifier({col:1}):Qr.Notifier.noop();let a=i.has(Re.reveal);if(gg(this.config)||Ds(this.config,this.explorer.argValues.revealWhenOpen)||a){let[o,s]=await this.revealNodeByPathNotifier(t,n);if(o!==void 0)return Qr.Notifier.combine(s);if(r)return Qr.Notifier.combine([...s,await this.locator.gotoRootNotifier({col:1})])}else if(r)return this.locator.gotoRootNotifier({col:1});return Qr.Notifier.noop()}getPutTargetNode(t){return t.isRoot?this.view.rootNode:t.expandable&&this.view.isExpanded(t)?t:t.parent?t.parent:this.view.rootNode}getPutTargetDir(t){return this.getPutTargetNode(t).fullpath}async searchByCocList(t,{recursive:r,noIgnore:i,strict:n}){var s;let a=n?["--strict"]:[],o=await mi(this.explorer,gT,{showHidden:this.showHidden,showIgnores:i,rootPath:t,recursive:r,revealCallback:async u=>{await o.waitExplorerShow(),await this.view.sync(async l=>{let[,d]=await this.revealNodeByPathNotifier(l,Ci.Uri.parse(u.uri).fsPath);await Qr.Notifier.runAll(d)})}},a);(s=o.waitExplorerShow())==null||s.catch(I.error)}filterForReveal(t,r){var a,o;let i=this.config.get("file.reveal.filter"),n=t.slice(r.length);for(let s of(a=i.literals)!=null?a:[])if(n.includes(s))return!0;for(let s of(o=i.patterns)!=null?o:[])if(new RegExp(s).test(n))return!0;return!1}async revealNodeByPathNotifier(t,r,{startNode:i=this.view.rootNode,goto:n=!0,render:a=!0,compact:o}={}){if(r=ve(r),this.filterForReveal(r,i.fullpath))return[void 0,[]];let s=[],u=async(d,{startNode:f,goto:c,render:m})=>{if(d===f.fullpath)return f;if(f.directory&&d.startsWith(f.fullpath+tm.default.sep)){let g,y=m&&!this.view.isExpanded(f);f.children||(f.children=await this.loadInitedChildren(f));for(let w of f.children)if(g=await u(d,{startNode:w,goto:!1,render:y?!1:m}),g){await this.view.expand(f,{compact:o,uncompact:!1,render:!1});break}if(g){if(y){let w=await t.renderNotifier({node:f});w&&s.push(w)}c&&(s.push(await this.locator.gotoNodeNotifier(g)),s.push(Qr.Notifier.create(()=>this.nvim.command("redraw!",!0))))}return g}};return[await u(r,{startNode:i,goto:n,render:a}),s]}sortFiles(t){return t.sort((r,i)=>r.directory&&!i.directory?-1:i.directory&&!r.directory?1:r.name.localeCompare(i.name))}async loadChildren(t){let r;Ge&&t.fullpath===""?r=await As():r=await hn(t.fullpath);let i=await Promise.all(r.map(async n=>{try{if(this.showOnlyGitChange&&!this.isGitChange(t,n))return;let a=this.isHidden(n);if(!this.showHidden&&a)return;let o=ve(tm.default.join(t.fullpath,n)),s=await di(o).catch(()=>{}),u=await fi(o).catch(()=>{}),l=await la(o,em.default.constants.X_OK),d=await la(o,em.default.constants.W_OK),f=await la(o,em.default.constants.R_OK),c=Ge&&/^[A-Za-z]:[\\\/]$/.test(o)?!0:s?s.isDirectory():!1;return{type:"child",uid:this.helper.getUid(o),expandable:c,name:n,fullpath:o,directory:c,readonly:!d&&f,executable:l,readable:f,writable:d,hidden:a,symbolicLink:u?u.isSymbolicLink():!1,lstat:u||void 0}}catch(a){I.error(a);return}}));return this.sortFiles(i.filter(n=>!!n))}};zt.registerSource("file",qk);var Zt=class{constructor(t){let r="filename.colored.enable",i=t.get(r,!1)===!0;this.enabledGitStatus=i||t.get(r+".git",!1),this.enabledErrorStatus=i||t.get(r+".diagnosticError",!1),this.enabledWarningStatus=i||t.get(r+".diagnosticWarning",!1)}getGitHighlight(t){return t.x===S.ignored?De.gitIgnored:rT(t.y)}getHighlight(t,r,i){for(let n of i)if(n==="diagnosticWarning"){if(this.enabledWarningStatus&&K.getMixedWarning(t))return C.diagnosticWarning}else if(n==="diagnosticError"){if(this.enabledErrorStatus&&K.getMixedError(t))return C.diagnosticError}else if(n==="git"&&this.enabledGitStatus){let a=U.getMixedStatus(t,r);if(a)return this.getGitHighlight(a)}}};z.registerColumn("child","git",({source:e,subscriptions:t})=>{let r=new Zt(e.config),i=ru(e.config),n=(a,o)=>{var s;return o?De.gitStaged:(s=r.getHighlight(a,!1,["git"]))!=null?s:De.gitUnstaged};return{init(){t.push(U.bindColumn(e))},async available(){return await U.cmd.available()},async draw(){return{async labelVisible({node:a}){let o=U.getMixedStatus(a.fullpath,!1);return o?o.x!==S.unmodified||o.y!==S.unmodified:!1},drawNode(a,{node:o,nodeIndex:s,isLabeling:u}){let l=(f,c)=>{let m=n(o.fullpath,c);u?a.add(`${i[f].name}(${i[f].icon})`,{hl:m}):a.add(i[f].icon,{hl:m})},d=U.getMixedStatus(o.fullpath,!1);d?(l(d.x,!0),u&&a.add(" "),l(d.y,!1),d.x===S.ignored?(e.locator.mark.remove("git",s),e.locator.mark.remove("gitStaged",s),e.locator.mark.remove("gitUnstaged",s)):(e.locator.mark.add("git",s),d.x!==S.unmodified?e.locator.mark.add("gitStaged",s):e.locator.mark.remove("gitStaged",s),d.y!==S.unmodified?e.locator.mark.add("gitUnstaged",s):e.locator.mark.remove("gitUnstaged",s))):(e.locator.mark.remove("git",s),e.locator.mark.remove("gitStaged",s),e.locator.mark.remove("gitUnstaged",s))}}}}});z.registerColumn("child","selection",({source:e})=>({draw(){return{drawNode(t,{node:r}){e.isSelectedNode(r)&&t.add(e.icons.selected)}}}}));z.registerColumn("child","name",({source:e})=>{let t=new Zt(e.config),r=(i,n)=>{var a;return(a=t.getHighlight(i,!1,["diagnosticError","diagnosticWarning","git"]))!=null?a:n?Te.nameVisible:void 0};return{draw(){return{drawNode(i,{node:n}){i.add(n.name,{hl:r(n.fullpath,n.visible)})}}}}});z.registerColumn("child","bufname",()=>({draw(){return{drawNode(e,{node:t}){e.add(t.bufname,{hl:Te.bufname})}}}}));z.registerColumn("child","modified",({source:e})=>({draw(){return{labelVisible({node:t}){return t.modified||!t.modifiable},drawNode(t,{node:r,nodeIndex:i}){let n=r.modified?"+":r.modifiable?"":"-";n&&t.add(n,{hl:Te.modified}),r.modified?e.locator.mark.add("modified",i):e.locator.mark.remove("modified",i)}}}}));z.registerColumn("child","bufnr",()=>{let e=0;return{draw(t,{drawAll:r,abort:i}){let n=on(t.map(a=>a.bufnrStr.length));return n?(e!==n&&(e=n,r()),{drawNode(a,{node:o}){a.add(o.bufnrStr.padStart(e),{hl:Te.bufnr})}}):i()}}});z.registerColumn("child","diagnosticError",({source:e,subscriptions:t})=>{let r=Vr(e.config);return{init(){t.push(K.bindColumn(e,["error"]))},draw(){return{labelVisible:({node:i})=>!!K.getMixedError(i.fullpath),drawNode(i,{node:n,isLabeling:a}){let o=K.getMixedError(n.fullpath);if(a){i.add((o!=null?o:0).toString(),{hl:Qt.diagnosticError});return}!o||i.add(zr(o,r),{hl:Qt.diagnosticError})}}}}});z.registerColumn("child","diagnosticWarning",({source:e,subscriptions:t})=>{let r=Vr(e.config);return{init(){t.push(K.bindColumn(e,["warning"]))},draw(){return{labelVisible:({node:i})=>!!K.getMixedWarning(i.fullpath),drawNode(i,{node:n,isLabeling:a}){let o=K.getMixedWarning(n.fullpath);if(a){i.add((o!=null?o:0).toString(),{hl:Qt.diagnosticWarning});return}!o||i.add(zr(o,r),{hl:Qt.diagnosticWarning})}}}}});z.registerColumn("child","readonly",({source:e})=>({draw(){return{labelOnly:!0,labelVisible:({node:t})=>t.readonly,drawNode(t,{node:r}){r.readonly&&t.add(r.readonly?e.icons.readonly:"",{hl:Te.readonly})}}}}));z.registerColumn("child","fullpath",()=>({draw(){return{drawNode(e,{node:t}){e.add(jr(t.fullpath),{hl:Te.fullpath})}}}}));var Ik=M(require("coc.nvim"));function Dk(e){let{nvim:t}=Ik.workspace,r=e.owner;e.addNodeAction("drop",async({node:i})=>{if(!i.hidden){let a=await t.call("getbufinfo",i.bufnr);if(a.length&&a[0].windows.length){let o=await r.explorer.tryQuitOnOpenNotifier(),s=a[0].windows[0];t.pauseNotification(),t.call("win_gotoid",s,!0),o.notify(),await t.resumeNotification();return}}let n=await r.explorer.tryQuitOnOpenNotifier();t.pauseNotification(),t.command(`buffer ${i.bufnr}`,!0),n.notify(),await t.resumeNotification()},"open buffer by drop command",{select:!0}),e.addNodeAction("delete",async({node:i})=>{r.bufManager.modified(i.fullpath,{directory:!1})&&await nt("Buffer is being modified, delete it?")!=="yes"||(await r.bufManager.removeBufNode(i,{skipModified:!0,bwipeout:!1,directory:!1}),await r.load(i,{force:!0}))},"delete buffer",{select:!0}),e.addNodeAction("deleteForever",async({node:i})=>{r.bufManager.modified(i.fullpath,{directory:!1})&&await nt("Buffer is being modified, wipeout it?")!=="yes"||(await r.bufManager.removeBufNode(i,{skipModified:!0,bwipeout:!0,directory:!1}),await r.load(i,{force:!0}))},"bwipeout buffer",{select:!0})}var rm={bufferRootTemplate:B.registerOption("buffer-root-template",{getDefault:()=>A.get("buffer.root.template")}),bufferChildTemplate:B.registerOption("buffer-child-template",{getDefault:()=>A.get("buffer.child.template")}),bufferChildLabelingTemplate:B.registerOption("buffer-child-labeling-template",{getDefault:()=>A.get("buffer.child.labelingTemplate")})};var ar=H.linkGroup.bind(H),Te={title:ar("BufferRoot","Constant"),hidden:ar("BufferHidden","Comment"),expandIcon:ar("BufferExpandIcon","Directory"),nameVisible:ar("BufferNameVisible","String"),bufname:ar("BufferBufname","Comment"),modified:ar("BufferModified","Operator"),bufnr:ar("BufferBufnr","Special"),readonly:ar("BufferReadonly","Operator"),fullpath:ar("BufferFullpath","Comment")},Nk=class extends _i{constructor(){super(...arguments);this.showHidden=this.config.get("file.showHiddenBuffers");this.view=new Mi(this,z,{type:"root",isRoot:!0,expandable:!0,uid:this.helper.getUid("0"),bufnr:0,bufnrStr:"0",bufname:"",fullpath:"",name:"",unlisted:!0,current:!1,previous:!1,visible:!1,hidden:!1,modifiable:!1,readonly:!0,terminal:!1,modified:!1,readErrors:!1})}async init(){this.disposables.push(this.bufManager.onReload(ot(500,async()=>{!this.explorer.visible()||await this.load(this.view.rootNode)})),this.bufManager.onModified(ot(500,async()=>{!this.explorer.visible()||await this.load(this.view.rootNode)}))),Dk(this.action)}async open(){await this.view.parseTemplate("root",await this.explorer.args.value(rm.bufferRootTemplate)),await this.view.parseTemplate("child",await this.explorer.args.value(rm.bufferChildTemplate),await this.explorer.args.value(rm.bufferChildLabelingTemplate))}async loadChildren(t,{force:r=!1}={}){r&&await this.bufManager.reload();let i=this.bufManager.bufferNodes,n=this.config.get("buffer.tabOnly");if(this.showHidden)return[...i];if(n){let a=ai(await this.nvim.call("tabpagebuflist",[]));return i.filter(o=>a.includes(o.bufnr)&&!o.unlisted)}else return i.filter(a=>!a.unlisted)}};zt.registerSource("buffer",Nk);var Kr=M(require("coc.nvim")),ry=M(require("path"));var im={bookmarkRootTemplate:B.registerOption("bookmark-root-template",{getDefault:()=>A.get("bookmark.root.template")}),bookmarkChildTemplate:B.registerOption("bookmark-child-template",{getDefault:()=>A.get("bookmark.child.template")}),bookmarkChildLabelingTemplate:B.registerOption("bookmark-child-labeling-template",{getDefault:()=>A.get("bookmark.child.labelingTemplate")})};var Pk=class extends bi{},xe=new Pk;xe.registerColumn("root","icon",({source:e})=>({draw(){return{drawNode(t,{node:r}){t.add(e.view.isExpanded(r)?e.icons.expanded:e.icons.collapsed,{hl:Ne.expandIcon})}}}}));xe.registerColumn("root","title",()=>({draw(){return{drawNode(e){e.add("[BOOKMARK]",{hl:Ne.title})}}}}));xe.registerColumn("root","hidden",({source:e})=>({draw(){return{drawNode(t){t.add(e.showHidden?e.icons.hidden:"",{hl:Ne.hidden})}}}}));xe.registerColumn("child","selection",({source:e})=>({draw(){return{drawNode(t,{node:r}){e.isSelectedNode(r)&&t.add(e.icons.selected)}}}}));xe.registerColumn("child","position",()=>({draw(){return{drawNode(e,{node:t}){e.add(`line: ${t.lnum}`,{hl:Ne.position})}}}}));xe.registerColumn("child","filename",()=>({draw(){return{drawNode(e,{node:t}){e.add(t.name,{hl:Ne.filename})}}}}));xe.registerColumn("child","fullpath",()=>({draw(){return{drawNode(e,{node:t}){e.add(jr(t.fullpath),{hl:Ne.fullpath})}}}}));xe.registerColumn("child","line",()=>({draw(){return{drawNode(e,{node:t}){e.add(t.line,{hl:Ne.line})}}}}));xe.registerColumn("child","annotation",()=>({draw(){return{drawNode(e,{node:t}){t.annotation&&e.add(t.annotation,{hl:Ne.annotation})}}}}));var ty=M(require("path"));var nm=class{constructor(t){this.filepath=t}async load(){let t=ty.default.dirname(this.filepath),r=await di(t).catch(()=>null);if(!r||!r.isDirectory())return{};try{let i=await yO(this.filepath,{encoding:"utf8"});return JSON.parse(i.trim())}catch{return{}}}async fetch(t){let r=await this.load();if(!t)return r;let i=t.split(".");for(let n of i){if(typeof r[n]=="undefined")return;r=r[n]}return r}async exists(t){let r=await this.load(),i=t.split(".");for(let n of i){if(typeof r[n]=="undefined")return!1;r=r[n]}return!0}async push(t,r){let i=await this.load()||{},n=i,a=t.split("."),o=a.length;if(n===null){let s=ty.default.dirname(this.filepath);await gn(s),n=i}for(let s=0;s<o;s++){let u=a[s];if(s===o-1){n[u]=r,await Ps(this.filepath,JSON.stringify(i,null,2));break}typeof n[u]=="undefined"&&(n[u]={}),n=n[u]}}async delete(t){let r=await this.load(),i=r,n=t.split("."),a=n.length;for(let o=0;o<a&&typeof r[n[o]]!="undefined";o++){if(o===a-1){delete r[n[o]],await Ps(this.filepath,JSON.stringify(i,null,2));break}r=r[n[o]]}}async clear(){let t=await di(this.filepath).catch(()=>null);!t||!t.isFile()||await Ps(this.filepath,"{}")}};function Ek(e){return decodeURIComponent(e)}var Ai=H.linkGroup.bind(H),Ne={title:Ai("BookmarkRoot","Constant"),hidden:Ai("BookmarkHidden","Commment"),expandIcon:Ai("BookmarkExpandIcon","Directory"),filename:Ai("BookmarkFilename","String"),fullpath:Ai("BookmarkFullpath","Special"),position:Ai("BookmarkPosition","Comment"),line:H.createGroup("BookmarkLine","ctermbg=27 ctermfg=0 guibg=#1593e5 guifg=#ffffff"),annotation:Ai("BookmarkAnnotation","Comment")},Ck=class extends _i{constructor(){super(...arguments);this.view=new Mi(this,xe,{type:"root",isRoot:!0,expandable:!0,uid:this.helper.getUid("0"),name:"",fullpath:"",lnum:-1,line:"",annotation:void 0})}static get enabled(){return Kr.extensions.getExtensionState("coc-bookmark")==="activated"}async init(){this.disposables.push($t.on("CocBookmarkChange",ot(500,async()=>{await this.load(this.view.rootNode)})))}async open(){await this.view.parseTemplate("root",await this.explorer.args.value(im.bookmarkRootTemplate)),await this.view.parseTemplate("child",await this.explorer.args.value(im.bookmarkChildTemplate),await this.explorer.args.value(im.bookmarkChildLabelingTemplate)),this.view.rootNode.fullpath=this.explorer.root}async loadChildren(t){var s;let r=Kr.workspace.env.extensionRoot,i=ry.default.join(r,"coc-bookmark-data/bookmark.json"),a=await new nm(i).load(),o=[];for(let[u,l]of Object.entries(a)){let d=ve(Ek(u));if(!(!this.showHidden&&!d.startsWith(t.fullpath)||!await Es(d)))for(let f of Object.keys(l).map(c=>Number(c)).sort((c,m)=>c-m)){let c=l[f];o.push({type:"child",uid:this.helper.getUid(d+":"+f),fullpath:d,name:ry.default.basename(d),lnum:f,location:Kr.Location.create(d,Kr.Range.create(f,-1,f,-1)),line:c.line,annotation:(s=c.annotation)==null?void 0:s.toString()})}}return o}};zt.registerSource("bookmark",Ck);var Ak=M(pe());var iy=class{constructor(t){this.explorer=t;this.isHelpUI=!1;this.currentLineIndex=0;this[qn]=new vh(this)}async sync(t){return await t(this[qn])}get flattenedNodes(){return this.explorer.sources.reduce((t,r)=>t.concat(r.view.flattenedNodes),[])}async refreshLineIndex(){let t=await this.explorer.win;if(t){let r=await t.cursor;this.currentLineIndex=r[0]-1}}async currentSource(){return this.explorer.sources[await this.currentSourceIndex()]}async currentSourceIndex(){let t=this.currentLineIndex;return this.explorer.sources.findIndex(r=>t>=r.view.startLineIndex&&t<r.view.endLineIndex)}async currentNode(){let t=await this.currentSource();if(t){let r=this.currentLineIndex-t.view.startLineIndex;return t.view.flattenedNodes[r]}}async emitRequestRenderNodes(){await this.sync(async t=>{let r=await Promise.all(t.rendererSources().map(i=>i.emitRequestRenderNodesNotifier()));await Ak.Notifier.runAll(r)})}};qn;var or=class{constructor(t,r,i,n,a){this.explorerID=t;this.explorerManager=r;this.bufnr=i;this.borderBufnr=n;this.config=a;this.nvim=et.workspace.nvim;this.contentWidth=0;this.action=new Bg(this);this.highlight=new th(this);this.view=new iy(this);this.locator=new ih(this);this.events=new mt.HelperEventEmitter(I);this.firstOpened=!1;this.disposables=[];this.isHide=!1;this.context=r.context,this.buffer=this.nvim.createBuffer(this.bufnr),this.inited=new wa("inited",this.buffer),this.sourceWinid=new wa("sourceWinid",this.buffer),this.sourceBufnr=new wa("sourceBufnr",this.buffer),this.floatingPreview=new Zg(this),n&&this.disposables.push(Je("BufWinLeave",async o=>{o===i&&await _g([n]).run()})),jM(this.action)}static genExplorerPosition(t,r){var s,u,l;let i=0,n=0,a=0,o=0;if(t.position.name!=="floating")i=(s=r==null?void 0:r[0])!=null?s:t.width;else{i=(u=r==null?void 0:r[0])!=null?u:t.floatingWidth,n=(l=r==null?void 0:r[1])!=null?l:t.floatingHeight;let[d,f]=[et.workspace.env.columns,et.workspace.env.lines-et.workspace.env.cmdheight];i<=0&&(i=d+i),n<=0&&(n=f+n);let c=t.floatingPosition;c==="left-center"?(a=0,o=(f-n)/2):c==="center"?(a=(d-i)/2,o=(f-n)/2):c==="right-center"?(a=d-i,o=(f-n)/2):c==="center-top"?(a=(d-i)/2,o=0):[a,o]=c}return{width:i,height:n,top:o,left:a}}static async create(t,r,i){t.maxExplorerID+=1;let{width:n,height:a,top:o,left:s}=this.genExplorerPosition(r),[u,l]=await et.workspace.nvim.call("coc_explorer#open_explorer",[t.maxExplorerID,r.position,{width:n,height:a,left:s,top:o,focus:r.focus,border_enable:i.get("floating.border.enable"),border_chars:i.get("floating.border.chars"),title:i.get("floating.border.title")}]),d=new or(t.maxExplorerID,t,u,l,i);return await d.inited.set(!0),d}dispose(){this.floatingPreview.dispose(),this.disposables.forEach(t=>t.dispose())}get root(){if(!this.root_)throw Error("Explorer root not initialized yet");return this.root_}get args(){if(!this.args_)throw Error("Explorer args not initialized yet");return this.args_}get argValues(){if(!this.argValues_)throw Error("Explorer argValues not initialized yet");return this.argValues_}get isFloating(){if(this.isFloating_===void 0)throw Error("Explorer isFloating not initialized yet");return this.isFloating_}get sources(){if(!this.sources_)throw Error("Explorer sources not initialized yet");return this.sources_}get height(){return he(this.sources.map(t=>t.height))}get win(){return this.winid.then(Og)}get winnr(){return fa(this.bufnr)}get winid(){return this.winnr.then(bg)}get borderWin(){return this.borderWinid.then(Og)}get borderWinnr(){return fa(this.borderBufnr)}get borderWinid(){return this.borderWinnr.then(bg)}async sourceWinnr(){let t=await this.sourceWinid.get();if(!t)return;let r=await this.nvim.call("win_id2win",[t]);if(!(r<=0||(await this.explorerManager.winnrs()).includes(r)))return r}async sourceBufnrBySourceWinid(){let t=await this.sourceWinid.get();if(!t)return;let r=await this.nvim.call("winbufnr",[t]);if(!(r<=0))return r}async sourceBuffer(){let t=await this.sourceBufnr.get();if(!!t)return this.nvim.createBuffer(t)}visible(){let t=this.explorerManager.bufManager.getBufferNode(this.bufnr);return t==null?void 0:t.visible}async refreshWidth(){let t=await this.win;if(!t)return;let r=async(i,n)=>{if(n<=0){let a;if(i==="win-width"?(a=await t.width,(await t.getOption("relativenumber")||await t.getOption("number"))&&(a-=await t.getOption("numberwidth"))):i==="vim-width"&&(a=await et.workspace.nvim.eval("&columns")),a)return this.contentWidth=a+n,!0}else return this.contentWidth=n,!0};this.isFloating&&await r("win-width",this.argValues.floatingContentWidth)||!await r(this.argValues.contentWidthType,this.argValues.contentWidth)}async resize(t){let r=or.genExplorerPosition(this.argValues,t),{top:i,left:n,width:a,height:o}=r;await this.nvim.call("coc_explorer#resize",[this.bufnr,this.argValues.position,{width:a,height:o,left:n,top:i,border_bufnr:this.borderBufnr,border_enable:this.config.get("floating.border.enable"),border_chars:this.config.get("floating.border.chars"),title:this.config.get("floating.border.title")}])}async focus(){let t=await this.win;return t?(await this.nvim.command(`${await t.number}wincmd w`),await this.resize(),!0):!1}async resume(t){let{width:r,height:i,top:n,left:a}=or.genExplorerPosition(t);await this.nvim.call("coc_explorer#resume",[this.bufnr,t.position,{width:r,height:i,left:a,top:n,focus:t.focus,border_bufnr:this.borderBufnr,border_enable:this.config.get("floating.border.enable"),border_chars:this.config.get("floating.border.chars"),title:this.config.get("floating.border.title")}])}async open(t,r,i){let n;this.firstOpened?n=!1:(n=!0,this.firstOpened=!0),n&&await this.events.fire("first-open-pre"),await this.events.fire("open-pre"),await $s("CocExplorerOpenPre"),this.rooter=r.open(this),this.view.isHelpUI&&await this.quitHelp(),await this.highlight.bootSyntax();let a=await this.initArgs(t,this.rooter);for(let o of this.sources)await o.bootOpen(i);await this.view.sync(async o=>{let s=[];a&&s.push(this.clearLinesNotifier()),s.push(await this.loadAllNotifier(o),...await Promise.all(o.rendererSources().map(u=>u.source.openedNotifier(u,i)))),await mt.Notifier.runAll(s),await $s("CocExplorerOpenPost"),await this.events.fire("open-post"),n&&await this.events.fire("first-open-post")})}async tryQuitOnOpenNotifier(){return this.argValues.quitOnOpen||this.isFloating?this.quitNotifier():mt.Notifier.noop()}async tryQuitOnOpen(){return mt.Notifier.run(this.tryQuitOnOpenNotifier())}async hide(){this.isHide=!0,await this.quit(!0)}async show(){this.isHide&&(this.isHide=!1,await this.resume(this.argValues))}async quitNotifier(t=!1){t||await $s("CocExplorerQuitPre");let r=await this.sourceWinnr(),i=await ut();return mt.Notifier.create(()=>{r&&this.bufnr===i&&this.nvim.command(`${r}wincmd w`,!0),_g([this.bufnr]).notify(),t||Pg("CocExplorerQuitPost").notify()})}async quit(t=!1){return mt.Notifier.run(await this.quitNotifier(t))}async initRoot(t,r){let i=t.rootUri;if(i){this.root_=ve(i);return}let n;Ds(this.config,this.argValues.revealWhenOpen)&&(n=await this.revealPath());let a=await r.resolveRoot(n,this.argValues.rootStrategies);if(a){this.root_=ve(a);return}this.root_=ve(et.workspace.cwd)}async initArgs(t,r){var s;this.args_=t,this.argValues_=await t.values(Re),await this.initRoot(this.argValues_,r);let i=await t.value(Re.sources);if(!i)return!1;let n=await(0,kk.default)(i,u=>zt.enabled(u.name)),a=JSON.stringify(n);if(this.prevArgSourcesEnabledJson&&this.prevArgSourcesEnabledJson===a)return!1;this.prevArgSourcesEnabledJson=a,(0,et.disposeAll)((s=this.sources_)!=null?s:[]),this.sources_=n.map(u=>zt.createSource(u.name,this,u.expand));let o=await this.args_.value(Re.position);return this.isFloating_=o.name==="floating",!0}async revealPath(){var r,i;let t=await this.args.value(Re.reveal);if(t)return t;{let n=await this.sourceBuffer();return n&&(i=(r=this.explorerManager.bufManager.getBufferNode(n.id))==null?void 0:r.fullpath)!=null?i:void 0}}async getSelectedOrCursorLineIndexes(t){let r=new Set,i=await et.workspace.document;if(t==="v"){let n=await et.workspace.getSelectedRange("v",i);if(n){for(let a=n.start.line;a<=n.end.line;a++)r.add(a);return r}}return await this.view.refreshLineIndex(),r.add(this.view.currentLineIndex),r}findSourceByLineIndex(t){let r=this.sources.findIndex(i=>t<i.view.endLineIndex);if(r===-1){let i=this.sources.length-1;return{source:this.sources[i],sourceIndex:i}}else return{source:this.sources[r],sourceIndex:r}}lineIndexesGroupBySource(t){let r=new Map;for(let i of t){let{source:n,sourceIndex:a}=this.findSourceByLineIndex(i),o=r.get(a);o||(o={source:n,lineIndexes:[i]},r.set(a,o)),o.lineIndexes.push(i)}return[...r.values()]}setLinesNotifier(t,r,i){return mt.Notifier.create(()=>{this.nvim.call("coc_explorer#util#buf_set_lines_skip_cursor",[this.bufnr,r,i,!1,t],!0)})}clearLinesNotifier(){return this.setLinesNotifier([],0,-1)}async loadAllNotifier(t,{render:r=!0}={}){this.locator.mark.removeAll();let i=await Promise.all(t.rendererSources().map(n=>n.source.loadNotifier(n,n.view.rootNode,{render:!1})));return r&&i.push(await t.renderAllNotifier()),mt.Notifier.combine(i)}async render(){return this.view.sync(t=>mt.Notifier.run(t.renderAllNotifier()))}async showHelp(t){return UM(this,t)}async quitHelp(){return eh(this)}};var ny=M(require("coc.nvim")),Xr=M(require("path"));var ay=class{constructor(t){this.workspaceRoot=t}open(t){return new Rk(this.workspaceRoot,t)}},Rk=class{constructor(t,r){this.workspaceRoot=t;this.explorer=r;this.customRoots={};let i=this,n=null,a=async()=>(n===null&&(n=await i.resolveBufFullpath()),n);this.roots={keep:()=>{},workspace:()=>t,cwd:()=>ny.workspace.cwd,sourceBuffer:()=>a(),reveal:o=>o?Xr.default.dirname(o):void 0}}async resolveRootByPatterns(t,r,i){let a=ve(t).split(Xr.default.sep);if(i){for(;a.length>0;){let o=a.join(Xr.default.sep);if(await xg(o,r))return o;a.pop()}return}else{let o=[a.shift()];for(let s of a){o.push(s);let u=o.join(Xr.default.sep);if(await xg(u,r))return u}return}}async resolveRootBy(t,r){var a;let i=r,n="custom:";if(Xs.includes(i))return this.roots[i](t);if(i.startsWith(n)){let o=i.slice(n.length),u=this.explorer.config.get("root.customRules")[o],l=ny.workspace.cwd,d=await this.roots.sourceBuffer();if(d&&(l=d.endsWith(Xr.default.sep)?d:Xr.default.dirname(d)),u)return await this.resolveRootByPatterns(l,u.patterns,(a=u.bottomUp)!=null?a:!1)}I.error(`${r} is not supported`)}async resolveRoot(t,r){if(!r.includes("keep"))for(let i of r){let n=await this.resolveRootBy(t,i);if(!!n&&(!t||Rs(n,t)))return n}}async resolveBufFullpath(){var n;let t=await this.explorer.sourceBuffer();if(!t||await t.getVar("&buftype")==="nofile")return;let i=(n=this.explorer.explorerManager.bufManager.getBufferNode(t.id))==null?void 0:n.fullpath;if(!!i)return ve(Xr.default.dirname(i))}};var oy=class{constructor(t){this.context=t;this.filetype="coc-explorer";this.previousBufnr=new Qs("previousBufnr");this.previousWindowID=new Qs("previousWindowID");this.maxExplorerID=0;this.tabContainer=new Map;this.nvim=St.workspace.nvim;this.events=new Lk.HelperEventEmitter(I);this.waitAllEvents=(t=>({didCount:0,did:!1,emitter:new St.Emitter,keys:["registeredMapping","didAutoload"],constructor(){this.keys.forEach(r=>{t.events.on(r,()=>{this.didCount+=1,this.didCount>=this.keys.length&&(this.did=!0,this.emitter.fire())})})}}))(this);this.mappings={};this.waitAllEvents.constructor(),this.events.on("didAutoload",()=>{this.registerMappings().catch(I.error)}),ut().then(this.updatePrevCtxVars.bind(this)).catch(I.error),this.context.subscriptions.push(vi(async r=>{await this.updatePrevCtxVars(r)},0)),this.context.subscriptions.push(St.Disposable.create(()=>(0,St.disposeAll)(this.explorers()))),this.bufManager=new Eg(this.context,this)}async currentTabId(){return await this.nvim.call("coc_explorer#tab#current_id")}async currentTabMaxId(){return await this.nvim.call("coc_explorer#tab#max_id")}async currentTabContainer(){return this.tabContainer.get(await this.currentTabId())}async updatePrevCtxVars(t){if(!this.bufnrs().includes(t)){let r=await this.nvim.call("bufname");if(r.startsWith("list://")||r.startsWith("[coc-explorer]"))return;if(await this.nvim.getVar("&filetype")!==this.filetype){await this.previousBufnr.set(t);let n=await this.nvim.call("win_getid");await this.previousWindowID.set(n===-1?void 0:n)}}}async prevWinnrByPrevBufnr(){let t=await this.previousBufnr.get();if(!t)return;let r=await this.nvim.call("bufwinnr",[t]);if(!(r<=0||(await this.winnrs()).includes(r)))return r}async prevWinnrByPrevWindowID(){let t=await this.previousWindowID.get();if(!t)return;let r=await this.nvim.call("win_id2win",[t]);if(!(r<=0||(await this.winnrs()).includes(r)))return r}bufnrs(){return this.explorers().map(t=>t.bufnr)}async winids(){return ye(await Promise.all(this.explorers().map(t=>t.winid)))}async winnrs(){let t=await this.currentTabContainer(),r=t==null?void 0:t.all();return r?(await Promise.all(r.map(n=>n.winnr))).filter(n=>n!==void 0):[]}explorers(){let t=[];for(let r of this.tabContainer.values())t.push(...r.all());return t}async currentExplorer(){return this.explorerByBufnr(await ut())}async explorerByWinid(t){for(let r of this.explorers())if(await r.winid===t)return r}explorerByBufnr(t){return this.explorers().find(r=>r.bufnr===t)}async inExplorer(){return await this.currentExplorer()!==void 0}async registerMappings(){this.mappings={};let t=[...await lt.getCommonKeys()],r=[["n",t],["v",[...t,...await lt.getVisualKeys()]]];for(let[i,n]of r){this.mappings[i]={};for(let a of n){if(this.mappings[i][a]||i==="v"&&["o","j","k"].includes(a))continue;let o=`explorer-key-${i}-${a.replace(/\<(.*)\>/,"[$1]")}`;this.context.subscriptions.push(St.workspace.registerKeymap([i],o,async()=>{let s=await this.nvim.eval("v:count"),u=await this.currentExplorer();u==null||u.action.doActionByKey(a,i,s||1).catch(I.error)})),this.mappings[i][a]=`<Plug>(coc-${o})`}}await this.nvim.call("coc_explorer#mappings#register",[this.mappings]),await this.events.fire("registeredMapping")}async executeMappings(){await this.nvim.call("coc_explorer#mappings#execute",[this.mappings])}async clearMappings(){await this.nvim.call("coc_explorer#mappings#clear",[this.mappings])}async open(t){var y;this.waitAllEvents.did||await new Promise(w=>{this.waitAllEvents.emitter.event(w)});let r=!0,i=Is(),n=lO(i),a=await B.parse(t,i),o=await a.values(Re),s=o.position;if(s.name==="floating"&&!TO())throw new Error("not support floating position in vim");let u=o.quit,l=s.name==="tab"?await this.currentTabMaxId()+1:await this.currentTabId(),d=this.tabContainer.get(l);d||(d=new Cg,this.tabContainer.set(l,d));let f=d.getExplorer(s);if(f&&u){await f.quit();return}let c=await this.nvim.call("win_getid"),m=await ut(),g=new ay(St.workspace.root);if(!f||!await this.nvim.call("bufexists",[f.bufnr]))f=await or.create(this,o,n),d.setExplorer(s,f);else if(!await f.inited.get())await this.nvim.command(`bwipeout! ${f.bufnr}`),f=await or.create(this,o,n),d.setExplorer(s,f);else{if(!await f.win)o.position.name==="floating"&&!await((y=await f.sourceBuffer())==null?void 0:y.loaded)?(await this.nvim.command(`bwipeout! ${f.bufnr}`),f=await or.create(this,o,n),d.setExplorer(s,f)):await f.resume(o);else{if(await a.value(Re.toggle)){await f.quit();return}if(await a.value(Re.focus)){await f.focus();return}}r=!1}await f.sourceWinid.set(c),await f.sourceBufnr.set(m),await f.open(a,g,r)}};var Wk=M(require("coc.nvim"));var sy=class extends Wk.BasicList{constructor(t){super(t);this.name="explPresets";this.defaultAction="do";this.description="explorer presets";this.addAction("do",async r=>{this.nvim.command(`CocCommand explorer --preset ${r.data.name}`).catch(I.error)})}async loadItems(t){return[...(await Gs(Is())).keys()].map(i=>({label:i,data:{name:i}}))}doHighlight(){let{nvim:t}=this;t.pauseNotification(),t.command("syntax match CocExplorerPreset /.*/",!0),t.command("highlight default link CocExplorerPreset PreProc",!0),t.resumeNotification().catch(I.error)}};var am=M(require("coc.nvim")),ly=M(require("path"));var Fk=M(require("coc.nvim"));function Bk(e,t){if(e[0]==="leaf")return{type:e[0],winid:e[1],parent:t};{let r={type:e[0],children:[]};return r.children=e[1].map((i,n)=>Bk(i,{group:r,indexInParent:n})),r}}var uy=class{constructor(t){this.root=t}static async create(){let t=await Fk.workspace.nvim.call("winlayout",[]);return new this(Bk(t))}static getFirstLeafWinid(t){return t.type==="leaf"?t.winid:this.getFirstLeafWinid(t.children[0])}findWinid(t,r=this.root){if(r.type==="leaf")return r.winid===t?r:void 0;for(let i of r.children){let n=this.findWinid(t,i);if(n)return n}}findClosest(t,r){let i=new Set([t]),n=[t];for(;n.length;){let a=n.shift();if(a.type==="leaf"){if(r.includes(a.winid))return a}else for(let o of a.children)if(!i.has(o)){n.push(o),i.add(o);continue}a.parent&&!i.has(a.parent.group)&&(n.push(a.parent.group),i.add(a.parent.group))}}};function po(e,t){return am.commands.registerCommand(e,I.asyncCatch(t),void 0,!0)}async function Hk(e,t){if(e==="closest"){let r=await uy.create(),i=await am.workspace.nvim.eval("win_getid(winnr())");if(i<=-1)return;let n=r.findWinid(i);if(!n)return;let a=await t.winids();if(!a.length)return;let o=r.findClosest(n,a);if(o)return t.explorerByWinid(o.winid);{let s=await t.currentTabContainer(),u=s==null?void 0:s.floating;if(await(u==null?void 0:u.winnr)!==void 0)return u}}else return e===0?t.currentExplorer():t.explorerByBufnr(e)}async function Uk(e,t){if(e==="current")return t.view.currentLineIndex;if(typeof e=="number")return e;if(Array.isArray(e)){let[r,i,n]=e;if(r==="relative"){let a=n?t.sources.find(o=>o.sourceType===n):await t.view.currentSource();if(a)return a.view.startLineIndex+i}}}async function Bue(e,t){var a;let r=await Uk(e,t);if(!r)return[void 0,void 0];let i=t.sources.find(o=>r>=o.view.startLineIndex&&r<o.view.endLineIndex);if(!i)return[void 0,void 0];let n=r-i.view.startLineIndex;return[i,(a=i.view.flattenedNodes[n])!=null?a:void 0]}function Yk(e,t){async function r(i,n,a=["current"],o="n",s=1){let u=await Hk(i,t);if(!u)return;await u.view.refreshLineIndex();let l=ye(await Promise.all(a.map(async d=>await Uk(d,u))));await u.action.doActionExp(hi(n),{mode:o,count:s,lineIndexes:l}).catch(I.error)}e.subscriptions.push(po("explorer.doAction",r),po("explorer.doCodeAction",async(i,n,a)=>{let o=await r(0,{name:n,args:await a()});return await _n.add(i),o}),po("explorer.getNodeInfo",async(i,n="current")=>{let a=await Hk(i,t);if(!a)return;await a.view.refreshLineIndex();let[,o]=await Bue(n,a);if(!!o)return re(E({},o),{compactedNodes:void 0,parent:void 0,children:void 0,prevSiblingNode:void 0,nextSiblingNode:void 0})}),po("explorer.getIcon",async(i,n=!1,a)=>{let o=ly.default.basename(i),s=n?"directories":"files",l=await Na("builtin",[{fullname:o,isDirectory:n,expanded:a,hidden:!1}]);return l==null?void 0:l[s].get(o)}),po("explorer.getIcons",async i=>{let n={},a=i.map(u=>{let l=ly.default.basename(u.filepath);return n[l]=u.filepath,{fullname:l,isDirectory:u.isDirectory,expanded:u.isExpanded,hidden:!1}}),o=await Na("builtin",a);if(!o)return;let s={files:{},directories:{}};for(let[u,l]of o.files)s.files[n[u]]=l;for(let[u,l]of o.directories)s.directories[n[u]]=l;return s}))}var Hue=e=>{let{subscriptions:t}=e,{nvim:r}=Zr.workspace,i=A.get("debug");I.level=i?"debug":"info",H.createGroup("SelectUI","ctermbg=27 ctermfg=0 guibg=#1593e5 guifg=#ffffff");let n=H.linkGroup("NormalFloat","NormalFloat");H.linkGroup("NormalFloatBorder",n.group),Zr.listManager.registerList(new sy(r));let a=new oy(e);Yk(e,a),Vt.preload().catch(I.error),t.push(Zr.commands.registerCommand("explorer",I.asyncCatch((...o)=>{a.open(o).catch(I.error)})),Zr.languages.registerCodeActionProvider(["coc-explorer"],new Dg(a),"coc-explorer")),(async()=>{await(0,$k.activateHelper)(e),await ya.register(e),await jO(e.extensionPath),await r.command("runtime plugin/coc_explorer.vim"),eT(t),uT(t),await a.events.fire("didAutoload")})().catch(I.error)};0&&(module.exports={activate});
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
