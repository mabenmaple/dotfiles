"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7553],{8294:(e,t,l)=>{l.d(t,{p:()=>y});var a=l(67294),r=l(20657),n=l(1838),o=l(35308),s=l(22423),i=l(28248),c=l(78462),u=l(42922),m=l(45342),d=l(49961),g=l(39412);const f=new Set(c.P0),p=new Set([]),y=a.memo((({nrTracks:e,collectionUri:t,columns:l,uri:y,sortable:b=!0,scrollToUri:E,usePlayContextItem:k,outerDomRef:D})=>{const h=(0,a.useContext)(m.H),C=(0,a.useRef)(null),[T,v]=(0,a.useState)(e),{filter:_}=(0,a.useContext)(s.fo),A=(0,a.useRef)((()=>{})),[S,P]=(0,a.useState)([]),{sortState:R,setSortState:w}=(0,a.useContext)(c.Gb),x=(0,a.useCallback)((e=>{w((0,n.VK)(e,R))}),[w,R]);(0,a.useEffect)((()=>{C.current&&C.current.update()}),[R,_]),(0,a.useEffect)((()=>{C.current&&""===_&&C.current.scrollToFirstSelected()}),[_,T]),(0,a.useEffect)((()=>{v(e)}),[e]),(0,a.useEffect)((()=>{C.current&&E&&C.current.scrollToItem({uri:E})}),[E]);const I=(0,a.useCallback)((e=>{const t=e.map((e=>e.uri));A.current(),null==h||h.remove(...t)}),[h]),L=(0,a.useCallback)(((e,t)=>{A.current=t,e.length>1?P(e):I(e)}),[I]),U=(0,a.useCallback)((async(e,t)=>{const l=await(null==h?void 0:h.getTracks({offset:e,limit:t,uri:y,sort:(0,g.w)(R),filter:_})),a=null==l?void 0:l.totalLength,r=(null==l?void 0:l.items)||[];return"number"==typeof a&&a!==T&&v(a),r}),[_,h,T,R,y]),M=(0,a.useCallback)(((e,l)=>{var r;const n=(0,d.X)(null===(r=e.album)||void 0===r?void 0:r.images,{desiredSize:40,desiredLabel:"small"});return a.createElement(i.dx,{key:l+e.uri,index:l,contextUri:t,uri:e.uri,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,albumOrShow:e.album,isExplicit:e.isExplicit,isCollaborative:!1,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:e.isLocal,addedBy:[],dateAdded:e.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==n?void 0:n.url)||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:k,allowedDropTypes:[],isDisliked:!1,playlistName:""})}),[t,k]);return a.createElement(a.Fragment,null,a.createElement(u.ZP,{value:"liked-songs-tracklist"},a.createElement(i.Pv,{ariaLabel:r.ag.get("sidebar.liked_songs"),key:t,hasHeaderRow:!0,columns:l,sortableColumns:null!=h&&h.getCapabilities().canSort&&b?f:p,sortState:R,onSort:x,renderRow:M,resolveUri:e=>e.uri,resolveUid:e=>e.uri,onRemove:L,nrTracks:T,fetchTracks:U,limit:50,canFetchAllTracks:null==h?void 0:h.getCapabilities().canFetchAllTracks,outerRef:C,outerDomRef:D})),a.createElement(o.h,{title:r.ag.get("remove_from_your_liked_songs"),isOpen:S.length>0,tracks:S,onClose:e=>{e.stopPropagation(),P([])},onRemove:I}))}))},39412:(e,t,l)=>{l.d(t,{w:()=>s});var a=l(1838),r=l(74483),n=l(59916);const o={[n.bD.ADDED_AT]:r._1.ADDED_AT,[n.bD.ADDED_BY]:null,[n.bD.ALBUM]:r._1.ALBUM_NAME,[n.bD.ARTIST]:r._1.ARTIST_NAME,[n.bD.DURATION]:null,[n.bD.TITLE]:r._1.NAME},s=e=>{const t=(0,a._j)(e);if(!t)return;const l=o[t.field],r=t.order;return l&&r?{field:l,order:r}:void 0}},74510:(e,t,l)=>{l.r(t),l.d(t,{default:()=>U});var a=l(67294),r=l(52883),n=l(72756),o=l(20657),s=l(90110),i=l(70369),c=l(19565),u=l(61048),m=l(1663),d=l(55120),g=l(2751),f=l(35213),p=l(22423),y=l(28248),b=l(78462),E=l(23232),k=l(1169),D=l(4236),h=l(30947),C=l(55911),T=l(53646),v=l(49955),_=l(7692),A=l(92510);var S=l(45342),P=l(84242),R=l(25916),w=l(39412),x=l(8294);const I=[y.QD.INDEX,y.QD.TITLE,y.QD.ALBUM,y.QD.ADDED_AT,y.QD.DURATION],L=({metadata:e,canFilter:t,canSort:l})=>{const{uri:y,name:S,totalLength:R}=e,{filterBoxApiRef:L,filterBoxDomRef:U,tracklistDomRef:M,handleKeyDown:F}=(0,k.Q)(),B=(0,D.k)()&&R>0,N=R>0,O=(0,T.Y5)("#5038a0"),{filter:Q}=(0,a.useContext)(p.fo),{sortState:z}=(0,a.useContext)(b.Gb),K=(0,r.k6)(),q="POP"!==K.action?new URLSearchParams(K.location.search).get("uri"):null,{isPlaying:G,togglePlay:H,usePlayContextItem:Z}=(0,P.n)(function(e,t,l){const a={uri:e};return(0,v.R4)(a,t),(0,_.IC)(a,(0,A.cj)(l)),a}(y,(0,w.w)(z),Q),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),j=()=>H();return a.createElement("section",{role:"presentation",className:g.Z.playlist,"data-testid":"playlist-page",onKeyDown:F},a.createElement(i.$,null,o.ag.get("playlist.page-title",S)),a.createElement(E.s,{metadata:e,isPlaying:G,togglePlay:j,backgroundColor:O}),a.createElement(h.o,{backgroundColor:O},a.createElement(h.F,null,N?a.createElement(d.$,{onClick:j,isPlaying:G,size:C.qE.lg,uri:y,ariaPauseLabel:o.ag.get("playlist.a11y.pause",S),ariaPlayLabel:o.ag.get("playlist.a11y.play",S)}):null,B?a.createElement(s.o,{uri:y,isFollowing:!0,onFollow:()=>{},size:s.q.md}):null,t&&l&&a.createElement("div",{className:g.Z.searchBoxContainer},a.createElement(a.Suspense,{fallback:null},a.createElement(u.K,{placeholder:o.ag.get("playlist.search_in_playlist"),filterBoxApiRef:L,outerRef:U})),a.createElement(f.l,{columns:b.P0})))),a.createElement("div",{className:"contentSpacing"},R>0?a.createElement(a.Suspense,{fallback:a.createElement(m.h,{hasError:!1,errorMessage:o.ag.get("error.request-collection-tracks-failure")})},a.createElement(x.p,{nrTracks:R,columns:I,collectionUri:y,scrollToUri:q,usePlayContextItem:Z,outerDomRef:M})):a.createElement(c.u,{message:o.ag.get("collection.empty-page.songs-subtitle"),title:o.ag.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:o.ag.get("collection.empty-page.songs-cta"),renderInline:!0},a.createElement(n.F,null))))},U=a.memo((()=>{const e=(0,R.b)(),t=(0,a.useContext)(S.H).getCapabilities();return e?a.createElement(b.kz,{uri:e.uri},a.createElement(p.hz,{uri:e.uri},a.createElement(L,{metadata:e,canFilter:t.canFilter&&e.totalLength>0,canSort:t.canSort&&e.totalLength>0}))):a.createElement(m.h,{hasError:!1,errorMessage:o.ag.get("error.not_found.title.playlist"),loadOffline:t.canModifyOffline})}))},23232:(e,t,l)=>{l.d(t,{s:()=>a.s});var a=l(40786)}}]);
//# sourceMappingURL=xpui-routes-collection-songs.js.map