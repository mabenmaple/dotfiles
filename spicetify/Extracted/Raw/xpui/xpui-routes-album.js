"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2342],{29464:(e,n,i)=>{i.d(n,{E:()=>o});var a=i(67154),t=i.n(a),l=i(67294),d=i(42922),s=i(34722),m=i(13768);const o=({album:e,index:n,artistURI:i})=>l.createElement(d.ZP,{value:"card",index:n},l.createElement(m.i,t()({index:n,latest:!1,showType:!0},(0,s.B$)(e,i,e.name))))},57060:(e,n,i)=>{i.d(n,{R:()=>r});var a=i(67294),t=i(20657),l=i(42922),d=i(7073),s=i(34722),m=i(19480),o=i(29464);const r=({albums:e,artistName:n,artistId:i,artistUri:r,className:c})=>e?a.createElement(l.ZP,{value:"shelf/albums"},a.createElement(m.P,{total:e.totalCount,title:t.ag.get("rich-page.popular-albums-by-artist",{artist:n}),seeAllUri:`${(0,s.GJ)(i)}:discography:${d.VZ.Album.toLowerCase()}`,seeAllLabel:t.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:c},(0,s.Hr)(e.items).map(((e,n)=>a.createElement(o.E,{album:e,index:n,artistURI:r,key:e.uri}))))):null},70880:(e,n,i)=>{i.d(n,{j:()=>m});var a=i(67294),t=i(28760),l=i(20657),d=i(84242),s=i(28434);const m=({artistName:e,artistUri:n,headerClassName:i,rowClassName:m,topTracks:o,topTracksTransformer:r,uri:c})=>{const u=(0,a.useMemo)((()=>null==o?void 0:o.items.map((e=>r(e,c)))),[null==o?void 0:o.items,r,c]),{usePlayContextItem:k}=(0,d.n)({uri:n},{featureIdentifier:"artist"});return u&&u.length>0?a.createElement("div",{className:m},a.createElement("div",null,a.createElement(t.Dy,{variant:"mesto"},l.ag.get("rich-page.popular-tracks")),a.createElement(t.Dy,{as:"h2",variant:"canon",semanticColor:"textBase",className:i},e)),a.createElement(s.k,{nrTracks:u.length,initialTracks:u,usePlayContextItem:k})):null}},55095:(e,n,i)=>{i.d(n,{y:()=>r});var a=i(67294),t=i(20657),l=i(42922),d=i(7073),s=i(34722),m=i(19480),o=i(29464);const r=({artistId:e,artistName:n,artistUri:i,className:r,singles:c})=>c?a.createElement(l.ZP,{value:"shelf/singles-and-eps"},a.createElement(m.P,{total:c.totalCount,title:t.ag.get("rich-page.popular-singles-and-eps-by-artist",{artist:n}),seeAllUri:`${(0,s.GJ)(e)}:discography:${d.VZ.Single.toLowerCase()}`,seeAllLabel:t.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:r},(0,s.Hr)(c.items).map(((e,n)=>a.createElement(o.E,{album:e,index:n,artistURI:i,key:e.uri}))))):null},5388:(e,n,i)=>{i.r(n),i.d(n,{default:()=>Le});var a=i(67294),t=i(46458),l=i(52883),d=i(28760),s=i(62312),m=i(41374),o=i(87577),r=i(20657),c=i(90110),u=i(95661),k=i(13768),v=i(4232),S=i(70369),N=i(42273),p=i(59482),g=i(72907),F=i(1663),y=i(6479),b=i.n(y),h=i(11414),f=i(18937),E=i(74380),A=i(6489),C=i(91931),w=i(38894);const I=({children:e,content:n,onIntercept:i=(()=>{})})=>{const t=(0,w.g)();let l;try{l=a.Children.only(e)}catch(n){return a.createElement(a.Fragment,null,e)}return t?a.createElement(C.Nt,{trigger:"click",action:"open",placement:"bottom",offset:[0,20],content:n},a.cloneElement(l,{onClick:i})):a.createElement(a.Fragment,null,e)};var D=i(21770),P=i(99450),T=i(1447),O=i(42922),U=i(70108),x=i(56802);const R={container:"WHINADihyTCx2VFxwY8X"},j=({title:e,description:n})=>{const i=(0,t.I0)(),l=(0,T.qT)(),s=(0,x.o)();return(0,a.useEffect)((()=>{s({intent:"open-upsell",type:"view"})}),[s]),a.createElement(C.yv,null,a.createElement("div",{className:R.container},a.createElement(d.Dy,{as:"p",className:R.title,variant:"cello"},e),a.createElement(d.Dy,{as:"p",className:R.description,variant:"mesto"},n),a.createElement("div",{className:R.buttonContainer},a.createElement(D.oM,{onClick:()=>{s({intent:"close-upsell",type:"click"}),l({type:"close"})}},r.ag.get("action-trigger.button.not-now")),a.createElement(P.D,{onClick:()=>{s({intent:"login",type:"click"}),i((0,U.sX)())}},r.ag.get("login")))))},V=e=>a.createElement(O.ZP,{value:"tooltip-with-cta"},a.createElement(j,e)),M=["uri"],_=e=>{let{uri:n}=e,i=b()(e,M);const t=(0,E.j5)();return a.createElement(I,{content:a.createElement(V,{title:r.ag.get("action-trigger.save-library"),description:r.ag.get("action-trigger.save-album")}),onIntercept:()=>t.storeAction(f.wH,{operation:A.pT.ADD,uris:[n]})},a.createElement(h.H,i))};var Z=i(55120),L=i(19480),$=i(80322),B=i(4236),H=i(30947),W=i(55911),z=i(32626),q=i(20246),Q=i(94233),G=i(53646),K=i(98984),Y=i(4383),J=i(84242),X=i(55773),ee=i(7073),ne=i(8247),ie=i(16526);var ae=i(59713),te=i.n(ae),le=i(82789),de=i(38235),se=i(89751),me=i(33607),oe=i(8271);function re(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function ce(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?re(Object(i),!0).forEach((function(n){te()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):re(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var ue=i(94321),ke=i(29255),ve=i(69518),Se=i.n(ve),Ne=i(30005),pe=i(21691);const ge=({releases:e})=>a.createElement(Ne.v,null,e.map((e=>a.createElement(pe.s,{key:e.uri,role:"menuitem",to:Se().from(e.uri).toURLPath(!0)},e.name))));var Fe=i(67154),ye=i.n(Fe),be=i(52200);const he={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getRichAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTopTracks"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richPopularReleases"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richAlbums"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richSinglesAndEps"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"relatedContent"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTopTracks"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}}]}},...be.rD.definitions,...be.rA.definitions,{kind:"FragmentDefinition",name:{kind:"Name",value:"richPopularReleases"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richAlbums"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richSinglesAndEps"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"singles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"relatedContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"relatedArtists"}},{kind:"FragmentSpread",name:{kind:"Name",value:"discoveredOn"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"relatedArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RelatedContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedArtists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"discoveredOn"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RelatedContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discoveredOnV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]}}]}}]};var fe=i(57060),Ee=i(34722),Ae=i(46309);function Ce(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}const we=({artistId:e,className:n,discoveredOn:i})=>{if(!i)return null;const t=i.filter((e=>(e=>"Playlist"===(null==e?void 0:e.__typename))(e.data))).map((e=>function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Ce(Object(i),!0).forEach((function(n){te()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ce(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({},e.data)));return a.createElement(O.ZP,{value:"shelf/discovered-on"},a.createElement(L.P,{title:r.ag.get("discovered_on"),total:i.length,seeAllUri:`${(0,Ee.GJ)(e)}:discovered-on`,className:n},t.map(((e,n)=>{var i,t,l;const d=e;return a.createElement(Ae.Z,{index:n,key:d.uri,uri:d.uri,name:d.name,authorName:d.name,description:d.description||"",images:(null===(i=d.images)||void 0===i||null===(t=i.items)||void 0===t||null===(l=t[0])||void 0===l?void 0:l.sources)||[]})}))))};var Ie=i(89477);const De=({artistId:e,className:n,fansAlsoLike:i})=>a.createElement(O.ZP,{value:"shelf/fans-also-like"},a.createElement(L.P,{total:i.length,title:r.ag.get("rich-page.fans-also-like"),seeAllUri:`${(0,Ee.GJ)(e)}:related`,className:n},i.map(((e,n)=>{var i;return a.createElement(O.ZP,{value:"card",index:n,key:e.uri},a.createElement(Ie.I,{index:n,uri:e.uri,name:e.profile.name,images:(null===(i=e.visuals.avatarImage)||void 0===i?void 0:i.sources)||[]}))})))),Pe=({artistName:e,artistUri:n,className:i,popularReleases:t})=>a.createElement(O.ZP,{value:"shelf/popular-releases"},a.createElement(L.P,{total:t.length,title:r.ag.get("rich-page.popular-releases-by-artist",{artist:e}),className:i},t.map(((i,t)=>a.createElement(O.ZP,{value:"card",index:t,key:i.uri},a.createElement(k.i,ye()({index:t,showType:!0},(0,Ee.B$)(i,n,e))))))));var Te=i(70880),Oe=i(55095);const Ue=({track:{uri:e,name:n,playcount:i,duration:{totalMilliseconds:a},contentRating:t,artists:{items:l},albumOfTrack:d,playability:{playable:s}}},m)=>{var o,r,c;return{uri:e,contextUri:m,totalMilliseconds:a,name:n,contentRating:(null==t?void 0:t.label)||ee.KS.None,isPlayable:s,playcount:parseInt(i||"0",10),artists:l.map((e=>({name:e.profile.name,uri:e.uri}))),imageUrl:null!=d&&null!==(o=d.coverArt)&&void 0!==o&&null!==(r=o.sources)&&void 0!==r&&r.length?null==d?void 0:d.coverArt.sources[0].url:"",albumUri:null!==(c=null==d?void 0:d.uri)&&void 0!==c?c:""}},xe="FKHM7enSR0Ny_2IocKZA",Re=a.memo((e=>{var n;const{artistId:i,artistName:t,artistUri:d}=e,{albumId:s}=(0,l.UO)(),m=Se().albumURI(s).toURI(),o=(c={uri:m},(0,K.a)(he,c,u));var c,u;if(o.loading||null===(n=o.data)||void 0===n||!n.albumUnion)return a.createElement(F.h,{hasError:null!==o.error,errorMessage:r.ag.get("error.not_found.title.album")});const k=o.data.albumUnion.artists.items[0];if(!k)throw new Error("Missing artist in data.");const{discoveredOnV2:v,relatedArtists:S}=k.relatedContent,{topTracks:N,popularReleasesAlbums:p,albums:g,singles:y}=k.discography,b={artistId:i,artistName:t,artistUri:d};return a.createElement("div",{className:"contentSpacing"},a.createElement(Te.j,{rowClassName:xe,artistUri:d,artistName:t,topTracks:N,topTracksTransformer:Ue,uri:m}),a.createElement(Pe,{className:xe,artistUri:d,artistName:t,popularReleases:p.items}),a.createElement(fe.R,ye()({albums:g,className:xe},b)),a.createElement(Oe.y,ye()({singles:y,className:xe},b)),a.createElement(De,{artistId:i,className:xe,fansAlsoLike:S.items}),a.createElement(we,{className:xe,discoveredOn:v.items,artistId:i}))})),je={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbumMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumArtists"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumCoverArt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumDiscs"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumTracksMetadata"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumReleases"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"courtesyLine"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"moreAlbumsByArtist"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"albumArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"albumCoverArt"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"albumDiscs"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"albumTracksMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"albumReleases"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"moreAlbumsByArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"moreAlbumsByArtist"},name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]};var Ve=i(3702);const Me={album:"n8Bz0c0v17whD3KfMdOk",albumWindowedMessage:"zddjxV2lX9ukNM5QXloA",albumWindowedMessageHeader:"lVqlPjQLuQhK2flsxB78",albumWindowedMessageDescription:"O_EguRjsZ4uI1hHamkOA",moreAlbumsByArtist:"jcaQQxoVnuuhtVwDJU1R",releasesDropdown:"fLS8v3_EfBadEerbGVoR",footer:"in4OjUTflcsoj9RUpf05"};function _e(e){switch(e){case ee.VZ.Single:return r.ag.get("single");case ee.VZ.Ep:return r.ag.get("ep");case ee.VZ.Compilation:return r.ag.get("compilation");case ee.VZ.Album:default:return r.ag.get("album")}}const Ze=({uri:e,album:n})=>{var i,F,y,b,f,E,A,C,w,I,D,P,T;const O=(0,l.k6)(),U=(0,l.TH)(),R=(0,x.o)(),j=(0,B.k)(),V=null===(i=n.moreAlbumsByArtist)||void 0===i||null===(F=i.items[0])||void 0===F||null===(y=F.discography)||void 0===y||null===(b=y.popularReleases)||void 0===b?void 0:b.items,[M,K]=(0,Y.Z)(e),ae=(0,t.v9)((e=>{var n;return null===(n=e.platform)||void 0===n?void 0:n.isBrowser})),te=(0,X.vI)(ie.k.RichAlbumPage,U),re=(0,o.W6)(ne.F3),ve=te||re===ne.Wp.VARIANT;const Se=parseInt(new URLSearchParams((0,l.TH)().search).get("index")||"0",10),Ne=(0,$.Y)(e),{usePlayContextItem:pe,togglePlay:Fe,isPlaying:ye}=(0,J.n)({uri:Ne},{featureIdentifier:"album"}),be=(0,a.useCallback)((async()=>{R({targetUri:e,intent:M?"unsave":"save",type:"click"});try{await K(!M)}catch{}}),[R,e,M,K]),he=(0,a.useCallback)((()=>new URLSearchParams(O.location.search.slice(1)).get("highlight")||""),[O.location.search]),fe=n.uri,Ee=n.name,Ae=n.type,Ce=null===(f=n.date)||void 0===f?void 0:f.isoString,we=n.tracks.totalCount,Ie=((null===(E=n.coverArt)||void 0===E?void 0:E.sources)||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),De=null===(A=n.coverArt)||void 0===A||null===(C=A.extractedColors)||void 0===C?void 0:C.colorRaw.hex,Pe=n.artists.items.map((e=>{var n;return{name:e.profile.name,images:((null===(n=e.visuals.avatarImage)||void 0===n?void 0:n.sources)||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),uri:e.uri,id:e.id}})),Te=Pe[0],Oe=n.tracks.items.some((e=>e.track.playability.playable)),Ue=n.playability.reason===ee.Ku.CatalogueRestricted,xe=(0,a.useMemo)((()=>({total_count:n.discs.totalCount,items:n.discs.items.map((e=>({number:e.number,total_tracks:e.tracks.totalCount})))})),[n.discs]),je=n.copyright.items,Ze=n.courtesyLine,Le=n.tracks.items.reduce(((e,n)=>e+n.track.duration.totalMilliseconds),0),$e=n.tracks.items.length>0?Le/n.tracks.items.length*n.tracks.totalCount:0,Be=n.tracks.items.length<n.tracks.totalCount,He=he(),We=j;(0,G.Y5)(De||null);const ze=(0,a.useCallback)((()=>{const e=`${Ee} - ${_e(Ae)} by ${Pe.map((e=>e.name)).join(r.ag.getSeparator())}`,n=r.ag.get("album.page-title",Ee);return ve?e:n}),[Ee,Ae,Pe,ve]),qe=(0,t.v9)(ke.n5),Qe=(0,t.v9)(ue.rZ);return(({category:e,action:n,remoteConfigProperty:i,label:t,context:l,country:d,spt:s=!1,isAnonymous:m=!1})=>{const r=(0,o.W6)(i),c=(0,oe.s4)();(0,a.useEffect)((()=>{if(!r||!t)return;const i=ce(ce(ce({category:e,action:n,variant:r,label:t,os:(0,me.y)()},l&&{context:l}),d&&{country:d}),s&&{sp_t:(0,se.vQ)("sp_t")});m?c.send((0,de.k)(i)):c.send((0,le.x)(i))}),[r,t,e,n,l,d,s,m,c])})({category:"ralph_cookie_test",action:"remote-config-response",remoteConfigProperty:ne.F3,label:"dwp",context:e,country:qe?Qe:"",spt:!0}),a.createElement("section",{className:Me.album,"data-testid":"album-page"},a.createElement(S.$,null,ze()),a.createElement(N.gF,{backgroundColor:De},a.createElement(p.W,null,a.createElement(Z.$,{size:W.qE.sm,onClick:()=>Fe(),disabled:!Oe,isPlaying:ye,uri:e}),a.createElement(g.i,{text:Ee,dragUri:e,dragLabel:Ee})),a.createElement(z._P,{menu:a.createElement(v.Y,{uri:n.uri,artistUri:null==Pe||null===(w=Pe[0])||void 0===w?void 0:w.uri,sharingInfo:n.sharingInfo})},a.createElement(N.Oz,{dragUri:fe,images:Ie,name:Ee,placeholderType:"album"})),a.createElement(N.sP,null,a.createElement(N.dy,{small:!0,uppercase:!0},_e(Ae)),a.createElement(z._P,{menu:a.createElement(v.Y,{uri:n.uri,artistUri:null==Pe||null===(I=Pe[0])||void 0===I?void 0:I.uri,sharingInfo:n.sharingInfo})},a.createElement(N.xd,{dragUri:n.uri,dragLabel:n.name},Ee)),a.createElement(N.QS,{creators:Pe,releaseDate:Ce,totalTracks:we,durationMilliseconds:$e,isEstimatedDuration:Be}))),a.createElement(H.o,{backgroundColor:De},a.createElement(H.F,null,a.createElement(Z.$,{onClick:()=>Fe(),disabled:!Oe,isPlaying:ye,size:W.qE.lg,uri:e}),a.createElement(_,{isAdded:!!M,onClick:be,disabled:!j,size:h.q.md,uri:e}),We?a.createElement(c.o,{uri:e,isFollowing:!!M,onFollow:be,size:c.q.md}):null,a.createElement(q.y,{menu:a.createElement(v.Y,{uri:n.uri,artistUri:null==Pe||null===(D=Pe[0])||void 0===D?void 0:D.uri,sharingInfo:n.sharingInfo})},a.createElement(u.z,{label:r.ag.get("more.label.context",Ee)})))),Ue?a.createElement("div",{className:Me.albumWindowedMessage},a.createElement(d.Dy,{as:"h2",variant:"cello",className:Me.albumWindowedMessageHeader},r.ag.get("windowed.product-album-header")),a.createElement("div",{className:Me.albumWindowedMessageDescription},r.ag.get("windowed.product-album-description"))):null,a.createElement("div",{className:"contentSpacing"},a.createElement(Ve.L,{ariaLabel:Ee,nrTracks:we,discs:xe,albumUri:fe,highlightUri:He,scrollToIndex:Se,usePlayContextItem:pe}),a.createElement("div",{className:Me.footer},a.createElement(Q.k,{copyrights:je,courtesyLine:Ze}),n.releases.items.length>0&&a.createElement(z.xV,{menu:a.createElement(ge,{releases:n.releases.items})},((e,i,t)=>a.createElement("button",{ref:t,className:Me.releasesDropdown,type:"button",onClick:i},a.createElement(d.Dy,{variant:"mesto"},r.ag.get("album-page.more-releases",n.releases.items.length)),e?a.createElement(s.U,{className:Me.chevron,iconSize:16}):a.createElement(m.i,{className:Me.chevron,iconSize:16})))))),ve&&ae?a.createElement("div",{"data-testid":"rich-album"},a.createElement(Re,{artistId:null==Te?void 0:Te.id,artistName:null==Te?void 0:Te.name,artistUri:null==Te?void 0:Te.uri})):a.createElement(a.Fragment,null,(null==V?void 0:V.length)>0&&a.createElement("div",{className:"contentSpacing"},a.createElement(L.P,{className:Me.moreAlbumsByArtist,title:r.ag.get("album-page.more-by-artist",null==Pe||null===(P=Pe[0])||void 0===P?void 0:P.name),total:V.length,seeAllUri:`${null==Pe||null===(T=Pe[0])||void 0===T?void 0:T.uri.replace("artist","app:artist")}:discography`,seeAllLabel:r.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0},V.map(((e,n)=>{var i,t;const l=e.releases.items[0];return a.createElement(k.i,{index:n,key:l.uri,artists:Pe,images:(null===(i=l.coverArt)||void 0===i?void 0:i.sources)||[],name:l.name,uri:l.uri,year:null===(t=l.date)||void 0===t?void 0:t.year,type:l.type,sharingInfo:l.sharingInfo})}))))))},Le=a.memo((()=>{const{albumId:e}=(0,l.UO)(),n=`spotify:album:${e}`,{loading:i,error:t,data:d}=(s={uri:n},m={cacheTime:15*K.y},(0,K.a)(je,s,m));var s,m;return i||null==d||!d.album?a.createElement(F.h,{hasError:null!==t,errorMessage:r.ag.get("error.not_found.title.album")}):a.createElement(Ze,{uri:n,album:d.album})}))},38894:(e,n,i)=>{i.d(n,{g:()=>l});var a=i(46458),t=i(29255);const l=()=>(0,a.v9)(t.Gg).isAnonymous},94233:(e,n,i)=>{i.d(n,{k:()=>d});var a=i(67294),t=i(28760);const l="rTMkDBDp47Eo12ZEQv4U",d=({copyrights:e,courtesyLine:n})=>{const i=(e||[]).map(((e,n)=>{const i=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let l;return l="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,a.createElement(t.Dy,{as:"p",variant:"finale",key:n,dir:"auto"},`${l} ${i}`)}));return n&&i.unshift(a.createElement(t.Dy,{as:"p",variant:"finale",key:i.length,dir:"auto"},n)),a.createElement("div",{className:l},i)}}}]);
//# sourceMappingURL=xpui-routes-album.js.map