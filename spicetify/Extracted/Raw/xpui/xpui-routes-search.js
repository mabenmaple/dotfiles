"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2219,666],{43914:(e,n,i)=>{i.d(n,{D:()=>o});var a=i(67294),t=i(20657),l=i(76439),r=i(46259),s=i(56802),d=i(61290);const o=({id:e,children:n,targetURI:i,fadeOut:o=!1})=>{const m=(0,a.useCallback)((()=>{window.open((0,r.cd)(i).href)}),[i]),c={getTitle:()=>t.ag.get("action-trigger.available-in-app-only"),getDescription:()=>t.ag.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>t.ag.get("action-trigger.button.get-app"),secondaryButtonText:()=>t.ag.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,s.o)(),shouldHideOnScroll:!0,fadeOut:o};return a.createElement(l.P,{className:d.Z.container,id:e,onPrimaryButtonClick:m,options:c},n)}},41632:(e,n,i)=>{i.d(n,{c:()=>c});var a=i(67294),t=i(28760),l=i(18261),r=i(28137),s=i(36590),d=i(51079),o=i(47418),m=i(11186);const c=({name:e,uri:n,images:i,authorName:c,isHero:u,onClick:k,testId:v,index:p,requestId:N})=>{let S;return S=u?a.createElement(o.Z,{index:p,onClick:k,headerText:e,featureIdentifier:"audiobook",uri:n,isPlayable:!1,renderCardImage:()=>a.createElement(d.x,{isHero:!0,images:i}),renderSubHeaderContent:()=>a.createElement(a.Fragment,null,a.createElement(t.Dy,{variant:"mesto"},c),a.createElement(m.k,null,"AUDIOBOOK")),testId:v,requestId:N}):a.createElement(s.C,{index:p,onClick:k,headerText:e,featureIdentifier:"audiobook",uri:n,isPlayable:!1,renderCardImage:()=>a.createElement(d.x,{images:i}),renderSubHeaderContent:()=>a.createElement(t.Dy,{as:"div",variant:"mesto"},c),testId:v,requestId:N}),a.createElement(l._,{menu:a.createElement(r.X,{uri:n})},S)}},54543:(e,n,i)=>{i.d(n,{q:()=>I});var a=i(67154),t=i.n(a),l=i(67294),r=i(69518),s=i.n(r),d=i(63495),o=i(36590),m=i(51079),c=i(47418),u=i(11186);const k=({name:e="",uri:n="",images:i=[],isHero:a,onClick:t,testId:r,index:s})=>a?l.createElement(c.Z,{featureIdentifier:"unknown",index:s,onClick:t,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>l.createElement(m.x,{isHero:a,images:i}),renderSubHeaderContent:()=>l.createElement(u.k,null),testId:r}):l.createElement(o.C,{index:s,featureIdentifier:"unknown",onClick:t,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>l.createElement(m.x,{isHero:a,images:i}),renderSubHeaderContent:()=>l.createElement("span",null),testId:r});var v=i(73425),p=i(143),N=i(64269),S=i(3634),g=i(89477),y=i(16061),f=i(46309),h=i(30523),b=i(52778),E=i(95332),F=i(46327);const I=({entity:e,index:n,testId:i,isHero:a=!1})=>{const r=(s().from(e.uri)||{}).type,o={testId:i,isHero:a,index:n,sharingInfo:e.sharingInfo};switch(r){case s().Type.ALBUM:case s().Type.COLLECTION_ALBUM:{const n=e;return l.createElement(S.r,t()({},o,{name:n.name,uri:n.uri,images:n.images,artists:n.artists}))}case s().Type.ARTIST:{const n=e;return l.createElement(g.I,t()({},o,{name:n.name,uri:n.uri,images:n.images}))}case s().Type.EPISODE:{var m,c;const n=e;return l.createElement(y.B,t()({},o,{name:n.name,uri:n.uri,images:n.images,showImages:(null===(m=n.show)||void 0===m?void 0:m.images)||[],durationMilliseconds:n.duration_ms,releaseDate:n.release_date,resume_point:n.resume_point,description:n.description,isExplicit:n.explicit,is19PlusOnly:!(null===(c=n.tags)||void 0===c||!c.includes("MOGEF-19+"))}))}case s().Type.PLAYLIST:case s().Type.PLAYLIST_V2:{var u,I;const n=e,i=(null===(u=n.owner)||void 0===u?void 0:u.display_name)||(null===(I=e.owner)||void 0===I?void 0:I.displayName)||"";return l.createElement(f.Z,t()({},o,{name:n.name,uri:n.uri,images:n.images,description:n.description,authorName:i}))}case s().Type.USER:return l.createElement(h.P,t()({},o,{name:e.name,uri:e.uri,images:e.images}));case s().Type.SHOW:{var T;const n=e;return l.createElement(E._,t()({},o,{name:n.name,uri:n.uri,images:n.images,publisher:n.publisher,mediaType:null!==(T={audio:p.E.AUDIO,video:p.E.VIDEO,mixed:p.E.MIXED}[n.media_type])&&void 0!==T?T:p.E.AUDIO}))}case s().Type.APPLICATION:return l.createElement(d.s,t()({},o,{name:e.name,uri:e.uri,images:e.images,description:e.description}));case s().Type.RADIO:return l.createElement(b.I,{testId:i,index:n,name:e.name,uri:e.uri,images:e.images});case s().Type.TRACK:{var C,D;const n=e;return l.createElement(F.G,t()({},o,{name:n.name,uri:n.uri,images:(null===(C=n.album)||void 0===C?void 0:C.images)||[],artists:n.artists,album:n.album,isExplicit:n.explicit,is19PlusOnly:null===(D=n.tags)||void 0===D?void 0:D.includes("MOGEF-19+")}))}case s().Type.COLLECTION:return e.uri.endsWith("your-episodes")?l.createElement(N.T,{index:n}):l.createElement(v.p,{index:n});default:return console.warn("Rendering a generic Card for unknown type:",r),l.createElement(k,t()({},o,{name:e.name,uri:e.uri,images:e.images}))}}},63495:(e,n,i)=>{i.d(n,{s:()=>o});var a=i(67294),t=i(20657),l=i(36590),r=i(51079),s=i(47418),d=i(11186);const o=({name:e,uri:n,images:i,isHero:o,onClick:m,testId:c,description:u,index:k,requestId:v})=>o?a.createElement(s.Z,{featureIdentifier:"genre",index:k,onClick:m,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>a.createElement(r.x,{isHero:o,images:i}),renderSubHeaderContent:()=>a.createElement(d.k,null,u||t.ag.get("card.tag.genre")),testId:c,requestId:v}):a.createElement(l.C,{index:k,featureIdentifier:"genre",onClick:m,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>a.createElement(r.x,{isHero:o,images:i}),renderSubHeaderContent:()=>a.createElement("span",null,u||""),testId:c,requestId:v})},94522:(e,n,i)=>{i.d(n,{g:()=>S});var a=i(67294),t=i(94184),l=i.n(t),r=i(59713),s=i.n(r);function d(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?d(Object(i),!0).forEach((function(n){s()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function m(){const e=(e,n)=>{switch(n.type){case"INVALIDATE":return o(o({},e),{},{isValid:!1});case"CACHE_ITEMS":return e.isValid?o(o({},e),{},{items:o(o({},e.items),n.data),hasData:!0}):{isValid:!0,items:o({},n.data),hasData:!0};default:throw new Error("Action not supported")}},[n,i]=(0,a.useReducer)(e,{items:{},isValid:!0,hasData:!1});return{cacheItems:(0,a.useCallback)(((e,n)=>{const a=e.reduce(((e,i,a)=>(e[a+n]=i,e)),{});i({type:"CACHE_ITEMS",data:a})}),[i]),getCachedItems:(0,a.useCallback)(((e,i)=>{const a=[],t=[];for(let l=e;l<=i;l++)n.items[l]||a.push(l),t.push(n.items[l]);return n.isValid?{items:t,missing:a.length>0?{firstMissingIndex:Math.min(...a),lastMissingIndex:Math.max(...a)}:null}:{items:t,missing:{firstMissingIndex:e,lastMissingIndex:i}}}),[n]),invalidateCache:(0,a.useCallback)((()=>{i({type:"INVALIDATE"})}),[i]),hasCachedData:n.hasData}}var c=i(63926),u=i(77323);const k=({renderItems:e,nrItems:n,estimatedItemMaxHeight:i,scrollNodeRef:t,nrRowsOverscan:l=5})=>{const r=(0,a.useRef)(null),s=(0,a.useRef)(null),d=(0,a.useRef)(null),o=(0,a.useRef)(0),m=(0,a.useRef)({rowCount:0,rowHeight:i,columnCount:1}),[k,v]=(0,a.useState)({firstItemToRender:0,lastItemToRender:-1}),p=(0,a.useCallback)(((e,n)=>{const i=t.current;if(!i)return;const a=Math.floor(i.offsetHeight/n)+2*l;m.current={rowCount:a,rowHeight:n,columnCount:e}}),[l,t]),N=(0,a.useCallback)((()=>{const e=t.current;if(!e)return;const i=Math.floor((e.scrollTop-o.current)/m.current.rowHeight),a=Math.max(i-l,0),r=a*m.current.columnCount,s=Math.min((a+m.current.rowCount-1)*m.current.columnCount-1,n-1);r===k.firstItemToRender&&s===k.lastItemToRender||v({firstItemToRender:r,lastItemToRender:s})}),[k.firstItemToRender,k.lastItemToRender,n,l,t]),S=(0,a.useCallback)((n=>e(k.firstItemToRender,k.lastItemToRender,n)),[k.firstItemToRender,k.lastItemToRender,e]),g=(0,a.useCallback)((({columnCount:e,rowHeight:n})=>{const i=n+c.w;i!==m.current.rowHeight&&e>0&&(p(e,i),N())}),[p,N]);(0,a.useEffect)((()=>{const e=d.current,n=t.current;e&&n&&(o.current=e.getBoundingClientRect().top-n.getBoundingClientRect().top+n.scrollTop)}),[t]),(0,a.useEffect)((()=>{if(!window.IntersectionObserver)return()=>{};const e=new window.IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&N()}))}));return r.current&&e.observe(r.current),s.current&&e.observe(s.current),()=>{e.disconnect()}}),[N]);const y=Math.ceil(n/m.current.columnCount),f=Math.min(y*m.current.rowHeight,m.current.rowHeight*(l-2)),h=m.current.rowHeight*(k.firstItemToRender/m.current.columnCount),b=k.lastItemToRender/m.current.columnCount+1<y?m.current.rowHeight*(y-m.current.rowCount)-h:0;return a.createElement("div",{ref:d,className:u.Z.wrapper,style:{height:y*m.current.rowHeight+"px"}},a.createElement("div",{ref:r,className:u.Z.topSentinel,style:{height:`${h+f}px`}},a.createElement("div",{style:{height:`${f}px`}})),a.createElement("div",{style:{transform:`translateY(${h}px)`}},a.createElement(c.T,{render:S,onLayoutChange:g})),a.createElement("div",{ref:s,className:u.Z.bottomSentinel,style:{height:`${b+f}px`}},a.createElement("div",{style:{height:`${f}px`}})))};var v=i(32648),p=i(56170);const N="lA3jnNwnLc3CoYKT06Vz";function S({renderCard:e,nrCards:n,fetchData:i,limit:t=50,cardGridApiRef:r}){const{scrollNodeRef:s}=(0,a.useContext)(v.VX),{invalidateCache:d,getItemsFromCache:o,hasCachedData:c}=function(e){const{getCachedItems:n,cacheItems:i,invalidateCache:t,hasCachedData:l}=m(),r=(0,a.useRef)(!1),s=(0,a.useRef)(!1);(0,a.useEffect)((()=>(s.current=!0,()=>{s.current=!1})));const d=(0,a.useCallback)(((n,a)=>{const t=Math.max(n,0);r.current||(r.current=!0,e(t,a).then((e=>{r.current=!1,e.length>0&&s.current&&i(e,t)})))}),[i,e]);return{invalidateCache:t,getItemsFromCache:(0,a.useCallback)(((e,i,a)=>{const{items:t,missing:l}=n(e,i);if(l){const{firstMissingIndex:n,lastMissingIndex:t}=l;t===i?d(n,a):n===e?d(t-a+1,a):d(n,t-n+1)}return t}),[d,n]),hasCachedData:l}}(i);(0,a.useImperativeHandle)(r,(()=>({update:()=>d()})));return a.createElement("div",{className:l()({[N]:!c})},a.createElement(k,{renderItems:(i,l,r)=>{const s=o(i,l,t);return-1===l&&n>0?[a.createElement(p.P,{key:"placeholder",index:0})]:s.map(((n,t)=>{const l=n?e(n,i+t,r):null;return null!=l?l:a.createElement(p.P,{key:t,index:t})}))},scrollNodeRef:s,nrItems:n,estimatedItemMaxHeight:500}))}},70666:(e,n,i)=>{i.r(n),i.d(n,{SeeAll:()=>m,default:()=>c});var a=i(67294),t=i(94184),l=i.n(t),r=i(28760),s=i(20657),d=i(67892);const o="a7lvtXATo3HALtrsOHtO",m=a.memo((e=>{const{link:n,pageId:i,className:t,label:m,state:c,pathname:u,onClick:k}=e;return a.createElement(d.Z,{to:n,className:l()(o,t),pageId:i,state:c,pathname:u,"data-testid":e["data-testid"],onClick:k},a.createElement(r.Dy,{variant:"minuetBold"},m||s.ag.get("search.see-all")))})),c=m},38993:(e,n,i)=>{i.r(n),i.d(n,{default:()=>Qa});var a=i(67294),t=i(62808),l=i.n(t),r=i(87577),s=i(73305),d=i(20657),o=i(58333),m=i(46458),c=i(49207),u=i(74873),k=i(28760),v=i(99450),p=i(61633),N=i(728),S=i(50114),g=i(17213),y=i(63926),f=i(64005),h=i(56802),b=i(67892);const E="RqBX4yuCHgMNXtcJnxv5",F="nUgbAeYj4gkJ_tXlm_ck",I="I8HKKfSJDDPx7rwCatT2",T="v5TOXMimmpi0Ind7QLHC",C="gjJebeNMJQIjXZyOmINz",D="nuwPDs07FwDYc9TP9KWA",A="YYQh0cc9R7oKH5WmxBUP",R="D7SjPRxlJwibVXmL_BNN",w="un9ka9FQajcXmx1ncJIo",V="SdMIYvEJ5rA5V8t_gOnk";const O=e=>{const{title:n,children:i,seeAllUri:t,pageId:l,className:r="",childColumnSpan:s=1}=e,[o,m]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),S=(0,a.useRef)(null),g=(0,h.o)(),O=(0,f.y)((()=>{!function(e,n,i,a,t){if(null===t.current)return;const{scrollLeft:l,offsetWidth:r,scrollWidth:s}=t.current,d=l>0,o=l+r<s;e!==d&&i(d),n!==o&&a(o)}(o,c,m,u,S)}),200);if(Array.isArray(i)&&0===i.length)return null;const P=Array.isArray(i)?i.length:0;return a.createElement("section",{className:`${r} ${E}`,"aria-label":n},a.createElement("div",{className:C},t?a.createElement(b.r,{to:t,pageId:l},a.createElement(k.Dy,{as:"h2",variant:"canon",semanticColor:"textBase",className:T},n)):a.createElement(k.Dy,{as:"h2",variant:"canon",semanticColor:"textBase",className:T},n)),a.createElement("div",{className:I},a.createElement("div",{"data-testid":"scroll-wrapper",className:F,ref:S,onScroll:O},a.createElement(y.T,{className:V,fixedColumnCount:P*s,onUpdate:O,render:(e,n,t,l)=>a.createElement(a.Fragment,null,o&&a.createElement("div",{className:`${D} ${R}`},a.createElement(v.D,{title:d.ag.get("playback-control.skip-back"),className:w,onClick:()=>{!function(e,n,i,a){null!==a.current&&(a.current.scrollLeft-=e*(n+i))}(e,n,l,S),g({intent:"carousel-left",type:"click",itemIdSuffix:"carousel"})},tabIndex:-1,"aria-label":d.ag.get("playback-control.skip-back"),iconOnly:p.e,colorSet:"invertedLight"})),c&&a.createElement("div",{className:`${D} ${A}`},a.createElement(v.D,{title:d.ag.get("playback-control.skip-forward"),className:w,onClick:()=>{!function(e,n,i,a){null!==a.current&&(a.current.scrollLeft+=e*(n+i))}(e,n,l,S),g({intent:"carousel-right",type:"click",itemIdSuffix:"carousel"})},tabIndex:-1,"aria-label":d.ag.get("playback-control.skip-forward"),iconOnly:N.V,colorSet:"invertedLight"})),i)}))))};(0,S.P)(O,(()=>null),(e=>(0,g.v)({from:"Carousel",error:e})));var P=i(42922),x=i(1496),q=i(19480),U=i(69518),_=i.n(U),H=i(73012),M=i(81620),L=i(80418);const j="x-categoryCard-CategoryCard",B="i2yp6pOoZpYZLd5QWguN",W="tV9cjMpTPaykKsn2OVsw",G=H.Sns,Z=H.d1r,$=({title:e,imageUrl:n,viewId:i,pageId:t,color:l=G,href:r,index:s,ubiId:d})=>{const o=i&&`/genre/${i}`||r||"#",{spec:m,logger:c}=(0,x.fU)(M.createDesktopCategoryCardEventFactory,{data:{position:s,identifier:d}}),u=(0,a.useCallback)((()=>{var e;const n=null===(e=_().from(o))||void 0===e?void 0:e.toURI();n&&c.logInteraction(m.hitUiNavigate({destination:n}))}),[c,m,o]),k=(0,x.Wi)(m);return a.createElement(b.r,{to:o,pageId:t,className:j,style:{backgroundColor:l},onClick:u,ref:k},a.createElement("div",null,n?a.createElement(L.E,{loading:"lazy",src:n,className:W}):a.createElement("div",{style:{backgroundColor:Z},className:W,"data-testid":"fallback"}),a.createElement("h3",{className:B},e)))},z="a2ruVaZt_DdrdHz3GqgU",X="EfZJn6C1pA6BsRD5UpDR",Y="xGVkSPi5IQWS8RjzeCmq",Q=({title:e,imageUrl:n,viewId:i,color:t=G,pageId:l,index:r})=>{const s=`/genre/${i}`,{spec:d,logger:o}=(0,x.fU)(M.createDesktopCategoryCardEventFactory,{data:{position:r,identifier:i}}),m=(0,a.useCallback)((()=>{var e;const n=null===(e=_().from(s))||void 0===e?void 0:e.toURI();n&&o.logInteraction(d.hitUiNavigate({destination:n}))}),[o,d,s]),c=(0,x.Wi)(d);return a.createElement(b.r,{to:s,pageId:l,className:z,style:{backgroundColor:t},onClick:m,ref:c},a.createElement("div",null,a.createElement("h3",{className:X},e),n?a.createElement(L.E,{loading:"lazy",className:Y,src:n}):a.createElement("div",{className:Y,style:{backgroundColor:Z},"data-testid":"fallback"})))},K="rvvoAdb7aaUPYRasW7sK",J="UdXTcsz1eiiInKThkfYp",ee=(0,m.$j)((e=>({topGenres:e.browse.topGenres,browseAll:e.browse.browseAll})))((e=>{const{topGenres:n,browseAll:i,topGenresSpec:t,browseAllSpec:l}=e;return n||i?a.createElement("div",{className:K},n&&a.createElement(P.ZP,{value:"top-genre"},a.createElement(x.Nh,{spec:t},a.createElement(O,{title:n.title,childColumnSpan:2},n.items.map((({viewId:e,color:n,title:i,imageUrl:t},l)=>a.createElement(P.ZP,{key:e,index:l,value:"hero-category-card"},a.createElement(Q,{title:i,viewId:e,pageId:"search",color:n,imageUrl:t,index:l}))))))),i&&a.createElement("div",{className:J,"data-testid":"browse-all"},a.createElement(x.Nh,{spec:l},a.createElement(q.P,{title:i.title,showAll:!0},i.items.map((({viewId:e,color:n,title:i,imageUrl:t,href:l,ubiId:r},s)=>a.createElement($,{key:e||l,title:i,viewId:e,pageId:"search",href:l,color:n,imageUrl:t,ubiId:r,index:s}))))))):null})),ne=e=>{const n=(0,r.W6)(c.dE),i=(0,m.I0)();return(0,a.useEffect)((()=>{i((0,u.ZR)(n))}),[n,i]),a.createElement(ee,{topGenresSpec:e.topGenresSpec,browseAllSpec:e.browseAllSpec})},ie=e=>a.createElement(a.Suspense,{fallback:null},a.createElement(ne,{topGenresSpec:e.topGenresSpec,browseAllSpec:e.browseAllSpec}));var ae=i(18686),te=i(59713),le=i.n(te),re=i(10149),se=i(3634),de=i(89477),oe=i(41632),me=i(54543),ce=i(16061),ue=i(63495),ke=i(46309),ve=i(30523),pe=i(95332),Ne=i(46327),Se=i(42781);const ge=({entity:e,index:n,testId:i,onClick:t,isHero:l=!1})=>{var r;switch(e.type){case Se.p.ALBUM:return a.createElement(se.r,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,artists:e.artists,year:e.year,sharingInfo:null,requestId:e.requestId});case Se.p.ARTIST:return a.createElement(de.I,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case Se.p.AUDIOBOOK:return a.createElement(oe.c,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,authorName:e.authorName,requestId:e.requestId});case Se.p.EPISODE:return a.createElement(ce.B,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,showImages:e.show.images,durationMilliseconds:e.duration.milliseconds,releaseDate:e.release.date,resume_point:null,description:e.description,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId});case Se.p.GENRE:return a.createElement(ue.s,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case Se.p.PLAYLIST:return a.createElement(ke.Z,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,description:"",authorName:e.owner.displayName,requestId:e.requestId});case Se.p.USER:return a.createElement(ve.P,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case Se.p.SHOW:return a.createElement(pe._,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,mediaType:e.mediaType,sharingInfo:null,requestId:e.requestId});case Se.p.TRACK:return a.createElement(Ne.G,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:(null===(r=e.album)||void 0===r?void 0:r.images)||[],artists:e.artists,album:e.album,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId});default:return console.warn('Rendering SearchEntityCard using the old method <DeprecatedEntityCardByUriType /> as the entity doesn\'t contain the new "type" EntityType enum.'),a.createElement(me.q,{testId:i,onClick:t,isHero:l,index:n,entity:e})}},ye="ADri2r8kq8LVqSsNNvIr",fe="fOEOTcOAgPryvbYRYfOo",he="xmJl0s8mcJ3bfhtnoaP1";function be(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function Ee(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?be(Object(i),!0).forEach((function(n){le()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):be(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}const Fe=({entity:e,index:n,clearSearchHistory:i})=>a.createElement("div",{className:ye,key:e.uri},a.createElement(ge,{entity:Ee(Ee({},e),{},{requestId:void 0}),index:n}),a.createElement("div",{className:fe},a.createElement("button",{className:he,onClick:()=>i(e.uri),"aria-label":d.ag.get("remove")},a.createElement(re.k,{iconSize:16}))));var Ie=i(16375);const Te=()=>{const{searchHistory:e,clearSearchHistory:n}=(0,Ie.u)();return 0===e.length?null:a.createElement(ae.q,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:d.ag.get("search.title.recent-searches")},e.map(((e,i)=>a.createElement(P.ZP,{key:e.uri,index:i,value:"search-history"},a.createElement(Fe,{entity:e,index:i,clearSearchHistory:n})))))},Ce=()=>{const{spec:e,UBIFragment:n}=(0,x.fU)(o.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:i,topGenresSpec:t,browseAllSpec:l}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return a.createElement(a.Fragment,null,a.createElement(n,{spec:i},a.createElement(Te,null)),a.createElement(ie,{topGenresSpec:t,browseAllSpec:l}))};var De=i(94184),Ae=i.n(De),Re=i(58588),we=i(54214),Ve=i(12324),Oe=i(69559);const Pe="bMurPtRDRv5LuN78MTVG",xe="KjPUGV8uMbl_0bvk9ePv",qe="ijZQH9pePkbB2MbJHCJV",Ue="XTk61Y8OkBdUT6Wj4F6i",_e="VfDGbMWaJe9rcefizTNk",He="vmaoczSnxcR6Bpq8QEfX",Me="Rrh3wAxQPbSfTYPMvAUo";var Le;function je(e,n){(0,Ve.Bu)(e,n),n.scrollIntoView({block:"end",inline:"center"})}function Be(e,n){const i=e.querySelector('[tabindex="0"]')||e.firstElementChild;n===Le.RIGHT&&i.nextElementSibling?je(i,i.nextElementSibling):n===Le.LEFT&&i.previousElementSibling&&je(i,i.previousElementSibling)}!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(Le||(Le={}));const We=e=>{const{children:n,className:i,showButtons:t=!0,ariaLabel:l}=e,r=(0,a.useRef)(null),s=(0,a.useRef)(null),[d,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),k=(0,a.useCallback)((()=>{if(!s.current||!r.current)return;const e=s.current,n=r.current,i=e.scrollWidth-e.clientWidth,a=Math.floor(e.scrollLeft),t=e.scrollWidth>n.clientWidth;u(t&&0!==a),o(t&&Math.abs(a)<i)}),[]);(0,Oe.a)((()=>{k()}));const v=a.Children.toArray(n).length;(0,a.useEffect)(k,[v,k]);const S=(0,a.useCallback)((e=>{const n=e*(r.current.clientWidth/2);s.current.scrollBy({left:n}),k()}),[k]),g=(0,m.v9)((e=>{var n,i;return null===(n=e.ui)||void 0===n||null===(i=n.textDirection)||void 0===i?void 0:i.isRTL})),y=(0,a.useCallback)((e=>{"ArrowLeft"===e.key?(e.preventDefault(),Be(s.current,g?Le.RIGHT:Le.LEFT)):"ArrowRight"===e.key&&(e.preventDefault(),Be(s.current,g?Le.LEFT:Le.RIGHT))}),[g]),f=g?d:c,h=g?c:d;return a.createElement("div",{ref:r,className:Ae()(Pe,i)},a.createElement("div",{ref:s,className:xe,onScroll:k,onKeyDown:y,role:"list","aria-label":l,tabIndex:0},n),t&&a.createElement("div",{className:qe,dir:"ltr"},a.createElement("button",{className:Ae()(Ue,He,{[_e]:f}),tabIndex:-1,onClick:()=>S(Le.LEFT)},a.createElement(p.e,{semanticColor:"textBase"})),a.createElement("button",{className:Ae()(Ue,Me,{[_e]:h}),tabIndex:-1,onClick:()=>S(Le.RIGHT)},a.createElement(N.V,{semanticColor:"textBase"}))))},Ge=(0,a.createContext)(null),Ze=Ge.Provider;function $e(){const e=(0,a.useContext)(Ge);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var ze=i(7073),Xe=i(13218),Ye=i(76);const Qe="hngqMWKjlLOEcuxpoHz9",Ke="WjLSNZPxuT0Zuw42kxSM",Je="zFOvsuNQpwehjH2VoiLL",en="zeGt0Z2HCYRvd6ziu_t9",nn=({forChip:e})=>{const{query:n}=$e(),i=`/search/${n}`;return a.createElement("div",{className:Qe,"aria-live":"polite"},a.createElement(k.Dy,{as:"h1",variant:"canon",className:Ke},e?d.ag.get("search.empty-results-title-for-chip",n,e):d.ag.get("search.empty-results-title",n)),a.createElement("p",{className:Je},d.ag.get("search.empty-results-text")),e&&a.createElement(Ye.rU,{to:i},a.createElement(v.D,{colorSet:"invertedLight",className:en},d.ag.get("search.see-all"))))};var an=i(33241),tn=i(18864),ln=i(84242),rn=i(47917);const sn="H2PDjUgJNBIH5eWg59M0",dn="vRlEuZATPhZt2l04RVIw",on="Adlh7XTc3j3pXM3jGgr8",mn=({index:e,item:n})=>{const{episode:i,show:t}=n,{usePlayContextItem:l}=(0,ln.n)({uri:n.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return a.createElement("div",{className:on},a.createElement(rn.V,{index:e,episode:i,showMetadata:t,usePlayContextItem:l}),a.createElement("hr",{className:dn,"aria-hidden":!0}))},cn=({pageSize:e=30,showTitle:n=!0,displayEmptyPageOnEmptyResults:i=!0,enableInfiniteScroll:t=!1,spec:l})=>{const r=(0,a.useRef)(!0);(0,a.useEffect)((()=>(r.current=!0,()=>{r.current=!1})),[]);const{query:s,api:d}=$e(),o=(0,a.useRef)(null),m=(0,a.useRef)(0),[c,u]=(0,a.useState)(null),{ref:k,breakpoint:v}=(0,tn.Db)({[tn.Uo.MEDIUM]:0,[tn.Uo.LARGE]:600}),p=(0,x.$P)(),N=(0,a.useCallback)((async(n=!1)=>{n&&(m.current=0,o.current=null);let i=e;if(null!==o.current){if(m.current>=o.current)return;m.current+i>o.current&&(i=o.current-m.current)}const a=await d.getFullEpisodes(s,m.current,i);m.current+=i,o.current=a.totalCount||0,r.current&&u((e=>(n||null===e?[]:e).concat(a.items)))}),[d,s,e]);(0,a.useEffect)((()=>{N(!0)}),[N]);const S=`spotify:app:search:${encodeURIComponent(s)}:${Vn}`;return 0===o.current?i?a.createElement(nn,{forChip:xn.episodes()}):null:a.createElement(tn.ZU.Provider,{value:v},c&&n&&a.createElement(Xe.r,{title:xn.episodes(),seeAllUri:S,onClickTitle:()=>{l&&p.logInteraction(l.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:S}))},onClickSeeAll:()=>{l&&p.logInteraction(l.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:S}))},hasMoreElements:!t&&c.length<(o.current||0)}),a.createElement("div",{ref:k,className:sn},c&&a.createElement(an.C,{triggerOnInitialLoad:!1,onReachBottom:()=>{t&&N()}},c.map(((e,n)=>a.createElement(mn,{item:e,index:n,key:n}))))))};var un=i(99996),kn=i(49961),vn=i(28248),pn=i(47991);const Nn=a.memo((({trackListHeaderTop:e})=>{const n=(0,a.useRef)(!0);(0,a.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[]);const[i,t]=(0,a.useState)(null),{query:l,api:r,serpId:s}=$e();(0,a.useEffect)((()=>{(async()=>{const e=await r.getSearchCategoryResultsMeta(l,"tracks");n.current&&t(e.totalCount||0)})()}),[r,l]);const o=(0,a.useCallback)((async(e,n)=>(await r.getSearchCategoryResults(l,"tracks",e,n)).items||[]),[r,l]),m=(0,a.useCallback)(((e,n)=>{var i;const t=(0,kn.X)(null===(i=e.album)||void 0===i?void 0:i.images,{desiredSize:40}),l=!(!1===e.isPlayable);return a.createElement(vn.e9,{key:n+e.uri,index:n,uri:(0,pn.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:l,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:(null==t?void 0:t.url)||"",requestId:e.requestId})}),[]),c=(0,a.useMemo)((()=>[vn.QD.INDEX,vn.QD.TITLE,vn.QD.ALBUM,vn.QD.DURATION]),[]),u=(0,a.useCallback)((e=>e.uri),[]),k=_().searchURI(l).toURI(),{spec:v,UBIFragment:p}=(0,x.fU)(un.createDesktopSearchTracksEventFactory,{data:{uri:k,reason:s}}),N=(0,a.useMemo)((()=>v.tracksFactory()),[v]);if(null===i)return null;const S=d.ag.get("search.showing-category-query-songs",l);return a.createElement(p,{spec:N},a.createElement(P.ZP,{value:"search-results-tracklist"},a.createElement(vn.Pv,{ariaLabel:S,key:l,hasHeaderRow:!0,columns:c,renderRow:m,resolveUri:u,nrTracks:i,fetchTracks:o,limit:50,headerTop:e})))}));var Sn=i(85019);const gn=e=>{const{title:n,category:i,query:t,results:l,onAddToHistory:r,position:s,showSeeAll:d}=e;if(!l)return null;const{items:o,totalCount:m}=l;return o&&0!==o.length?a.createElement(ae.q,{index:s,id:i,total:m||0,title:n,testId:`${i}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(t)}:${i}`,showSeeAll:d},o.map(((e,n)=>a.createElement(P.ZP,{value:i,index:n,key:e.uri},a.createElement(ge,{onClick:()=>r(e),entity:e,index:n}))))):null},yn={podcastAndEpisodes:"pE9ccpPiPFWfTWfDdKT_"},fn=({pageSize:e,results:n})=>{const i=(0,a.useRef)(!0);(0,a.useEffect)((()=>(i.current=!0,()=>{i.current=!1})),[]);const{query:t,serpId:l,onAddToHistory:r}=$e(),s=_().searchURI(t).toURI(),{spec:d,UBIFragment:o}=(0,x.fU)(Sn.createDesktopSearchPodcastAndShowsEventFactory,{data:{uri:s,reason:l}});return 0===(null==n?void 0:n.podcasts.totalCount)&&0===(null==n?void 0:n.episodes.totalCount)?a.createElement(nn,{forChip:xn.podcastAndEpisodes()}):a.createElement(o,{spec:d},a.createElement("div",{className:yn.podcastAndEpisodes},0!==(null==n?void 0:n.podcasts.totalCount)&&a.createElement("div",{className:yn.podcastShelf},a.createElement(gn,{position:0,category:"podcasts",title:xn.podcastAndEpisodes(),query:t,results:null==n?void 0:n.podcasts,onAddToHistory:r})),0!==(null==n?void 0:n.episodes.totalCount)&&a.createElement("div",{className:yn.episodesShelf},a.createElement(cn,{displayEmptyPageOnEmptyResults:!1,pageSize:e,spec:d}))))};var hn=i(78358);const bn="bCoyoXohuLs0f6urF2PD",En={artists:e=>d.ag.get("search.showing-category-query-artist",e),albums:e=>d.ag.get("search.showing-category-query-albums",e),playlists:e=>d.ag.get("search.showing-category-query-playlists",e),podcasts:e=>d.ag.get("search.showing-category-query-podcasts",e),audiobooks:e=>`All audiobooks for ${e}`,episodes:e=>d.ag.get("search.showing-category-query-episodes",e),users:e=>d.ag.get("search.showing-category-query-profiles",e),genres:e=>d.ag.get("search.showing-category-query-genres",e),tracks:()=>""},Fn={shows:"podcasts",profiles:"users"},In=({showTitle:e=!0,pageSize:n=50})=>{const i=(0,a.useRef)(!0);(0,a.useEffect)((()=>(i.current=!0,()=>{i.current=!1})),[]);const{category:t,query:l,api:r,serpId:s,onAddToHistory:d}=$e(),o=(0,a.useRef)(null),m=(0,a.useRef)(0),[c,u]=(0,a.useState)(null),v=t,p=Fn[v]||t,N=(0,a.useCallback)((async(e=!1)=>{e&&(m.current=0,o.current=null);let a=n;if(null!==o.current){if(m.current>=o.current)return;m.current+a>o.current&&(a=o.current-m.current)}const t=await r.getSearchCategoryResults(l,p,m.current,a);m.current+=a,o.current=t.totalCount||0,i.current&&u((n=>(e||null===n?[]:n).concat(t.items)))}),[r,p,l,n]);(0,a.useEffect)((()=>{N(!0)}),[N]);const S=(0,a.useCallback)(((e,n)=>a.createElement(P.ZP,{value:"card",key:`${e.uri}-${n}`,index:n},a.createElement(ge,{entity:e,onClick:()=>d(e),testId:`search-category-card-${n}`,index:n}))),[d]),g=_().searchURI(l).toURI(),{spec:f,UBIFragment:h}=(0,x.fU)(hn.createDesktopSearchCategoryEventFactory,{data:{uri:g,reason:s}}),b=(0,a.useMemo)((()=>f.cardsFactory()),[f]);return 0===o.current?a.createElement(nn,{forChip:xn[v]()}):a.createElement(h,{spec:b},a.createElement("div",{className:bn},e&&v in En&&a.createElement(k.Dy,{as:"h1",variant:"canon",semanticColor:"textBase",paddingBottom:H.o78},En[v](l)),c&&a.createElement(an.C,{onReachBottom:N,triggerOnInitialLoad:!1},a.createElement(y.T,{render:()=>c.map(((e,n)=>S(e,n)))}))))};var Tn=i(13406);const Cn=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const n=(0,a.useRef)(!0);(0,a.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[]);const{query:i,api:t,serpId:l}=$e(),r=(0,a.useRef)(null),s=(0,a.useRef)(0),[o,m]=(0,a.useState)(null),c=(0,a.useCallback)((async(a=!1)=>{a&&(s.current=0,r.current=null);let l=e;if(null!==r.current){if(s.current>=r.current)return;s.current+l>r.current&&(l=r.current-s.current)}const d=await t.getSearchCategoryResults(i,"tracks",s.current,l);s.current+=l,r.current=d.totalCount||0,n.current&&m((e=>(a||null===e?[]:e).concat(d.items)))}),[t,i,e]);(0,a.useEffect)((()=>{c(!0)}),[c]);const u=(0,a.useCallback)(((e,n)=>{var i;const t=(0,kn.X)(null===(i=e.album)||void 0===i?void 0:i.images,{desiredSize:40}),l=!(!1===e.isPlayable);return a.createElement(vn.e9,{key:n+e.uri,index:n,uri:(0,pn.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:l,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:(null==t?void 0:t.url)||"",requestId:e.requestId})}),[]),k=(0,a.useMemo)((()=>[vn.QD.INDEX,vn.QD.TITLE,vn.QD.ALBUM,vn.QD.DURATION]),[]),v=(0,a.useCallback)((e=>e.uri),[]),p=_().searchURI(i).toURI(),{spec:N,UBIFragment:S}=(0,x.fU)(un.createDesktopSearchTracksEventFactory,{data:{uri:p,reason:l}}),g=(0,a.useMemo)((()=>N.tracksFactory()),[N]),y=d.ag.get("search.showing-category-query-songs",i);return 0===r.current?a.createElement(nn,{forChip:xn.tracks()}):a.createElement(S,{spec:g},a.createElement(P.ZP,{value:"search-results-tracklist"},a.createElement("div",null,o&&a.createElement(an.C,{triggerOnInitialLoad:!1,onReachBottom:c},a.createElement(vn.Pv,{ariaLabel:y,hasHeaderRow:!0,columns:k,renderRow:u,resolveUri:v,nrTracks:o.length,headerTop:Tn.K1+_n,tracks:o})))))};var Dn=i(94522);const An=function(){const e=(0,a.useRef)(!0);(0,a.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]);const{api:n,query:i,serpId:t,onAddToHistory:l}=$e(),[r,s]=(0,a.useState)(d.ag.get("artist-page.featuring",i)),o=(0,a.useCallback)((async()=>{const a=await n.getTopRecommendations(i);return e.current&&s(d.ag.get("artist-page.featuring",a.artistName)),a.items}),[n,i]),m=(0,a.useCallback)(((e,n)=>a.createElement(P.ZP,{key:e.uri,value:"card",index:n},a.createElement(ke.Z,{index:n,onClick:()=>l(e),uri:e.uri,name:e.name,images:e.images,authorName:e.owner.displayName,description:null}))),[l]),c=_().searchURI(i).toURI(),{spec:u,UBIFragment:v}=(0,x.fU)(hn.createDesktopSearchCategoryEventFactory,{data:{uri:c,reason:t}});return a.createElement(v,{spec:u},a.createElement("div",null,a.createElement(k.Dy,{as:"h1",variant:"canon",semanticColor:"textBase",paddingBottom:H.o78},r),a.createElement(Dn.g,{nrCards:4,renderCard:m,fetchData:o})))},Rn="tracks",wn="podcastAndEpisodes",Vn="episodesFull",On=({results:e})=>{const{category:n}=$e();return n===Rn?a.createElement(Cn,null):n===wn?a.createElement(fn,{results:e,pageSize:30}):n===Vn?a.createElement(cn,{pageSize:30,enableInfiniteScroll:!0,showTitle:!1}):a.createElement(In,{showTitle:!1,pageSize:30})},Pn=()=>{const{category:e}=$e();return e===Rn?a.createElement(Nn,null):"topRecommendations"===e?a.createElement(An,null):a.createElement(In,null)},xn={artists:()=>d.ag.get("search.title.artists"),albums:()=>d.ag.get("search.title.albums"),playlists:()=>d.ag.get("search.title.playlists"),podcasts:()=>d.ag.get("search.title.shows"),episodes:()=>d.ag.get("search.title.episodes"),audiobooks:()=>"Audiobooks",users:()=>d.ag.get("search.title.profiles"),genres:()=>d.ag.get("search.title.genres-and-moods"),tracks:()=>d.ag.get("search.title.tracks"),[wn]:()=>d.ag.get("search.title.podcast-and-shows")},qn=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"],Un={containerFullWidth:"fVB_YDdnaDlztX7CcWTA",contentSpacing:"e179_Eg8r7Ub6yjjxctr",container:"VIeVCUUETJyYPCDpsBif",chipLink:"ZWI7JsjzJaR_G8Hy4W6J"},_n=48,Hn={[ze.xN.Podcasts]:["podcasts",wn],[ze.xN.Episodes]:["episodes",wn],[ze.xN.TopResults]:[null,null],[ze.xN.Artists]:["artists","artists"],[ze.xN.Albums]:["albums","albums"],[ze.xN.Playlists]:["playlists","playlists"],[ze.xN.Tracks]:["tracks","tracks"],[ze.xN.Audiobooks]:["audiobooks","audiobooks"],[ze.xN.Genres]:["genres","genres"],[ze.xN.Users]:["users","users"]},Mn=({to:e,title:n,selected:i,onClick:t})=>a.createElement(b.Z,{replace:!0,to:e,tabIndex:-1,onClick:t,className:Un.chipLink},a.createElement(Re.A,{selected:i,selectedColorSet:"invertedLight",className:Un.chip,tabIndex:-1},n)),Ln=({results:e})=>{var n;const{query:i,category:t}=$e(),{spec:l,logger:r}=(0,x.fU)(we.createDesktopSearchChipsEventFactory,{});if(!i)return null;if("podcasts"===t||"episodes"===t||t===Vn)return null;const s=(null==e||null===(n=e.chipOrder)||void 0===n?void 0:n.items)||[],o=s.reduce(((n,i)=>{var a,l;if(!i.typeName)return n;const[r,s]=Hn[i.typeName];return s&&r&&(t===s||null!=e&&null!==(a=e[r])&&void 0!==a&&null!==(l=a.items)&&void 0!==l&&l.length)?(n.add(s),n):n}),new Set([])),m=encodeURIComponent(i);return a.createElement("div",{className:Un.containerFullWidth},a.createElement("div",{className:Ae()("contentSpacing",Un.contentSpacing)},a.createElement("div",{className:Un.container},a.createElement(We,{className:Un.carousel},s.length>0&&a.createElement(Mn,{key:"all",to:`spotify:app:search:${m}`,title:d.ag.get("search.title.all"),selected:void 0===t,onClick:()=>{r.logInteraction(l.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${m}`}))}}),Array.from(o).map(((e,n)=>{var i;const s=null===(i=xn[e])||void 0===i?void 0:i.call(xn);return a.createElement(Mn,{key:e,to:`spotify:app:search:${m}:${e}`,title:s,selected:t===e,onClick:()=>{r.logInteraction(l.chipFactory({identifier:e,position:n+1}).hitUiNavigate({destination:`spotify:app:search:${m}:${e}`}))}})}))))))};var jn=i(43675);const Bn="Ul_eSpTV7OKDhvXcgfzw",Wn="HFNTjI36ujrPacyLOwTT",Gn=()=>{const{searchHistory:e,clearSearchHistory:n}=(0,Ie.u)(),{onSearchRequest:i}=$e(),{spec:t,logger:l,UBIFragment:r}=(0,x.fU)(jn.createDesktopRecentSearchesEventFactory,{data:{uri:"spotify:app:recent-searches"}}),s=(0,a.useMemo)((()=>t.recentSearchesCardsFactory()),[t]),o=(0,a.useCallback)((()=>{const e=t.clearButtonFactory().hitClearRecentSearches();l.logInteraction(e),n(),i("")}),[n,i,l,t]);return 0===e.length?null:a.createElement("div",{className:Bn},a.createElement(r,{spec:s},a.createElement(q.P,{title:d.ag.get("search.title.recent-searches"),showAll:!0},e.map(((e,i)=>a.createElement(P.ZP,{key:e.uri,index:i,value:"search-history"},a.createElement(Fe,{clearSearchHistory:n,entity:e,index:i})))))),a.createElement("button",{onClick:o,className:Wn},a.createElement(k.Dy,{variant:"minuetBold"},d.ag.get("search.clear-recent-searches"))))};var Zn=i(35796),$n=i(26529),zn=i(3775),Xn=i(22578),Yn=i(28638),Qn=i(13983);const Kn=(e,n)=>{const i="object"==typeof(null==e?void 0:e.requestIds)?null==e?void 0:e.requestIds:void 0,a=null==i?void 0:i[n],t="object"==typeof a?a:void 0;return"string"==typeof(null==t?void 0:t["search-api"])?null==t?void 0:t["search-api"]:void 0},Jn=e=>Kn(e,"/searchV2"),ei=e=>Kn(e,"/searchV2/topResults");i(98984);var ni=i(52200),ii=i(2678);const ai={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAlbumDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}}]}}]}}]}}]},ti={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchArtistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]},li={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]},ri={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchGenreDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Genre"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]},si={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPlaylistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}}]},di={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPodcastDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}}]},oi={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAudiobookDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}}]},mi={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTrackDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]}}]}}]},ci={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchUserDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"displayName"},name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"smallImageUrl"}},{kind:"Field",name:{kind:"Name",value:"largeImageUrl"}}]}}]}}]}}]}}]},ui={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchFullEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchFullEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchFullEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataV2"}}]}}]}}]}}]}},...ii.n0.definitions,...ni.rD.definitions,...ni.rA.definitions,...ni.TS.definitions,...ii.Rr.definitions]};var ki=i(8386);function vi(e){return null!==e}function pi(e,n){return e.map((e=>function(e,n){var i;if("Episode"!==(null===(i=e.data)||void 0===i?void 0:i.__typename))return null;return{requestId:n,episode:(0,ki.YS)(e.data),show:(0,ki.XU)(e.data.podcast)}}(e,n))).filter(vi)}async function Ni(e,n){var i,a;const t=await e(ui,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.searchV2)||void 0===a?void 0:a.episodes;return l?function(e,n){return{items:pi((null==e?void 0:e.items)||[],n),totalCount:(null==e?void 0:e.totalCount)||0}}(l,Jn(null==t?void 0:t.extensions)):null}const Si={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchDesktop"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}}]}}]}},...ai.definitions,...ni.rD.definitions,...ni.rA.definitions,...ti.definitions,...li.definitions,...ri.definitions,...si.definitions,...di.definitions,...oi.definitions,...mi.definitions,...ci.definitions]};function gi(e,n){return{items:yi((null==e?void 0:e.items)||[],n),totalCount:(null==e?void 0:e.totalCount)||0}}function yi(e,n){return e.map((e=>fi(e,n))).filter(vi)}function fi(e,n){var i,a,t;if("Album"!==(null===(i=e.data)||void 0===i?void 0:i.__typename))return null;const l=e.data;return{type:Se.p.ALBUM,name:l.name,uri:l.uri,images:(null===(a=l.coverArt)||void 0===a?void 0:a.sources)||[],artists:l.artists.items.map((e=>({type:Se.p.ARTIST,name:e.profile.name,uri:e.uri}))),year:null===(t=l.date)||void 0===t?void 0:t.year,requestId:n}}const hi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ai.definitions,...ni.rD.definitions,...ni.rA.definitions]},bi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbumsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Ei(e,n){return{items:Fi((null==e?void 0:e.items)||[],n),totalCount:(null==e?void 0:e.totalCount)||0}}function Fi(e,n){return e.map((e=>Ii(e,n))).filter(vi)}function Ii(e,n){var i,a,t;if("Artist"!==(null===(i=e.data)||void 0===i?void 0:i.__typename))return null;const l=e.data;return{type:Se.p.ARTIST,name:l.profile.name,images:(null===(a=l.visuals)||void 0===a||null===(t=a.avatarImage)||void 0===t?void 0:t.sources)||[],uri:l.uri,requestId:n}}const Ti={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ti.definitions,...ni.rD.definitions,...ni.rA.definitions]},Ci={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtistsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Di(e,n){return{items:Ai((null==e?void 0:e.items)||[],n),totalCount:null==e?void 0:e.totalCount}}function Ai(e,n){return e.map((e=>Ri(e,n))).filter(vi)}function Ri(e,n){var i,a,t;if("Audiobook"!==(null===(i=e.data)||void 0===i?void 0:i.__typename))return null;const l=e.data;return{type:Se.p.AUDIOBOOK,uri:l.uri,name:l.name,images:(null===(a=l.coverArt)||void 0===a?void 0:a.sources)||[],authorName:(null===(t=l.publisher)||void 0===t?void 0:t.name)||"",requestId:n}}const wi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...oi.definitions,...ni.rD.definitions,...ni.rA.definitions]},Vi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooksMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};var Oi=i(72169);function Pi(e,n){return{items:xi((null==e?void 0:e.items)||[],n),totalCount:(null==e?void 0:e.totalCount)||0}}function xi(e,n){return e.map((e=>qi(e,n))).filter(vi)}function qi(e,n){var i,a,t,l,r,s;if("Episode"!==(null===(i=e.data)||void 0===i?void 0:i.__typename))return null;const d=e.data;return{type:Se.p.EPISODE,name:d.name,images:(null===(a=d.coverArt)||void 0===a?void 0:a.sources)||[],uri:d.uri,duration:{milliseconds:d.duration.totalMilliseconds},isExplicit:(null===(t=d.contentRating)||void 0===t?void 0:t.label)===ze.KS.Explicit,release:(0,Oi.dR)(d.releaseDate),description:d.description||"",is19PlusOnly:(null===(l=d.contentRating)||void 0===l?void 0:l.label)===ze.KS.NineteenPlus,show:{type:Se.p.SHOW,uri:d.podcast.uri,name:d.podcast.name,publisher:(null===(r=d.podcast.publisher)||void 0===r?void 0:r.name)||"",mediaType:(0,Oi.x7)(d.podcast.mediaType),images:(null===(s=d.podcast.coverArt)||void 0===s?void 0:s.sources)||[]},requestId:n}}const Ui={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...li.definitions,...ni.rD.definitions,...ni.rA.definitions]},_i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodesMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Hi(e,n){return{items:Mi((null==e?void 0:e.items)||[],n),totalCount:(null==e?void 0:e.totalCount)||0}}function Mi(e,n){return e.map((e=>Li(e,n))).filter(vi)}function Li(e,n){var i,a;if("Genre"!==(null===(i=e.data)||void 0===i?void 0:i.__typename))return null;const t=e.data,l=_().from(t.uri);return{type:Se.p.GENRE,name:t.name,uri:l?t.uri:`spotify:app:genre:${t.uri}`,images:(null===(a=t.image)||void 0===a?void 0:a.sources)||[],requestId:n}}const ji={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenres"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ri.definitions,...ni.rD.definitions,...ni.rA.definitions]},Bi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenresMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Wi(e,n){return{items:Gi((null==e?void 0:e.items)||[],n),totalCount:(null==e?void 0:e.totalCount)||0}}function Gi(e,n){return e.map((e=>Zi(e,n))).filter(vi)}function Zi(e,n){var i,a,t,l,r,s;if("Playlist"!==(null===(i=e.data)||void 0===i?void 0:i.__typename))return null;const d=e.data;return{type:Se.p.PLAYLIST,uri:d.uri,name:d.name,images:(null===(a=d.images)||void 0===a?void 0:a.items.flatMap((e=>e.sources)))||[],owner:{type:Se.p.USER,uri:(null===(t=d.owner)||void 0===t?void 0:t.uri)||"",displayName:(null===(l=d.owner)||void 0===l?void 0:l.name)||"",username:(null===(r=d.owner)||void 0===r?void 0:r.username)||"",images:(null===(s=d.images)||void 0===s?void 0:s.items.flatMap((e=>e.sources)))||[]},requestId:n}}const $i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...si.definitions,...ni.rD.definitions,...ni.rA.definitions]},zi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylistsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Xi(e,n){return{items:Yi((null==e?void 0:e.items)||[],n),totalCount:(null==e?void 0:e.totalCount)||0}}function Yi(e,n){return e.map((e=>Qi(e,n))).filter(vi)}function Qi(e,n){var i,a,t;if("Podcast"!==(null===(i=e.data)||void 0===i?void 0:i.__typename))return null;const l=e.data;return{type:Se.p.SHOW,uri:l.uri,name:l.name,images:(null===(a=l.coverArt)||void 0===a?void 0:a.sources)||[],mediaType:(0,Oi.x7)(l.mediaType),publisher:(null===(t=l.publisher)||void 0===t?void 0:t.name)||"",requestId:n}}const Ki={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcasts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...di.definitions,...ni.rD.definitions,...ni.rA.definitions]},Ji={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcastsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};const ea={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTopResults"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTopResults"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTopResults"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultsV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},...ai.definitions,...ni.rD.definitions,...ni.rA.definitions,...ti.definitions,...li.definitions,...ri.definitions,...si.definitions,...di.definitions,...oi.definitions,...mi.definitions,...ci.definitions]};function na(e,n){return{items:ia((null==e?void 0:e.items)||[],n),totalCount:(null==e?void 0:e.totalCount)||0}}function ia(e,n){return e.map((e=>aa(e,n))).filter(vi)}function aa(e,n){var i,a,t,l;if("Track"!==(null===(i=e.data)||void 0===i?void 0:i.__typename))return null;const r=e.data,s=r.albumOfTrack;return{type:Se.p.TRACK,uri:r.uri,name:r.name,isPlayable:r.playability.playable,album:{type:Se.p.ALBUM,uri:(null==s?void 0:s.uri)||"",name:(null==s?void 0:s.name)||"",images:(null==s||null===(a=s.coverArt)||void 0===a?void 0:a.sources)||[]},artists:r.artists.items.map((e=>({type:Se.p.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:r.duration.totalMilliseconds},isExplicit:"EXPLICIT"===(null===(t=r.contentRating)||void 0===t?void 0:t.label),is19PlusOnly:"NINETEEN_PLUS"===(null===(l=r.contentRating)||void 0===l?void 0:l.label),requestId:n}}const ta={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...mi.definitions,...ni.rD.definitions,...ni.rA.definitions]},la={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracksMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};var ra=i(74563);function sa(e,n){return{items:da((null==e?void 0:e.items)||[],n),totalCount:(null==e?void 0:e.totalCount)||0}}function da(e,n){return e.map((e=>oa(e,n))).filter(vi)}function oa(e,n){var i,a,t;if("User"!==(null===(i=e.data)||void 0===i?void 0:i.__typename))return null;const l=e.data,r=(0,ra.p)({imageUriOrUrl:(null===(a=l.image)||void 0===a?void 0:a.largeImageUrl)||(null===(t=l.image)||void 0===t?void 0:t.smallImageUrl)||""});return{type:Se.p.USER,uri:l.uri,name:l.displayName||l.username,images:[{url:r,width:NaN,height:NaN}],requestId:n}}const ma={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ci.definitions]},ca={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsersMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function ua(e,n){var i;return{items:(null!==(i=null==e?void 0:e.items)&&void 0!==i?i:[]).map((e=>{var i;switch(null==e||null===(i=e.data)||void 0===i?void 0:i.__typename){case"Album":return fi(e,n);case"Artist":return Ii(e,n);case"Audiobook":return Ri(e,n);case"Episode":return qi(e,n);case"Genre":return Li(e,n);case"Playlist":return Zi(e,n);case"Podcast":return Qi(e,n);case"Track":return aa(e,n);case"User":return oa(e,n);default:return console.warn("Unable to determine the correct type for item",e),null}})).filter(vi)}}function ka(e,n){const i=(null==e?void 0:e.featured)||[];return{artistName:i.length?va(e):"",items:(null==i?void 0:i.map((e=>Zi(e,n))).filter(vi))||[],totalCount:i.length||0}}function va(e){const n=(0,Oi.wY)(e,"items",[]);try{var i;const e=(0,Oi.U2)(n.filter(Boolean),"0.data");return(null==e||null===(i=e.profile)||void 0===i?void 0:i.name)||""}catch{return""}}const pa={items:[],artistName:"",totalCount:0};const Na={items:[],totalCount:0},Sa={albums:Na,artists:Na,episodes:Na,genres:Na,playlists:Na,podcasts:Na,audiobooks:Na,topResults:{items:[]},tracks:Na,users:Na,topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},ga={albums:async function(e,n){var i,a;const t=await e(hi,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.searchV2)||void 0===a?void 0:a.albums;return l?gi(l,Jn(null==t?void 0:t.extensions)):null},artists:async function(e,n){var i,a;const t=await e(Ti,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.searchV2)||void 0===a?void 0:a.artists;return l?Ei(l,Jn(null==t?void 0:t.extensions)):null},episodes:async function(e,n){var i,a;const t=await e(Ui,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.searchV2)||void 0===a?void 0:a.episodes;return l?Pi(l,Jn(null==t?void 0:t.extensions)):null},genres:async function(e,n){var i,a;const t=await e(ji,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.searchV2)||void 0===a?void 0:a.genres;return l?Hi(l,Jn(null==t?void 0:t.extensions)):null},playlists:async function(e,n){var i,a;const t=await e($i,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.searchV2)||void 0===a?void 0:a.playlists;return l?Wi(l,Jn(null==t?void 0:t.extensions)):null},podcasts:async function(e,n){var i,a;const t=await e(Ki,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.searchV2)||void 0===a?void 0:a.podcasts;return l?Xi(l,Jn(null==t?void 0:t.extensions)):null},audiobooks:async function(e,n){var i,a;const t=await e(wi,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.searchV2)||void 0===a?void 0:a.audiobooks;return l?Di(l,Jn(null==t?void 0:t.extensions)):null},tracks:async function(e,n){var i,a;const t=await e(ta,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.searchV2)||void 0===a?void 0:a.tracks;return l?na(l,Jn(null==t?void 0:t.extensions)):null},users:async function(e,n){var i,a;const t=await e(ma,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.searchV2)||void 0===a?void 0:a.users;return l?sa(l,Jn(null==t?void 0:t.extensions)):null}},ya={albums:async function(e,n){var i,a,t;const l=await e(bi,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.searchV2)||void 0===a||null===(t=a.albums)||void 0===t?void 0:t.totalCount)||0}},artists:async function(e,n){var i,a,t;const l=await e(Ci,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.searchV2)||void 0===a||null===(t=a.artists)||void 0===t?void 0:t.totalCount)||0}},episodes:async function(e,n){var i,a,t;const l=await e(_i,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.searchV2)||void 0===a||null===(t=a.episodes)||void 0===t?void 0:t.totalCount)||0}},genres:async function(e,n){var i,a,t;const l=await e(Bi,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.searchV2)||void 0===a||null===(t=a.genres)||void 0===t?void 0:t.totalCount)||0}},playlists:async function(e,n){var i,a,t;const l=await e(zi,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.searchV2)||void 0===a||null===(t=a.playlists)||void 0===t?void 0:t.totalCount)||0}},podcasts:async function(e,n){var i,a,t;const l=await e(Ji,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.searchV2)||void 0===a||null===(t=a.podcasts)||void 0===t?void 0:t.totalCount)||0}},audiobooks:async function(e,n){var i,a,t;const l=await e(Vi,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.searchV2)||void 0===a||null===(t=a.audiobooks)||void 0===t?void 0:t.totalCount)||0}},tracks:async function(e,n){var i,a,t;const l=await e(la,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.searchV2)||void 0===a||null===(t=a.tracks)||void 0===t?void 0:t.totalCount)||0}},users:async function(e,n){var i,a,t;const l=await e(ca,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.searchV2)||void 0===a||null===(t=a.users)||void 0===t?void 0:t.totalCount)||0}}};class fa{constructor(e){this._request=e}async getSearchResults(e,n=!1,i=0,a=10,t=5){var l;const r={searchTerm:e,offset:i,limit:a,numberOfTopResults:t,includeAudiobooks:n},s=await this._request(Si,r),d=null==s?void 0:s.data.searchV2;if(!d)return Sa;const o=Jn(null==s?void 0:s.extensions),m=ei(null==s?void 0:s.extensions);return{albums:gi(d.albums,o),artists:Ei(d.artists,o),episodes:Pi(d.episodes,o),genres:Hi(d.genres,o),playlists:Wi(d.playlists,o),podcasts:Xi(d.podcasts,o),audiobooks:Di(null!==(l=d.audiobooks)&&void 0!==l?l:null,o),tracks:na(d.tracks,o),users:sa(d.users,o),topResults:ua(d.topResults,m),topRecommendations:ka(d.topResults,m),chipOrder:d.chipOrder}}async getSearchCategoryResults(e,n,i=0,a=25,t=10){const l={searchTerm:e,offset:i,limit:a,numberOfTopResults:t};return await ga[n](this._request,l)||Na}async getSearchCategoryResultsMeta(e,n){const i={searchTerm:e,limit:1,offset:0,numberOfTopResults:10};return await ya[n](this._request,i)||Na}async getFullEpisodes(e,n=0,i=25){const a={searchTerm:e,offset:n,limit:i};return await Ni(this._request,a)||Na}getTopRecommendations(e){return async function(e,n){var i,a;const t=await e(ea,{searchTerm:n,numberOfTopResults:10}),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.searchV2)||void 0===a?void 0:a.topResults;return l?ka(l,ei(null==t?void 0:t.extensions)):pa}(this._request,e)}}var ha=i(15416),ba=i(47402),Ea=i(50060),Fa=i(70666);const Ia=a.memo((({tracks:e,query:n})=>{const i=(0,a.useCallback)(((e,n)=>{var i;const t=(0,kn.X)(null===(i=e.album)||void 0===i?void 0:i.images,{desiredSize:40}),l=!(!1===e.isPlayable);return a.createElement(vn.pt,{key:e.uri,uri:(0,pn.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:l,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:n,imgUrl:(null==t?void 0:t.url)||"",requestId:e.requestId})}),[]),t=(0,a.useMemo)((()=>[vn.QD.TITLE,vn.QD.DURATION]),[]),l=(0,a.useCallback)((e=>e.uri),[]);return e&&a.createElement(P.ZP,{value:"search-results-tracklist"},a.createElement(vn.Pv,{key:n,ariaLabel:d.ag.get("search.a11y.songs-search-results"),renderRow:i,rowPlaceholder:vn.hU,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:l,columns:t}))}),((e,n)=>e.tracks===n.tracks)),Ta="rP1oFnzzvss0GV6VPgGG",Ca="XQakH0M0GDc6g6JKeyds",Da="PW9eULMYYH14XQgoJ0ui",Aa="VL6wjp4Br_D3FEWrUGGR",Ra="QVIrLvegL13F9cEdMqfT",wa="Lj3brgOJmjcq6MQ22XKq",Va=({tracks:e,query:n,className:i,showSeeAll:t=!0,spec:l})=>{const r=(0,x.$P)(),s=(0,a.useCallback)((()=>a.createElement("div",{className:wa},a.createElement(a.Suspense,{fallback:null},a.createElement(Ia,{tracks:e.items,query:n})))),[n,e]),o=`spotify:app:search:${encodeURIComponent(n)}:tracks`,m=(0,a.useCallback)((()=>{const e=l.headerFactory().titleFactory().hitUiNavigate({destination:o});r.logInteraction(e)}),[r,l,o]),c=(0,a.useCallback)((()=>{const e=l.headerFactory().seeAllFactory().hitUiNavigate({destination:o});r.logInteraction(e)}),[r,l,o]);return e.items.length?a.createElement("section",{className:Ae()(Ra,i),"aria-label":d.ag.get("search.title.tracks"),"data-testid":"search-tracks-result"},a.createElement("div",{className:Ta},e.items.length>3?a.createElement("div",{className:Ca},a.createElement("div",{className:Da},a.createElement(k.Dy,{as:"h2",variant:"canon"},t?a.createElement(b.r,{to:o,className:Aa,onClick:m},d.ag.get("search.title.tracks")):a.createElement("span",{className:Aa},d.ag.get("search.title.tracks")))),t&&a.createElement(Fa.SeeAll,{link:o,onClick:c})):a.createElement(k.Dy,{as:"h2",variant:"canon",className:Aa},d.ag.get("search.title.tracks"))),a.createElement(x.Nh,{spec:l},a.createElement(y.T,{render:s}))):null},Oa=({topRecommendations:e,query:n,className:i,onAddToHistory:t,position:l,showSeeAll:r})=>{const s=e.totalCount||0;return a.createElement(ae.q,{index:l,id:"top-recommendations",className:i,total:s,title:d.ag.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(n)}:topRecommendations`,showSeeAll:r},e.items.map(((e,n)=>a.createElement(P.ZP,{index:n,key:e.uri,value:"top-recommendations"},a.createElement(ge,{onClick:()=>t(e),entity:e,index:n})))))},Pa="iGyMsGo7FgYQQThBj2y9",xa="eITFAR9yPwhjL_2gxB09",qa="nGARy02O1AklvHT7OBLA",Ua="EFHPppToKFxfm6SRhL6K",_a="EbZrO5qZMclA_AaI3NV8",Ha="rjgEnbv42_EUDbaiZnA2",Ma="FTRmZyHUkeVY_X3RawUc",La="Tx_CKMgRE8CpW5vLdpAe",ja=({topResults:e,onAddToHistory:n})=>{const[i]=e.items;return i&&a.createElement(q.P,{total:1,className:Pa,title:d.ag.get("search.title.top-result")},[a.createElement("div",{"aria-live":"polite","data-testid":"top-result-card",key:"top-result-item",className:xa},a.createElement(P.ZP,{value:"top-result-card"},a.createElement(ge,{isHero:!0,index:0,onClick:()=>n(i),entity:i})))])},Ba=({results:e,showSeeAll:n})=>{const{query:i,onAddToHistory:t,serpId:l}=$e(),r=_().searchURI(i).toURI(),{spec:s,UBIFragment:d}=(0,x.fU)(Ea.createDesktopSearchEventFactory,{data:{uri:r,reason:l}}),o=e.topResults.items.length>0,m=e.tracks.items.length>0,c=e.topRecommendations.items.length>0,u=(0,a.useMemo)((()=>({topResult:s.topResultFactory(),trackList:s.trackListFactory(),shelves:s.shelvesFactory()})),[s]);return a.createElement(y.T,{className:qa,rowGap:H.mGT,testId:"search-results",render:l=>{let r,s;return o?r=l>3?_a:Ha:c&&(l>5&&m?(r=Ua,s=Ma):(r=Ha,s=La)),a.createElement(P.ZP,{value:"search-results"},o&&a.createElement(d,{spec:u.topResult},a.createElement(ja,{topResults:e.topResults,onAddToHistory:t})),m&&a.createElement(Va,{spec:u.trackList,className:r,query:i,tracks:e.tracks,onAddToHistory:t,showSeeAll:n}),c&&a.createElement(d,{spec:u.shelves},a.createElement(Oa,{position:0,query:i,className:s,topRecommendations:e.topRecommendations,onAddToHistory:t,showSeeAll:n})),qn.map(((l,r)=>a.createElement(d,{spec:u.shelves,key:`search-shelf-${l}`},a.createElement(gn,{position:r+1,category:l,title:xn[l](),query:i,results:e[l],onAddToHistory:t,showSeeAll:n})))))}})},Wa="khkfPsJuVBQyL_5cLT7y",Ga="bJyiOTqabfm7aDjWzaY0",Za={albums:s.W.SEARCH_ALBUMS,artists:s.W.SEARCH_ARTISTS,episodes:s.W.SEARCH_EPISODES,genres:s.W.SEARCH_GENRES,playlists:s.W.SEARCH_PLAYLISTS,podcasts:s.W.SEARCH_SHOWS,audiobooks:s.W.SEARCH_AUDIOBOOKS,tracks:s.W.SEARCH_SONGS,users:s.W.SEARCH_PROFILES,podcastAndEpisodes:s.W.SEARCH_PODCASTS_AND_EPISODES,episodesFull:s.W.SEARCH_EPISODES},$a=({query:e,category:n})=>["spotify:app:search",e,n].filter((e=>void 0!==e)).join(":"),za=({results:e,hasResults:n})=>a.createElement(P.ZP,{value:"search-page"},a.createElement("div",{className:"contentSpacing",id:"searchPage"},a.createElement(y.T,{className:Wa,render:()=>a.createElement(a.Fragment,null,a.createElement(Yn.w,null,a.createElement(ba.M,null)),a.createElement(Zn.N,{exact:!0,path:"/search",pageId:s.W.FIND,entityUri:$a},a.createElement(Ce,null)),a.createElement(Zn.N,{exact:!0,path:"/recent-searches",pageId:s.W.SEARCH_RECENT},a.createElement(Gn,null)),a.createElement(Zn.N,{exact:!0,path:"/search/:query",pageId:s.W.SEARCH,entityUri:$a},e&&n&&a.createElement(Ba,{results:e}),e&&!n&&a.createElement(nn,null)),a.createElement(Zn.N,{path:"/search/:query/:category",entityUri:$a,pageId:({category:e})=>Za[e]},a.createElement(Pn,null)))}))),Xa=({results:e,hasResults:n})=>a.createElement(P.ZP,{value:"search-page"},a.createElement(Yn.w,null,a.createElement(ba.M,{isSearchChipsEnabled:!0})),a.createElement(Ln,{results:e,hasResults:n}),a.createElement("div",{className:"contentSpacing",id:"searchPage"},a.createElement(y.T,{className:Ga,render:()=>a.createElement(a.Fragment,null,a.createElement(Zn.N,{exact:!0,path:"/search",pageId:s.W.FIND,entityUri:$a},a.createElement(Ce,null)),a.createElement(Zn.N,{exact:!0,path:"/recent-searches",pageId:s.W.SEARCH_RECENT},a.createElement(Gn,null)),a.createElement(Zn.N,{exact:!0,path:"/search/:query",pageId:s.W.SEARCH,entityUri:$a},e&&n&&a.createElement(Ba,{results:e,showSeeAll:!1}),e&&!n&&a.createElement(nn,null)),a.createElement(Zn.N,{path:"/search/:query/:category",entityUri:$a,pageId:({category:e})=>Za[e]},e&&n&&a.createElement(On,{results:e}),e&&!n&&a.createElement(nn,null)))}))),Ya=a.memo((()=>{const e=(0,r.W6)(c.uB),n=(0,r.W6)(c.SU),[{category:i,query:t},s]=(0,ha.l)();(0,Qn.z)("search");const[o,m]=(0,a.useState)(null),u=null!==o&&void 0!==Object.keys(o).find((e=>"chipOrder"!==e&&o[e].items.length>0)),k=(0,a.useMemo)((()=>new fa((0,zn.PQ)($n.b.getInstance()))),[]),{searchHistory:v,setSearchHistory:p}=(0,Ie.u)(),N=(0,a.useCallback)((async(e,a=!1)=>{e===t&&u||(n?s(e,i,!1):(m(null),s(e,null,a)))}),[t,i,u,n,s]);(0,a.useEffect)((()=>{(async()=>{t&&(!n&&i||m(await k.getSearchResults(t,e)))})()}),[t,i,k,e,n]),(0,a.useEffect)((()=>{t||m(null)}),[t]);const S=(0,a.useMemo)((()=>l().create().toString()),[i,t]),g={api:k,category:i,query:t,onAddToHistory:e=>{p([e,...v])},onSearchRequest:N,serpId:S};return a.createElement(Ze,{value:g},a.createElement(Xn.$,null,d.ag.get("search.page-title")),n?a.createElement(Xa,{results:o,hasResults:u}):a.createElement(za,{results:o,hasResults:u}))})),Qa=Ya},47917:(e,n,i)=>{i.d(n,{V:()=>P,e:()=>V});var a=i(59713),t=i.n(a),l=i(67294),r=i(46458),s=i(69518),d=i.n(s),o=i(33702),m=i(84629),c=i(43914),u=i(25988),k=i(68556),v=i(95806),p=i(99191),N=i(56802),S=i(38894),g=i(80219),y=i(18261),f=i(62975),h=i(87257),b=i(57978),E=i(75016),F=i(42922),I=i(18864),T=i(52759),C=i(1496),D=i(7073),A=i(84788);function R(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function w(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?R(Object(i),!0).forEach((function(n){t()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function V(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const O=e=>`activation-trigger-mme-${e}`,P=l.memo((({index:e,showMetadata:n,episode:i,usePlayContextItem:a})=>{var t,s,R,P,x,q,U,_;const H=null===(t=(0,r.oR)().getState().platform)||void 0===t?void 0:t.isBrowser,M=i.playedState.playPositionMilliseconds,L=i.uri,j=(0,l.useRef)(null),[B,W]=(0,l.useState)(i.playedState.state===D.sY.Completed),G=(0,p.O1)(),Z=(0,S.g)(),$=(0,I.jh)(),z=(0,N.o)(),X=(0,r.I0)(),{UBIFragment:Y,spec:Q,logger:K}=(0,C.fU)(o.createDesktopEpisodeBlockEventFactory,{data:{uri:L,reason:i.requestId||"",position:e}}),J=(0,C.Wi)(Q),{isActive:ee,isPlaying:ne,togglePlay:ie}=a({uri:L}),[ae]=(0,T.z)(1e4,(e=>{var n;return(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===L}));(0,l.useEffect)((()=>{ne&&(j.current=ae)}),[ne,ae]),(0,l.useEffect)((()=>{!ne&&j.current&&i.duration.milliseconds<=j.current&&W(!0)}),[ne,i.duration.milliseconds]);const te=(0,l.useCallback)((e=>{e||(j.current=0),W(e)}),[]),le=V(n),re=(0,g.s)(w(w({},i),{},{coverArt:{sources:i.coverArt}}),le),se=(0,l.useCallback)((()=>{if(i.episodeType===D.Wf.Episode&&H)f.y.set((()=>({triggerId:O(i.uri),triggerAction:null})));else if(Z)re();else{let e;e=ne?Q.playButtonFactory().hitPause({itemToBePaused:L}):ee?Q.playButtonFactory().hitResume({itemToBeResumed:L}):Q.playButtonFactory().hitPlay({itemToBePlayed:L});const n=K.logInteraction(e);z({targetUri:L,intent:ne?"pause":"play",type:"click"}),ie({loggingParams:n})}}),[ee,re,z,ie,L,ne,Z,i,H,K,Q]),de=(0,l.useCallback)((()=>{K.logInteraction(Q.hitUiNavigate({destination:L})),z({type:"click",targetUri:L,intent:"navigate"})}),[L,z,K,Q]),oe=null!==(s=null===(R=i.podcastSubscription)||void 0===R?void 0:R.isPaywalled)&&void 0!==s&&s,me=null!==(P=null===(x=i.podcastSubscription)||void 0===x?void 0:x.isUserSubscribed)&&void 0!==P&&P,ce=oe&&!me,ue=oe&&Z,{badges:ke}=(0,A.r)({contentRating:null===(q=i.contentRating)||void 0===q?void 0:q.label,isPaywalled:oe}),ve=(0,l.useCallback)((()=>X((0,m.RM)(n.uri))),[n.uri,X]),pe=(0,l.useCallback)((e=>{let a=e;return(ce||ue)&&(a=l.createElement(v.l,{enabled:!0,showUri:n.uri},a)),!i.playability.playable&&ke.nineteen&&(a=l.createElement("div",{onClick:e=>{e.stopPropagation(),ve()}},e)),a=l.createElement(c.D,{id:O(L),targetURI:d().from(L)},a),a}),[L,ce,ue,n.uri,ke.nineteen,i.playability.playable,ve]);return l.createElement(Y,{spec:Q},l.createElement(F.ZP,{value:"row",index:e},l.createElement(y._,{onShow:()=>{K.logInteraction(Q.secondaryHitUiReveal())},menu:l.createElement(u.k,{uri:L,showUri:n.uri,sharingInfo:i.sharingInfo,isPlayed:B,onMarkAsPlayed:te})},l.createElement(k.X,{ref:J,requestId:i.requestId,index:e,uri:L,size:$,images:i.coverArt||[],name:i.name,showName:n.name,description:i.description,isPlayable:i.playability.playable||ce,fullyPlayed:B,durationMs:i.duration.milliseconds,releaseDate:(null===(U=i.releaseDate)||void 0===U?void 0:U.isoString)||"",resumePositionMs:null!==(_=j.current)&&void 0!==_?_:M,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const a=`${i.name} • ${n.name}`;G(e,[L],a,n.uri)},handlePlaybackClick:se,handleClick:de,isCurrentlyPlaying:ee,isPaywalled:oe,isUserSubscribed:me,isPlaying:ne,position:ne?ae:void 0,episodeSharingInfo:i.sharingInfo,onMarkAsPlayed:te,contentInformation:i.contentInformation,badges:l.createElement(l.Fragment,null,ke.explicit&&l.createElement(h.N,null),ke.paid&&l.createElement(E.g,null),ke.nineteen&&l.createElement(b.X,{size:16})),playButtonWrapper:pe,onMoreButtonClick:()=>{K.logInteraction(Q.moreButtonFactory().hitUiReveal())}}))))}))},38894:(e,n,i)=>{i.d(n,{g:()=>l});var a=i(46458),t=i(29255);const l=()=>(0,a.v9)(t.Gg).isAnonymous},80219:(e,n,i)=>{i.d(n,{s:()=>N});var a=i(67294),t=i(56802),l=i(59713),r=i.n(l);const s=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function d(e,n){return e.filter((e=>e.label?e.label===n:e.width?s(e.width)===n:!!e.height&&s(e.height)===n))[0]}var o=i(67789);function m(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function c(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?m(Object(i),!0).forEach((function(n){r()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function u(e){var n,i,a,t,l,r,s,o;const m=d(e,"standard"),c=d(e,"large"),u=d(e,"small"),k=d(e,"xlarge");return{image_url:null==m?void 0:m.url,image_height:null==m||null===(n=m.height)||void 0===n?void 0:n.toString(),image_width:null==m||null===(i=m.width)||void 0===i?void 0:i.toString(),image_url_large:null==c?void 0:c.url,image_height_large:null==c||null===(a=c.height)||void 0===a?void 0:a.toString(),image_width_large:null==c||null===(t=c.width)||void 0===t?void 0:t.toString(),image_url_small:null==u?void 0:u.url,image_height_small:null==u||null===(l=u.height)||void 0===l?void 0:l.toString(),image_width_small:null==u||null===(r=u.width)||void 0===r?void 0:r.toString(),image_url_xlarge:null==k?void 0:k.url,image_height_xlarge:null==k||null===(s=k.height)||void 0===s?void 0:s.toString(),image_width_xlarge:null==k||null===(o=k.width)||void 0===o?void 0:o.toString()}}var k=i(23716),v=i(69691),p=i(42781);function N(e,n){const i=(0,t.o)(),l=(0,k.g)(),{isPlaying:r,isActive:s}=(0,v.$o)((null==e?void 0:e.uri)||""),{isActive:d}=(0,v.cR)((null==n?void 0:n.uri)||"");return(0,a.useCallback)((a=>{if(!n||!e)return;const t=function(e,n){var i,a,t,l;const r=((null===(i=e.coverArt)||void 0===i?void 0:i.sources)||[]).sort(((e,n)=>(n.width||0)-(e.width||0))),s=(0,o.Xb)(e,n),d=(0,o.Ie)(n)||s;return c(c({uri:e.uri,title:e.name,subtitle:n.name,type:"episode",album_uri:n.uri,album_title:n.name,artist_uri:n.uri,artist_name:n.name},u(r)),{},{media_type:"audio",externalResolvedUrl:null===(a=e.audio)||void 0===a||null===(t=a.items)||void 0===t||null===(l=t.find((e=>e.externallyHosted)))||void 0===l?void 0:l.url,isTrailer:s,anonymousPlaybackAllowed:d})}(e,n);d&&!r&&s&&!a?l.resume():d&&r&&!a?(i({type:"click",intent:"pause",targetUri:e.uri}),l.pause()):(i({type:"click",intent:"play",targetUri:e.uri}),l.play({uri:n.uri,pages:[{items:[{type:p.p.EPISODE,uri:e.uri,uid:null,metadata:t,provider:null}]}]},{referrerIdentifier:l.getReferrer(),featureIdentifier:"episode"},a))}),[s,r,d,l,i,n,e])}},47991:(e,n,i)=>{i.d(n,{$:()=>a});const a=e=>{var n;return(null==e||null===(n=e.linked_from)||void 0===n?void 0:n.uri)||e.uri}}}]);
//# sourceMappingURL=xpui-routes-search.js.map