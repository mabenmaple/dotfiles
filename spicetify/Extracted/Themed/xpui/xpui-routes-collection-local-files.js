"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7379],{40771:(e,t,l)=>{l.d(t,{Z:()=>u});var r=l(67154),n=l.n(r),a=l(6479),i=l.n(a),o=l(67294),c=l(67892);const s=["href","children"],u=e=>{let{href:t,children:l}=e,r=i()(e,s);return o.createElement(c.Z,n()({to:t},r),l)}},19565:(e,t,l)=>{l.d(t,{u:()=>S});var r=l(67294),n=l(94184),a=l.n(n),i=l(28760),o=l(99450),c=l(51775),s=l(40771);const u="FvfvGU3jvHRskUU9v9_8",m="Q9AlbZn2EGzy3MTWXa8X",d="mxmxS0y8LiwSs5nueKPT",E="GXxVAveNFStY3pBI_NO4",g="eHcXC2s97InYP7rMNT0H",S=r.memo((e=>{const{children:t,message:l,title:n,linkTitle:S,linkTo:k,onClick:y,renderInline:C=!1}=e,{isXSOnly:b,isSMOnly:D}=(0,c.e)(),A=b||D;return r.createElement("section",{className:a()(u,{[m]:C})},t,r.createElement(i.Dy,{as:"h1",variant:A?"cello":"alto",className:E},n),r.createElement(i.Dy,{variant:A?"mesto":"ballad",className:g},l),S&&(k||y)&&r.createElement(o.D,{colorSet:"invertedLight",className:d,href:k,onClick:y,component:s.Z},S))}))},35213:(e,t,l)=>{l.d(t,{l:()=>S});var r=l(67294),n=l(20657),a=l(95289),i=l(78462),o=l(73785);const c={"custom-order":i.HI,title:{column:o.Q.TITLE,order:o.k.ASC},artist:{column:o.Q.TITLE,order:o.k.SECONDARY_ASC},"added-by":{column:o.Q.ADDED_BY,order:o.k.ASC},"added-at":{column:o.Q.ADDED_AT,order:o.k.ASC},duration:{column:o.Q.DURATION,order:o.k.ASC},album:{column:o.Q.ALBUM,order:o.k.ASC},"album-or-podcast":{column:o.Q.ALBUM_OR_PODCAST,order:o.k.ASC},"album-or-show":{column:o.Q.ALBUM_OR_SHOW,order:o.k.ASC}},s={title:o.Q.TITLE,artist:o.Q.TITLE,"added-by":o.Q.ADDED_BY,"added-at":o.Q.ADDED_AT,duration:o.Q.DURATION,album:o.Q.ALBUM,"album-or-podcast":o.Q.ALBUM_OR_PODCAST,"album-or-show":o.Q.ALBUM_OR_SHOW},u={[o.k.NONE]:o.k.NONE,[o.k.ASC]:o.k.DESC,[o.k.DESC]:o.k.ASC,[o.k.SECONDARY_ASC]:o.k.SECONDARY_DESC,[o.k.SECONDARY_DESC]:o.k.SECONDARY_ASC},m={[o.Q.INDEX]:{key:"custom-order",get value(){return n.ag.get("sort.custom-order")}},[o.Q.TITLE]:{key:"title",get value(){return n.ag.get("sort.title")}},[o.Q.ARTIST]:{key:"artist",get value(){return n.ag.get("sort.artist")}},[o.Q.ADDED_BY]:{key:"added-by",get value(){return n.ag.get("sort.added-by")}},[o.Q.ADDED_AT]:{key:"added-at",get value(){return n.ag.get("sort.date-added")}},[o.Q.DURATION]:{key:"duration",get value(){return n.ag.get("sort.duration")}},[o.Q.EVENT_DATE]:null,[o.Q.ALBUM]:{key:"album",get value(){return n.ag.get("sort.album")}},[o.Q.ALBUM_OR_PODCAST]:{key:"album-or-podcast",get value(){return n.ag.get("sort.album-or-podcast")}},[o.Q.ALBUM_OR_SHOW]:{key:"album-or-show",get value(){return n.ag.get("sort.album-or-show")}},[o.Q.PLAYS]:null,[o.Q.RELEASE_DATE]:null,[o.Q.ADD]:null,[o.Q.ACTIONS]:null};var d=l(28248),E=l(1838);function g(e){return!!e}const S=({columns:e,disabled:t})=>{const l=[...e];l.splice(2,0,d.QD.ARTIST);const{sortState:S,setSortState:k}=(0,r.useContext)(i.Gb),y=function(e){return null===e.column?m[d.QD.INDEX]:(0,E.cB)(e.column,e.order)?m[d.QD.ARTIST]:m[e.column]}(S),C=(0,r.useCallback)((e=>{k(((e,t,l)=>e?t!==s[e]||"artist"===e&&[o.k.ASC,o.k.DESC].includes(l)||"title"===e&&[o.k.SECONDARY_ASC,o.k.SECONDARY_DESC].includes(l)?c[e]:{column:s[e],order:u[l]}:i.HI)(e,S.column,S.order))}),[k,S.column,S.order]),b=(0,r.useCallback)((()=>null!==S.column),[S.column]),D=l.map((e=>m[e])).filter(g);return r.createElement(a.A,{options:D,onSelect:C,selected:y,isSelectionChanged:b,sortOrder:S.order,heading:n.ag.get("drop_down.sort_by"),disabled:t})}},95289:(e,t,l)=>{l.d(t,{A:()=>b});var r=l(67294),n=l(94184),a=l.n(n),i=l(28760),o=l(62312),c=l(41374),s=l(20246),u=l(58238),m=l(91883),d=l(30005),E=l(36652),g=l(21691),S=l(28248);const k=({heading:e,selected:t,onSelect:l,options:n,sortOrder:a})=>{let o;return a&&(a===S.kn.ASC||a===S.kn.SECONDARY_ASC?o=r.createElement(u.C,{iconSize:16}):a!==S.kn.DESC&&a!==S.kn.SECONDARY_DESC||(o=r.createElement(m.B,{iconSize:16}))),r.createElement(d.v,null,e?r.createElement(E.F,null,e):null,n.map((({key:e,value:n})=>r.createElement(g.s,{role:"menuitemradio","aria-checked":e===t.key&&!o,key:e,onClick:()=>l(e),icon:e===t.key&&o},r.createElement(i.Dy,{variant:"mesto"},n)))))},y="w6j_vX6SF5IxSXrrkYw5",C="CbHJjxYxldG7uUPMYMaP";const b=({heading:e,options:t,selected:l,onSelect:n,isSelectionChanged:u,sortOrder:m,variant:d="mesto",semanticColor:E,disabled:g})=>{const[S]=t;l||(l=S);const b=u?u(l):l!==S;return r.createElement(s.y,{menu:r.createElement(k,{selected:l,options:t,onSelect:n,sortOrder:m,heading:e})},((e,t,n)=>r.createElement("button",{className:a()(y,{[C]:b}),onClick:e=>{g||t(e)},ref:n,type:"button"},r.createElement(i.Dy,{semanticColor:E,variant:d},l.value),e?r.createElement(o.U,{iconSize:16}):r.createElement(c.i,{iconSize:16}))))}},55394:(e,t,l)=>{l.r(t),l.d(t,{default:()=>J});var r=l(59713),n=l.n(r),a=l(67294),i=l(73012),o=l(3927),c=l(20657),s=l(19565),u=l(42273),m=l(59482),d=l(72907),E=l(61048),g=l(1663),S=l(55120),k=l(1838),y=l(35213),C=l(22423),b=l(28248),D=l(78462),A=l(72573),f=l(1169),p=l(30947),v=l(55911),h=l(31595),O=l(72131),x=l(66393),T=l(23248),_=l(84242),P=l(37763),Q=l.n(P),N=l(18261),I=l(87257),R=l(42922),U=l(84788),w=l(26921),B=l(27481),L=l(96525),M=l(82760),Y=l(83384);const j=a.memo((({uri:e,uid:t,name:l,duration_ms:r,artists:n,album:i,is19PlusOnly:o,isExplicit:s,isPlayable:u,index:m,contextUri:d,imgUrl:E,usePlayContextItem:g})=>{const{filter:S}=(0,a.useContext)(C.fo),{isActive:k,isPlaying:y,triggerPlay:b,togglePlay:D}=g({uid:t,uri:e,index:m}),A=(0,L.P)(),{badges:f,hasBadges:p}=(0,U.r)({isExplicit:s}),v=(null==n?void 0:n.map((e=>e.name)).join(c.ag.getSeparator()))||"";return a.createElement(R.ZP,{value:"row",index:m},a.createElement(N._,{menu:a.createElement(w.N,{uri:e,uid:t,contextUri:d})},a.createElement(M.c,{uri:e,contextUri:d,isActive:k,index:m,onTriggerPlay:()=>{b()},ariaRowIndex:m+1,isPlayable:u,ageRestricted:o,dragMetadata:{name:l,createdBy:v}},a.createElement(B.Dd,{ariaColIndex:0},a.createElement(B.Du,{uri:e,playAriaLabel:c.ag.get("tracklist.a11y.play",l,v),isPlaying:y,isActive:k,onClick:()=>{D()}},a.createElement(B.km,null,m+1))),a.createElement(B.vZ,{ariaColIndex:1},a.createElement(B.lD,{src:E}),a.createElement(B.vm,null,a.createElement(B.Wh,{titleText:l},a.createElement(Q(),{searchWords:[S],textToHighlight:l,findChunks:A,highlightClassName:Y.Z.filterHighlight})),p&&a.createElement(B.g3,null,f.explicit?a.createElement(I.N,null):null),a.createElement(B.K9,null,n&&a.createElement(L.o,{nonInteractive:!0,artists:n,filter:S})))),a.createElement(B.UA,{ariaColIndex:2},(null==i?void 0:i.name)&&a.createElement(B.BM,{nonInteractive:!0,uri:null==i?void 0:i.uri,name:null==i?void 0:i.name},a.createElement(Q(),{searchWords:[S],textToHighlight:null==i?void 0:i.name,findChunks:A,highlightClassName:Y.Z.filterHighlight}))),a.createElement(B.mU,{ariaColIndex:3},a.createElement(B.A$,{duration:r}),a.createElement(B.Zv,{menu:a.createElement(w.N,{uri:e,uid:t,contextUri:d}),label:c.ag.get("more.label.track",l,v)})))))}),((e,t)=>e.uri===t.uri&&e.index===t.index));var H=l(49961);const z=new Set(D.MI),X=a.memo((({uri:e,tracks:t,columns:l,sortState:r,handleSort:n,usePlayContextItem:i,tracklistDomRef:o})=>{const s=(0,a.useRef)(null),u=(0,a.useCallback)(((t,l)=>{var r;const n=(0,H.X)(null===(r=t.album)||void 0===r?void 0:r.images,{desiredSize:40,desiredLabel:"small"});return a.createElement(j,{key:t.uid,index:l,contextUri:e,uri:t.uri,uid:t.uid,isPlayable:t.isPlayable,duration_ms:t.duration.milliseconds,name:t.name,artists:t.artists,album:t.album,isExplicit:t.isExplicit,is19PlusOnly:t.is19PlusOnly,type:t.type,imgUrl:(null==n?void 0:n.url)||"",usePlayContextItem:i})}),[e,i]);return a.createElement(a.Fragment,null,a.createElement(R.ZP,{value:"playlist-tracklist"},a.createElement(b.Pv,{key:e,ariaLabel:c.ag.get("local-files"),hasHeaderRow:!0,columns:l,sortableColumns:z,sortState:r,onSort:n,renderRow:u,resolveUri:e=>e.uri,resolveUid:e=>e.uid,tracks:t,nrTracks:t.length,limit:100,outerRef:s,outerDomRef:o})))})),F="uCHqQ74vvHOnctGg0X0B",Z="feuNq1FTxMbdeOTuFgpA";function W(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,r)}return l}function G(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?W(Object(l),!0).forEach((function(t){n()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):W(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}const K=[b.QD.INDEX,b.QD.TITLE,b.QD.ALBUM,b.QD.DURATION],q=()=>{const{filter:e}=(0,a.useContext)(C.fo),{sortState:t,setSortState:l}=(0,a.useContext)(D.Gb),r=(0,a.useContext)(x.t),[n]=(0,T.z)(A.J,!1),[b,P]=(0,a.useState)(),Q=(0,h.Y)(i.Fzl),{filterBoxApiRef:N,filterBoxDomRef:I,tracklistDomRef:R,handleKeyDown:U}=(0,f.Q)(),w=(0,a.useCallback)((e=>{l((0,k.VK)(e,t))}),[t,l]),B=(0,a.useCallback)((async()=>{const l=await r.getTracks((0,k._j)(t),e);P(l)}),[r,t,e]);(0,a.useEffect)((()=>{B()}),[B]);const{isPlaying:L,togglePlay:M,usePlayContextItem:Y}=(0,_.n)({uri:O.b,pages:[{items:(null!=b?b:[]).map((e=>G(G({},e),{},{provider:null})))}]},{featureIdentifier:"local_files"});return b?e||b.length&&n?a.createElement("div",{role:"presentation",className:F,onKeyDown:U},a.createElement(u.gF,{backgroundColor:Q},a.createElement(m.W,null,a.createElement(S.$,{size:v.qE.sm,onClick:()=>M(),isPlaying:L,uri:O.b}),a.createElement(d.i,{text:c.ag.get("local-files")})),a.createElement(u.sP,null,a.createElement(u.xd,null,c.ag.get("local-files")),a.createElement(u.T0,null,c.ag.get("local-files.description")))),a.createElement(p.o,{backgroundColor:Q},a.createElement(p.F,null,a.createElement(S.$,{size:v.qE.xl,onClick:()=>M(),isPlaying:L,uri:O.b}),a.createElement("div",{className:Z},a.createElement(a.Suspense,{fallback:null},a.createElement(E.K,{placeholder:c.ag.get("playlist.search_in_playlist"),filterBoxApiRef:N,outerRef:I})),a.createElement(y.l,{columns:D.MI})))),a.createElement("div",{className:"contentSpacing"},a.createElement(X,{tracks:b,uri:O.b,columns:K,handleSort:w,sortState:t,usePlayContextItem:Y,tracklistDomRef:R}))):a.createElement(s.u,{linkTo:"/preferences",linkTitle:c.ag.get("local-files.empty-button"),message:c.ag.get("local-files.empty-description"),title:c.ag.get("local-files.empty-header")},a.createElement(o.Y,{iconSize:64})):a.createElement(g.h,{hasError:!1,errorMessage:c.ag.get("error.request-artist-failure")})},J=()=>a.createElement(D.kz,{uri:"spotify:internal:local-files"},a.createElement(C.hz,{uri:"spotify:internal:local-files"},a.createElement(q,null)))},72573:(e,t,l)=>{l.d(t,{J:()=>r.J});var r=l(70765)}}]);
//# sourceMappingURL=xpui-routes-collection-local-files.js.map