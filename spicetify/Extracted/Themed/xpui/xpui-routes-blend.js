"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[8123],{22578:(e,t,n)=>{n.d(t,{$:()=>m});var i=n(67294),l=n(64593),a=n(20657),r=n(8341),o=n(89952),c=n(76303),s=n(52883),d=n(24183);function u(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const m=({children:e,usePlayingItem:t})=>{let n=u(e);(e=>{const{mainLandmarkRef:t}=(0,d.Oh)(),n=(0,s.k6)(),l=(0,i.useRef)(n.length<2);l.current=n.length<2,(0,i.useEffect)((()=>{const n=t.current;n&&!l.current&&e&&(n.setAttribute("aria-label",e),n.focus())}),[e,t])})(e);const m=(0,r.Y)(c.o9)===o.PO.PLAYING,E=(0,r.Y)((e=>null==e?void 0:e.item));return E&&(m||t)&&((0,o.G_)(E)?n=[E.name,E.artists.map((e=>e.name)).join(a.ag.getSeparator())].join(" • "):(0,o.iw)(E)?n=[E.name,E.show.name].join(" • "):(0,o.k6)(E)&&(n=u(a.ag.get("ad-formats.advertisement")))),i.createElement(l.q,{defaultTitle:"Spotify",defer:!1},i.createElement("title",null,n))}},70369:(e,t,n)=>{n.d(t,{$:()=>i.$});var i=n(22578)},326:(e,t,n)=>{n.d(t,{l:()=>m});var i=n(67294),l=n(28760),a=n(99450),r=n(18864),o=n(16367),c=n(60025);const s={[r.Uo.MEDIUM]:"alto",[r.Uo.LARGE]:"alto",[r.Uo.XLARGE]:"forte"},d={[r.Uo.LARGE]:"ballad",[r.Uo.XLARGE]:"cello"},u={[r.Uo.LARGE]:"viola",[r.Uo.XLARGE]:"viola"},m=({title:e,subtitle:t,body:n,footnote:m,buttonText:E,callToActionClicked:b})=>{const v=(0,r.jh)(),g=v&&s[v]||"canon",p=v&&d[v]||"mesto",h=v&&u[v]||"finale";return i.createElement(i.Fragment,null,i.createElement(l.Dy,{as:"h1",variant:g,semanticColor:"textBase",className:c.Z.title},e),i.createElement(l.Dy,{as:"h2",variant:p,semanticColor:"textSubdued",className:c.Z.subtitle},t),n,b&&i.createElement(a.D,{className:c.Z.button,colorSet:"invertedLight",onClick:b,"data-testid":o.xd},E),m&&i.createElement(l.Dy,{as:"p",variant:h,semanticColor:"textSubdued",className:c.Z.note},m))}},26610:(e,t,n)=>{n.d(t,{H:()=>p});var i=n(67294),l=n(91247),a=n(20657),r=n(70369),o=n(38562),c=n(18864);const s="NTT5CathoDEMjrmgfv9y",d="WmmNhmwHDNvDxInfukYO",u=e=>i.createElement("div",{className:s},i.createElement("div",{className:d},i.createElement("svg",{width:e.iconSize,height:e.iconSize,fill:"currentColor",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M33 31.998v-23h-2v23H8v2h23v23h2v-23h23v-2z"}))));var m=n(326),E=n(16367),b=n(60025);const v={name:"",username:"",image_url:null,hash:""},g={[c.Uo.MEDIUM]:164,[c.Uo.LARGE]:164,[c.Uo.XLARGE]:270},p=({invitation:e,callToActionClicked:t,breakpointEltRef:n})=>{var s,d,p,h;const f=!(null===(s=e.members)||void 0===s||!s.length),w=f&&(null===(d=e.members)||void 0===d?void 0:d[0])||e.recipient||v,y=f&&e.recipient||null,O=(0,c.jh)(),_=O&&g[O]||128,A=Math.round(.475*_);return i.createElement("div",{className:(0,l.cx)(b.Z.container,b.Z.TwoUsers),"data-testid":E.xS,ref:n},i.createElement(r.$,null,a.ag.get("blend.invite.page-title")),i.createElement("div",{className:b.Z.facepile},i.createElement(o.q,{label:w.name,images:[{url:null!==(p=w.image_url)&&void 0!==p?p:"",width:_,height:_}],width:_,userIconSize:A}),y?i.createElement(o.q,{label:y.name,images:[{url:null!==(h=y.image_url)&&void 0!==h?h:"",width:_,height:_}],width:_,userIconSize:A,piled:!0}):((e,t)=>i.createElement(o.q,{label:a.ag.get("web-player.blend.invite.button-title"),images:[],width:e,userIconSize:t,customPlaceholder:i.createElement(u,{iconSize:t}),piled:!0}))(_,A)),i.createElement(m.l,{title:e.title,subtitle:e.subtitle,footnote:e.footnote,buttonText:e.button_text,callToActionClicked:t}))}},16367:(e,t,n)=>{n.d(t,{Eh:()=>r,ab:()=>a,e0:()=>i,xS:()=>l,xd:()=>o});const i="blend-deleted-container",l="blend-two-user-container",a="blend-multi-user-container",r="blend-full-container",o="blend-cta-button"},80647:(e,t,n)=>{n.d(t,{Z:()=>i});const i=()=>{const e=window.location.href;return window.location.href=`https://accounts.spotify.com/login?continue=${encodeURIComponent(e)}`,null}},22250:(e,t,n)=>{n.d(t,{Ag:()=>o,V3:()=>l,nW:()=>r,oN:()=>a});var i=n(16516);let l;!function(e){e.PENDING_INVITATION="PENDING_INVITATION",e.READY_TO_JOIN_EMPTY_BLEND="READY_TO_JOIN_EMPTY_BLEND",e.READY_TO_JOIN_ALREADY_CREATED_BLEND="READY_TO_JOIN_ALREADY_CREATED_BLEND",e.MAX_MEMBERS="MAX_MEMBERS",e.ALREADY_JOINED="ALREADY_JOINED",e.DELETED="DELETED"}(l||(l={}));const a=(e,t)=>e.build().withHost(i.cM).withPath(`/v3/view-invitation/${encodeURIComponent(t)}`).withEndpointIdentifier("v3/view-invitation/{invitationId}").withLocale(e.locale).send(),r=(e,t)=>e.build().withHost(i.cM).withMethod("PUT").withPath(`/v2/join/${encodeURIComponent(t)}`).withEndpointIdentifier("join/{invitationId}").send(),o=e=>e.build().withHost(i.cM).withMethod("POST").withPath("/v1/generate").withEndpointIdentifier("v1/generate").send()},52201:(e,t,n)=>{n.d(t,{j:()=>a});var i=n(82144),l=n(53052);const a=()=>(0,l.D)({[i.U.SMALL]:536,[i.U.MEDIUM]:792,[i.U.LARGE]:1048,[i.U.XLARGE]:1688})},60210:(e,t,n)=>{n.d(t,{i:()=>d});var i=n(46458),l=n(20657),a=n(26529),r=n(25853),o=n(29255),c=n(22250),s=n(22093);function d(){const{user:e}=(0,i.v9)(o.Gg),t=(0,s.k)();return async()=>{try{var n,i,o;const s=await(0,c.Ag)(a.b.getInstance());if(!(null===(n=s.body)||void 0===n?void 0:n.invite))throw new Error("unable to generate invite link");const d=null!=e&&e.display_name?l.ag.get("blend.invite.body-with-name",e.display_name,null===(i=s.body)||void 0===i?void 0:i.invite):l.ag.get("blend.invite.body-without-name",null===(o=s.body)||void 0===o?void 0:o.invite);(0,r.v)(d),t(l.ag.get("feedback.link-copied"))}catch{t(l.ag.get("error.generic"))}}}},22093:(e,t,n)=>{n.d(t,{k:()=>r});var i=n(46458),l=n(8475),a=n(63826);const r=()=>{const e=(0,i.I0)();return t=>(0,a.T)({hide:()=>e((0,l.Xe)()),show:()=>e((0,l.TB)(t))})}},81070:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var i=n(59713),l=n.n(i),a=n(67294),r=n(46458),o=n(20657),c=n(70369),s=n(29255),d=n(18864),u=n(15429),m=n(49961),E=n(22250),b=n(52201),v=n(60210),g=n(26610),p=n(80647);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const w={page_type:E.V3.PENDING_INVITATION,get title(){return o.ag.get("web-player.blend.group-invite.header")},get subtitle(){return o.ag.get("web-player.blend.duo-invite.description")},get button_text(){return o.ag.get("web-player.blend.invite.button-title")},footnote:null,members:[],recipient:null,members_title:null,playlist_uri:null},y=()=>{var e;const t=(0,v.i)(),{ref:n,breakpoint:i}=(0,b.j)(),{user:l}=(0,r.v9)(s.Gg),E=null!=l&&l.uri?(0,u.C)(null==l?void 0:l.uri):"",h=(e=>f(f({},w),{},{members:[e],footnote:o.ag.get("web-player.blend.group-invite.warning")}))({name:(null==l?void 0:l.display_name)||"",username:E,image_url:(null===(e=(0,m.X)(null==l?void 0:l.images))||void 0===e?void 0:e.url)||null,hash:""});return l?a.createElement(a.Suspense,{fallback:null},a.createElement(c.$,null,o.ag.get("web-player.blend.invite.page-title")),a.createElement(d.ZU.Provider,{value:i},a.createElement(g.H,{invitation:h,callToActionClicked:t,breakpointEltRef:n}))):a.createElement(p.Z,null)}},38833:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var i=n(67294),l=n(46458),a=n(52883),r=n(29255),o=n(29634),c=n(59713),s=n.n(c),d=n(69518),u=n.n(d),m=n(45480),E=n(87577),b=n(20657),v=n(49207),g=n(18864),p=n(48327),h=n(1663),f=n(22250),w=n(52201),y=n(60210),O=n(26529),_=n(22093);var A=n(21452),I=n(326),N=n(16367),T=n(60025);const D=({invitation:e,callToActionClicked:t,breakpointEltRef:n})=>i.createElement("div",{className:T.Z.container,"data-testid":N.Eh,ref:n},i.createElement(A.Z,{iconSize:64}),i.createElement(I.l,{title:e.title,subtitle:e.subtitle,buttonText:e.button_text,footnote:null,callToActionClicked:t}));var k=n(70369),x=n(94184),R=n.n(x),U=n(28760),L=n(38562),P=n(18261),j=n(43480),M=n(67892);const C="HKAYWYmxd5Ie8WSi0a4y",S="i52u_T3b50wraodIaORk",Z="xakiNVMlUf6geF67FEgy",Y="IRhTesoeIiwswlly0Dvg",G="LNJzE17iskXWmfKAzY4U",B="qzBr7X7cdLUhWdk0r8lL",V=({uri:e,imageUrl:t,name:n})=>i.createElement("li",null,i.createElement(P._,{menu:i.createElement(j.I,{uri:e})},i.createElement(M.r,{to:e},i.createElement("div",{className:Y},i.createElement(L.q,{images:[{url:t,width:null,height:null}],label:n,width:32,userIconSize:24,className:G}),i.createElement(U.Dy,{variant:"violaBold",className:"standalone-ellipsis-one-line",semanticColor:"textBase"},n))))),X=({members:e,headingText:t,className:n})=>i.createElement("div",{className:R()(C,n)},i.createElement("div",null,i.createElement(U.Dy,{as:"h4",variant:"minuetBold",semanticColor:"textSubdued",className:S},t)),i.createElement("ul",{className:Z},e&&e.map((e=>i.createElement(V,{imageUrl:e.image_url||"",name:e.name,uri:u().profileURI(e.username).toURI(),key:e.username})))),i.createElement("div",{className:B})),z=({invitation:e,callToActionClicked:t,breakpointEltRef:n})=>{const l=e.members||[],a=i.createElement("div",{className:T.Z.userListContainer,"data-testid":N.ab},i.createElement(X,{className:T.Z.userList,headingText:e.members_title,members:l}));return i.createElement("div",{className:T.Z.container,ref:n},i.createElement(k.$,null,b.ag.get("blend.join.title")),i.createElement(I.l,{title:e.title,subtitle:e.subtitle,footnote:e.footnote,body:a,buttonText:e.button_text,callToActionClicked:t}))};var q=n(26610);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const J=({invitationId:e})=>{var t,n;const l=(0,a.k6)(),r=(0,E.W6)(v.c$),{data:o,error:c,loading:s}=(0,p.J)(f.oN,[e]),d=(0,y.i)(),A=function(e){const t=(0,_.k)(),n=(0,a.k6)();return async()=>{try{const t=await(0,f.nW)(O.b.getInstance(),e),i=u().from(null==t?void 0:t.body.playlist_uri).toURLPath(!0);if(!i)throw new Error("unable to join");n.replace(i)}catch{t(b.ag.get("error.request-playlist-failure"))}}}(e),{ref:k,breakpoint:x}=(0,w.j)(),R=null===o||!o.body;if(R||s||c)return i.createElement(h.h,{timeoutInMs:1e3,hasError:!!c||!s&&R,errorMessage:b.ag.get("error.generic")});const U=null===(t=u().from(null==o?void 0:o.body.playlist_uri))||void 0===t?void 0:t.toURLPath(!0),L=(null==o||null===(n=o.body.members)||void 0===n?void 0:n.length)||0,P=r===v.rS.TWO_USER;switch(null==o?void 0:o.body.page_type){case f.V3.DELETED:return i.createElement(g.ZU.Provider,{value:x},i.createElement("div",{className:T.Z.container,ref:k,"data-testid":N.e0},i.createElement(m.F,{iconSize:64}),i.createElement(I.l,{title:o.body.title,subtitle:o.body.subtitle,buttonText:o.body.button_text,footnote:o.body.footnote,callToActionClicked:d})));case f.V3.ALREADY_JOINED:return U&&l.replace(U),i.createElement(h.h,{hasError:!1,errorMessage:b.ag.get("error.request-playlist-failure")});case f.V3.READY_TO_JOIN_EMPTY_BLEND:return i.createElement(g.ZU.Provider,{value:x},i.createElement(q.H,{invitation:o.body,breakpointEltRef:k,callToActionClicked:A}));case f.V3.READY_TO_JOIN_ALREADY_CREATED_BLEND:return P&&L>=2?i.createElement(g.ZU.Provider,{value:x},i.createElement(D,{invitation:H(H({},o.body),{},{title:b.ag.get("blend.link-invialid.header"),subtitle:b.ag.get("blend.link-invalid.subtitle"),button_text:b.ag.get("blend.invite.button-title")}),callToActionClicked:d,breakpointEltRef:k})):i.createElement(g.ZU.Provider,{value:x},i.createElement(z,{invitation:o.body,callToActionClicked:A,breakpointEltRef:k}));case f.V3.MAX_MEMBERS:return i.createElement(g.ZU.Provider,{value:x},i.createElement(D,{invitation:o.body,callToActionClicked:d,breakpointEltRef:k}));case f.V3.PENDING_INVITATION:return i.createElement(g.ZU.Provider,{value:x},i.createElement(q.H,{invitation:o.body,callToActionClicked:d,breakpointEltRef:k}));default:return i.createElement(h.h,{timeoutInMs:1e3,hasError:!0,errorMessage:b.ag.get("error.generic")})}};var $=n(80647);const K=({invitationId:e})=>{const{user:t}=(0,l.v9)(r.Gg);return t?i.createElement(o.n,{fallback:null},i.createElement(J,{invitationId:e})):i.createElement($.Z,null)},F=i.memo((()=>i.createElement(K,(0,a.UO)())))},60025:(e,t,n)=>{n.d(t,{Z:()=>i});const i={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",container:"yMoj4jXSudxZ6BkKxV2E",TwoUsers:"IDgUCqAbkRah6OFywv1q",subtitle:"qmKxO5qV4XmVYfpFpaDA",facepile:"nWMdWl40O8K7HQT8Tagc",title:"csRAeNipsu1camQTMiIU",button:"nxFBywAeAI8Zk2fav3Yj",userList:"lxPLQIPb1VSV3VL18Ke3",userListContainer:"BzMKhmywgyIt6IUjcTGW",note:"DSdKNusLgsMX_iicYCU2"}}}]);
//# sourceMappingURL=xpui-routes-blend.js.map