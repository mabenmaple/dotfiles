"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7288],{22578:(e,t,a)=>{a.d(t,{$:()=>u});var n=a(67294),r=a(64593),c=a(20657),l=a(8341),i=a(89952),s=a(76303),o=a(52883),m=a(24183);function g(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const u=({children:e,usePlayingItem:t})=>{let a=g(e);(e=>{const{mainLandmarkRef:t}=(0,m.Oh)(),a=(0,o.k6)(),r=(0,n.useRef)(a.length<2);r.current=a.length<2,(0,n.useEffect)((()=>{const a=t.current;a&&!r.current&&e&&(a.setAttribute("aria-label",e),a.focus())}),[e,t])})(e);const u=(0,l.Y)(s.o9)===i.PO.PLAYING,d=(0,l.Y)((e=>null==e?void 0:e.item));return d&&(u||t)&&((0,i.G_)(d)?a=[d.name,d.artists.map((e=>e.name)).join(c.ag.getSeparator())].join(" • "):(0,i.iw)(d)?a=[d.name,d.show.name].join(" • "):(0,i.k6)(d)&&(a=g(c.ag.get("ad-formats.advertisement")))),n.createElement(r.q,{defaultTitle:"Spotify",defer:!1},n.createElement("title",null,a))}},70369:(e,t,a)=>{a.d(t,{$:()=>n.$});var n=a(22578)},46145:(e,t,a)=>{a.d(t,{k:()=>b});var n=a(67294),r=a(9414),c=a(87722),l=a(28760),i=a(67892),s=a(94880),o=a(43315),m=a(9339);const g="wedRUk4eiBo9n9vqXLhU",u="HYVIJaYYiCTgSCHie70L",d="InXSbaoh8emJn09fWs3U",h="SPbe_Q1wtiZQCmo0QKUy",E="TRp4tgG7_cymGIXDevIP",y="tC1Y_nwyyly7cpIGqF5K",v="gY_xUHOSpAn6TPdU23t7",p="l93AfoV_qHnMQSQBB5GK",f="MTTf1Lotynwu3QKhr9uY",_="EkGb0ZzhswreSvpZoioY",b=n.memo((e=>{const{entity:t,isVirtual:a,shouldCombineRecs:b}=e,{venue:{name:N,location:{name:k}}}=t,D=t.artists[0],I=(0,m.ij)(t),C=new Date(t.date.isoString),w=a?r.F:c.n;return n.createElement(i.r,{to:`/concert/${t.id}`,className:g},D.imageUri?n.createElement(s.Z,null,n.createElement("div",{"data-testid":"image-container",className:_,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${D.imageUri})`}})):null,n.createElement("time",{className:u,dateTime:t.date.isoString},n.createElement(l.Dy,{as:"h5",variant:"minuetBold",className:d},`${(0,m.lJ)(C)} ${C.getDate()}`)),n.createElement("div",{className:h,dir:"auto"},n.createElement(l.Dy,{as:"h2",className:f,variant:"minuetBold"},(0,o.FO)(C)," • ",(0,m.b8)(C)),n.createElement(l.Dy,{as:"h2",variant:"cello",weight:"bold",className:E},I),n.createElement("div",{className:y},b?n.createElement(w,{className:v,"aria-label":a?"Virtual Event":"In-Person Event",iconSize:16}):null,n.createElement(l.Dy,{as:"h2",className:p,variant:"mesto","data-testid":"location-name"},a?N:`${N}, ${k}`))))}))},86111:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ue});var n=a(67294),r=a(46458),c=a(52883),l=a(20657),i=a(6581),s=a(1663),o=a(50458),m=a(67154),g=a.n(m),u=a(28760),d=a(99450),h=a(95661),E=a(3634),y=a(30005),v=a(42922),p=a(57612),f=a(21366);const _=n.memo((({uri:e})=>n.createElement(v.ZP,{value:"concert"},n.createElement(y.v,null,n.createElement(f.q,null,n.createElement(p.Jx,{uri:e,displayText:l.ag.get("context-menu.copy-concert-link")}),n.createElement(p.W2,{uri:e})),n.createElement(p.h$,{uri:e})))));var b=a(70369),N=a(42273),k=a(59482),D=a(72907),I=a(67892),C=a(19480),w=a(56802),$=a(51574),U=a(20246),L=a(31595),P=a(26375),T=a(34722),S=a(9339),Y=a(94880);const O="e0VN3GmM25lCYyAIWjim",x="uPLqiz_BFUytfHNLP5zN",G="LJ8tzLtEEECRuUQv87nE",H="tR6GHIdHN3D9ZRuLo1gd",Z="T_IWs9HLesaBWiylLaox",Q="KPIfiziXg8ByZ0elFPx9",A=n.memo((e=>{const{entity:t,headliner:a}=e,{imageUri:r,name:c,uri:i}=t;return n.createElement(I.r,{to:i,className:O},r?n.createElement(Y.Z,null,n.createElement("div",{"data-testid":"image-container",className:Q,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${r})`}})):null,n.createElement("div",{className:x},a&&n.createElement("div",{className:H},n.createElement(u.Dy,{as:"h4",variant:"minuet",className:Z,weight:"bold"},l.ag.get("concert.label.headliner"))),n.createElement(u.Dy,{as:"h2",variant:"alto",className:G},c)))}));var J=a(46145);const j={concertsHubCard:"aX5g9MgOPCph10dhugIm",metadata:"qJIbuz2sOfyiYjXqKwHX",title:"OaZRJG9iMNJZ4pcWi7cx",image:"HKMt7en7H2xbp3cXFP3k"},q=n.memo((()=>n.createElement(I.r,{to:"spotify:concerts",className:j.concertsHubCard},n.createElement(Y.Z,null,n.createElement("div",{className:j.image,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})),n.createElement("div",{className:j.metadata},n.createElement(u.Dy,{as:"h2",variant:"canon",className:j.name},l.ag.get("concerts_browse_more")))))),R="rgHpYneRuCLsOyfmI2jF",B="lr40ubW1eB4EezYzf313",K="XQIbZRhBVDxK2jEcGfeS",X="RJhxchVqiOAPQKl6EUU7",z="sOKlgL5TzQ2p74aQFjRh",M="u3QEyws6_AhQuuMCDgMC",F="WKrdOaRnI9VfK1UYUqvT",W="iDNjiw4UyGIGE35DQd3G",V="xg44vjCq8vt2GgkLZO4C",ee="fx2QSS_X73SV30r0fQOI",te="XXABme7Q0el8rITiSDHg",ae="Cc4TFd0C5345deatsGJ0",ne="WFYjBxC2n1dvj6wvcpqk",re="IgugoubNHrWe50NJKajx",ce="TfyNLJsVXqn4J_NaO810",le=e=>{const t=new Date(Date.parse(e.date));return n.createElement("div",{className:R},n.createElement(u.Dy,{as:"h3",variant:"canon",className:B},(0,S.NL)(t)))},ie=e=>{const{clickThrus:t,ticketing:a,date:r,venue:c,location:i,clickThruUrl:s,id:o,category:m,lat:g,lon:E,ticketAvailabilityTranslated:y}=e,v=new Date(Date.parse(r)),p=`spotify:concert:${o}`,f="ONLINE"===m,b=(0,w.o)();let N="";if(!t||!t.length)return null;const k=t[0].partnerDisplayName;N="Songkick"===k?l.ag.get("concert.header.partner_songkick_attribution",k):a&&a[0]&&a[0].minPrice?l.ag.get("concert.header.partner_price_attribution",a[0].minPrice,k):l.ag.get("concert.header.partner_attribution",k),f&&(N=l.ag.get("concert_available_through",k));const D=f?l.ag.get("concert_find_virtual_event"):l.ag.get("concert.button.see_tickets");if((0,S.O1)(v))return n.createElement("div",{className:F},n.createElement(u.Dy,{as:"h3",variant:"canon"},l.ag.get("concert_event_ended")),n.createElement(u.Dy,{variant:"ballad"},n.createElement(I.Z,{to:"spotify:concerts"},l.ag.get("concert_past_message"))));return n.createElement("div",{className:F},n.createElement(u.Dy,{as:"h3",variant:"canon"},(()=>{if(f)return n.createElement(u.Dy,{as:"h3",variant:"canon"},c);const e=`https://maps.google.com/?q=${encodeURIComponent(`${c},${i}`)}&ll=${g},${E}`;return n.createElement(I.Z,{to:e,target:"_blank"},n.createElement(u.Dy,{as:"h3",variant:"canon"},`${c}, ${i}`))})()),n.createElement(u.Dy,{as:"h3",variant:"mesto",className:ce},(0,S.Ms)(v)," • ",(0,S.b8)(v)),n.createElement(u.Dy,{as:"h3",className:M,variant:"mesto"},N),y&&y.length>0&&n.createElement(u.Dy,{as:"h3",className:M,variant:"mesto"},y),n.createElement("div",{className:W},n.createElement(d.D,{colorSet:"invertedLight",draggable:!1,className:V,href:s,target:"_blank",onClick:function(){b({targetUri:p,intent:"find-concert",type:"click"})}},D),n.createElement(U.y,{menu:n.createElement(_,{uri:p})},n.createElement(h.z,{size:32,className:ee}))))},se=e=>{const{albums:t,artists:a}=e,r=t.reduce(((e,t)=>{const a=t.artistName;return e[a]?e[a].push(t):e[a]=[t],e}),{});return n.createElement("div",{className:te},a.map(((e,t)=>{const a=r[e.name]||[],c=a.length+2;let i=a.map(((t,a)=>n.createElement(E.r,g()({index:a,key:a},((e,t)=>({artists:[{uri:t,name:e.artistName}],images:[{url:e.imageUri,height:100,width:100}],name:e.name,uri:e.uri,sharingInfo:null,type:P.albumType.ALBUM}))(t,e.uri)))));return i=[null,n.createElement(A,{entity:e,headliner:0===t,key:`ConcertArtistCard-${e.id}`})].concat(i),n.createElement(v.ZP,{value:"headered-grid",index:t,key:t},n.createElement(C.P,{title:0===t?l.ag.get("concert_lineup"):"",total:c,seeAllUri:`${(0,T.GJ)(e.id)}:discography`,seeAllLabel:l.ag.get("artist-page.show-discography")},i))})))},oe=e=>{const t=e.upcomingConcerts;if(!t||t.length<1)return null;const a=t.map((e=>n.createElement(J.k,{entity:e,key:e.id})));return n.createElement("div",{className:re},n.createElement(v.ZP,{value:"headered-grid"},n.createElement(C.P,{title:l.ag.get("concerts_more_events"),total:t.length+1},n.createElement(q,null),a)))},me=e=>{const{concert:t,upcomingConcerts:a,artists:r,albums:c,color:i,headerImageUri:s,ticketAvailabilityTranslated:o}=e.concert,m=[{url:s,width:100,height:100}];(0,L.Y)(i);const u=(0,w.o)();const h="ONLINE"===t.category?l.ag.get("concert_find_virtual_event"):l.ag.get("concert.button.see_tickets");return n.createElement("section",{className:X},n.createElement(b.$,null,(0,S.Yl)(t)),n.createElement(N.gF,{backgroundImages:m,backgroundColor:i},n.createElement(N.sP,null,n.createElement(N.T0,null,n.createElement(le,t)),n.createElement(N.xd,null,(0,S.Yl)(t))),n.createElement(k.W,null,n.createElement("div",{className:ae},n.createElement(D.i,{text:(0,S.Yl)(t)}),n.createElement(I.Z,{draggable:!1,className:V,to:t.clickThruUrl,target:"_blank"},n.createElement(d.D,{colorSet:"invertedLight",className:ne,onClick:function(){u({targetUri:`spotify:concert:${t.id}`,intent:"find-concert",type:"click"})}},h))))),n.createElement("div",{className:K},n.createElement($.I,{backgroundColor:i}),n.createElement("div",{className:z},n.createElement(ie,g()({},t,{ticketAvailabilityTranslated:o})),n.createElement(se,{artists:r,albums:c}),n.createElement(oe,{upcomingConcerts:a}))))},ge=n.memo(me),ue=n.memo((()=>{const{concertId:e}=(0,c.UO)(),t=(0,r.I0)(),a=`spotify:concert:${e}`,m=(0,r.v9)((e=>(0,o.y)(a,e)));return(0,n.useEffect)((()=>{t((0,i.l$)(e))}),[t,e]),m?n.createElement(ge,{concert:m}):n.createElement(s.h,{hasError:!1,errorMessage:l.ag.get("concert.error.concert_not_found_title")})}))},9339:(e,t,a)=>{a.d(t,{Ms:()=>r,NL:()=>i,O1:()=>o,Yl:()=>u,b8:()=>c,cd:()=>s,ij:()=>d,lJ:()=>l});var n=a(20657);const r=e=>n.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),c=e=>n.ag.formatDate(e,{hour:"numeric",minute:"numeric"}),l=e=>n.ag.formatDate(e,{month:"short"}).toUpperCase(),i=e=>n.ag.formatDate(e,{month:"short",day:"numeric"}).toUpperCase(),s=e=>n.ag.formatDate(e,{weekday:"short"}),o=e=>e<new Date,m={row:{1:e=>n.ag.get("concert.header.entity_title_1",...e),2:e=>n.ag.get("concert.header.entity_title_2",...e),3:e=>n.ag.get("concert.header.entity_title_3",...e),4:e=>n.ag.get("concert.header.entity_title_4",...e),more:e=>n.ag.get("concert.header.entity_title_more",...e)},entity:{1:e=>n.ag.get("concert.header.upcoming_concert_title_1",...e),2:e=>n.ag.get("concert.header.upcoming_concert_title_2",...e),3:e=>n.ag.get("concert.header.upcoming_concert_title_3",...e),4:e=>n.ag.get("concert.header.upcoming_concert_title_4",...e),more:e=>n.ag.get("concert.header.upcoming_concert_title_more",...e)}},g=(e,t)=>{const a=m[t],n=(e=>{try{var t;return!e.title||!e.festival&&null!==(t=e.artists)&&void 0!==t&&t.length?{artists:e.artists.map((e=>e.name||e.profile.name))}:{title:e.title}}catch(e){return null}})(e);if(n){if(n.title)return n.title;if(n.artists)return n.artists.length>4?a.more(n.artists):a[n.artists.length](n.artists)}return""},u=e=>g(e,"row"),d=e=>g(e,"entity")},50458:(e,t,a)=>{function n(e,t){return t.concerts.all[e]||null}a.d(t,{y:()=>n})},34722:(e,t,a)=>{a.d(t,{B$:()=>l,GJ:()=>r,Hr:()=>n,qo:()=>c});const n=e=>e?e.reduce(((e,t)=>(e.push(t.releases.items[0]),e)),[]):[],r=e=>`spotify:app:artist:${e}`,c=e=>`spotify:artist:${e}`,l=(e,t,a)=>{var n,r;return{artists:[{uri:t,name:a}],images:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],name:e.name,uri:e.uri,year:null===(r=e.date)||void 0===r?void 0:r.year,type:e.type,sharingInfo:e.sharingInfo}}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map